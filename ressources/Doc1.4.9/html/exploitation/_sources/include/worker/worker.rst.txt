Storage Engine
**************

Nom de l'image docker : **worker**

Dans cette image est déployé le module worker


Configuration du worker
-----------------------

Dans **/vitam/conf** :

1. **worker.conf** : Fichier Yaml de configuration du server *worker*.  Il possède une propriété :

- **jettyConfig** : emplacement du ficher de configuration XML *jetty* (exemple jetty-config.xml)

- **registerServerHost** : le nom d'hote du serveur courant auquel le client worker chargé par le processing va se connecter (Exemple : localhost)

- **registerServerPort** : le port du serveur courant auquel le client worker chargé par le processing va se connecter (Exemple : 8082)

- **processingUrl** : URL d'accès au service distant *processing* (exemple http://localhost:8088)

- **urlWorkspace** : URL d'accès au service distant *workspace* (exemple http://localhost:8088)

- **urlMetadata** : URL d'accès au service distant *metadata* (exemple http://localhost:8088)

- **classificationLevel** :
  *allowList* : Les niveaux de classifications acceptés par la plateforme
  *authorizeNotDefined* : S'il est true, la plateforme accepte les AU sans niveau de confidentialité. S'il est false, la plateforme refuse les AU sans niveau de confidentialité.


2. **version.conf** : Fichier contenant la liste des version valides pour les SEDA. Il contient deux listes : une pour "binaryDataObjectVersions", une pour "physicalDataObjectVersions". 

3. **logbook-client.conf** : Fichier de configuration du client qui communique avec le **logbook**. Il contient les propriétés suivantes :

- **serverHost** : host distant du service logbook

- **serverPort** : port distant du service logbook

4. **storage-client.conf** : Fichier de configuration du client qui communique avec le **storage-engine**. Il contient les propriétés suivantes :

- **serverHost** : host distant du service storage-engine

- **serverPort** : port distant du service storage-engine

5. **server-identity.conf** : identification du serveur

6. **logback.xml** : configuration des logs

Supervision du service
----------------------

Contrôler le retour HTTP 200 et identité du serveur (cf *server-identity.conf*) sur l'URL ``<protocole web https ou https>://<host>:<port>/worker/v1/status``
