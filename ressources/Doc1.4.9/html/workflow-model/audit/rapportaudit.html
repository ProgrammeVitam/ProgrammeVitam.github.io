

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rapport d’audit &mdash; Documentation VITAM - Modèle de workflow 1.4.9</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Workflow de l’audit de cohérence des fichiers" href="workflow_audit_file_consistency.html" />
    <link rel="prev" title="Workflow de l’audit de l’existence et de l’intégrité des fichiers" href="workflow_audit_file_existing_integrity.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> VITAM - Modèle de workflow
          

          
            
            <img src="../_static/logo_vitam.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_toc.html">AUDIT</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="workflow-check-traceability.html">Workflow de contrôle d’intégrité d’un journal sécurisé</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow_audit_file_existing_integrity.html">Workflow de l’audit de l’existence et de l’intégrité des fichiers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Rapport d’audit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-rapport-d-audit-ko">Exemple de JSON : rapport d’audit KO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#partie-master">Partie «&nbsp;Master&nbsp;»</a></li>
<li class="toctree-l3"><a class="reference internal" href="#liste-des-operations-auditees-source">Liste des opérations auditées («&nbsp;source&nbsp;»)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#liste-des-anomalies-detectees-generant-un-ko-auditko">Liste des anomalies détectées générant un KO («&nbsp;auditKO&nbsp;»)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#liste-des-elements-singuliers-generant-un-avertissement-auditwarning">Liste des éléments singuliers générant un avertissement («&nbsp;auditWarning&nbsp;»)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow_audit_file_consistency.html">Workflow de l’audit de cohérence des fichiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapportauditconsistency.html">Rapport d’audit de cohérence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dip/_toc_dip.html">DIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ingests/_toc_ingest.html">INGEST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../masterdata/_toc.html">MASTERDATA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../traceability/_toc_traceability.html">TRACEABILITY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../update/_toc_update.html">UPDATE</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VITAM - Modèle de workflow</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_toc.html">AUDIT</a> &raquo;</li>
        
      <li>Rapport d’audit</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/audit/rapportaudit.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rapport-d-audit">
<h1>Rapport d’audit<a class="headerlink" href="#rapport-d-audit" title="Lien permanent vers ce titre">¶</a></h1>
<p>Le rapport d’audit est un fichier JSON généré par la solution logicielle Vitam lorsqu’une opération d’audit se termine. Cette section décrit la manière dont ce rapport est structuré.</p>
<div class="section" id="exemple-de-json-rapport-d-audit-ko">
<h2>Exemple de JSON : rapport d’audit KO<a class="headerlink" href="#exemple-de-json-rapport-d-audit-ko" title="Lien permanent vers ce titre">¶</a></h2>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
   <span class="nt">&quot;auditOperationId&quot;</span><span class="p">:</span> <span class="s2">&quot;aeeaaaaaakgtg6rzaahd4ak6od5brxaaaaaq&quot;</span><span class="p">,</span>
   <span class="nt">&quot;auditType&quot;</span><span class="p">:</span> <span class="s2">&quot;tenant&quot;</span><span class="p">,</span>
   <span class="nt">&quot;objectId&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
   <span class="nt">&quot;DateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-11T12:46:32.164&quot;</span><span class="p">,</span>
   <span class="nt">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;KO&quot;</span><span class="p">,</span>
   <span class="nt">&quot;outMessage&quot;</span><span class="p">:</span> <span class="s2">&quot;Echec de l&#39;audit&quot;</span><span class="p">,</span>
   <span class="nt">&quot;LastEvent&quot;</span><span class="p">:</span> <span class="s2">&quot;AUDIT_FILE_EXISTING&quot;</span><span class="p">,</span>
   <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;FRAN_NP_009913&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakeuctkoabjgkak6lowhh6yaaaaq&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;RATP&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakhu4m3aaaz2aak6loy4jxqaaaaq&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;RATP&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakhu4m3aaaz2aak6lo2shsiaaaaq&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;OBJ_KO&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakhfetkwabvlcak6lso7c7aaaaaq&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;PROD_AUDIT_KO_2OBJ_1GO&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakhfetkwabvlcak6lsvp75aaaaaq&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;PROD_OBJ_PHYSIQUE&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakfuavsrab2diak6mdzyw6aaaaaq&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;_tenant&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;SP_SANS_OBJ&quot;</span><span class="p">,</span>
         <span class="nt">&quot;evIdProc&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakfuavsrab2diak6mdz7rraaaaaq&quot;</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;auditKO&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="nt">&quot;IdOp&quot;</span><span class="p">:</span> <span class="s2">&quot;aeeaaaaaakgtg6rzaahd4ak6od5brxaaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;IdGOT&quot;</span><span class="p">:</span> <span class="s2">&quot;aebaaaaaaifemvtkabtmsak6lso7pdiaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;IdObj&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaafemvtkabtmsak6lso7pcyaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;Usage&quot;</span><span class="p">:</span> <span class="s2">&quot;BinaryMaster_1&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;OBJ_KO&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OutDetail&quot;</span><span class="p">:</span> <span class="s2">&quot;LFC.AUDIT_FILE_EXISTING.KO&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;IdOp&quot;</span><span class="p">:</span> <span class="s2">&quot;aeeaaaaaakgtg6rzaahd4ak6od5brxaaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;IdGOT&quot;</span><span class="p">:</span> <span class="s2">&quot;aebaaaaaaifemvtkabtmsak6lsvqfkiaaaba&quot;</span><span class="p">,</span>
         <span class="nt">&quot;IdObj&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaafemvtkabtmsak6lsvqflqaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;Usage&quot;</span><span class="p">:</span> <span class="s2">&quot;TextContent_1&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;PROD_AUDIT_KO_2OBJ_1GO&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OutDetail&quot;</span><span class="p">:</span> <span class="s2">&quot;LFC.AUDIT_FILE_EXISTING.KO&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="nt">&quot;IdOp&quot;</span><span class="p">:</span> <span class="s2">&quot;aeeaaaaaakgtg6rzaahd4ak6od5brxaaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;IdGOT&quot;</span><span class="p">:</span> <span class="s2">&quot;aebaaaaaaifemvtkabtmsak6lsvqfjiaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;IdObj&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaafemvtkabtmsak6lsvqfjaaaaaq&quot;</span><span class="p">,</span>
         <span class="nt">&quot;Usage&quot;</span><span class="p">:</span> <span class="s2">&quot;BinaryMaster_1&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;PROD_AUDIT_KO_2OBJ_1GO&quot;</span><span class="p">,</span>
         <span class="nt">&quot;OutDetail&quot;</span><span class="p">:</span> <span class="s2">&quot;LFC.AUDIT_FILE_EXISTING.KO&quot;</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;auditWarning&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;SP_SANS_OBJ&quot;</span>
   <span class="p">]</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="partie-master">
<h2>Partie «&nbsp;Master&nbsp;»<a class="headerlink" href="#partie-master" title="Lien permanent vers ce titre">¶</a></h2>
<p>La partie «&nbsp;master&nbsp;», c’est à dire le bloc à la racine du rapport (sans indentation) est composé des champs suivants :</p>
<ul class="simple">
<li>«&nbsp;tenant&nbsp;»: le tenant sur lequel l’opération d’audit a été lancée</li>
<li>«&nbsp;auditOperationId&nbsp;»: l’identifiant de l’opération d’audit</li>
<li>«&nbsp;auditType&nbsp;»: l’élément sur lequel l’audit a été lancé. Celui ci peut être par «&nbsp;tenant&nbsp;», ou par «&nbsp;originatingagency&nbsp;»</li>
<li>«&nbsp;objectId&nbsp;»: l’identifiant de l’élément (tenant ou service producteur)</li>
<li>«&nbsp;DateTime&nbsp;»: la date du rapport</li>
<li>«&nbsp;Status&nbsp;»: la statut final du rapport, OK (l’audit n’a pas détecté d’anomalie), Warning (l’audit a détecté quelque chose de singulier qui n’a pas été considéré comme une anomalie), KO (l’audit a détecté une anomalie)</li>
<li>«&nbsp;outMessage&nbsp;»: le message final de l’audit, repris du journal des opérations</li>
<li>«&nbsp;LastEvent&nbsp;»: la clé correspondant au type d’audit. Par exemple pour l’audit de l’existence des fichiers il s’agit de «&nbsp;AUDIT_FILE_EXISTING&nbsp;»</li>
</ul>
<p>Mais aussi :
- «&nbsp;source&nbsp;»: la liste des opérations auditées
- «&nbsp;auditKO&nbsp;»: la liste des anomalies détectées qui ont provoqué le KO de l’audit
- «&nbsp;auditWarning&nbsp;»: la liste des éléments singuliers détectés qui ont provoqué un warning de l’audit</p>
</div>
<div class="section" id="liste-des-operations-auditees-source">
<h2>Liste des opérations auditées («&nbsp;source&nbsp;»)<a class="headerlink" href="#liste-des-operations-auditees-source" title="Lien permanent vers ce titre">¶</a></h2>
<p>La liste des opérations auditées est une liste d’identifiant d’opérations d’ingest. Il s’agit des opérations à l’origine de la création des groupes d’objets qui ont été audités. Chaque groupe n’a par nature qu’une et une seule opération à l’origine de sa création. En partant de ces opérations, il est donc possible de retrouver l’ensemble des groupes d’objets qui ont été audités.</p>
<p>Au travers de ces identifiants d’opérations, cette liste recense exhaustivement les groupes d’objets audités et ne présume en rien le succès ou l’échec de l’audit par rapport à ceux-ci.</p>
<p>Cette partie est construite autour des champs suivants :</p>
<ul class="simple">
<li>«&nbsp;#tenant&nbsp;»: identifiant du tenant sur lequel l’opération s’est déroulée</li>
<li>«&nbsp;OriginatingAgency&nbsp;»: identifiant du service producteur relatif à cette opération</li>
<li>«&nbsp;evIdProc&nbsp;»: identifiant de l’opération étant à l’origine de la création du groupe d’objets audité</li>
</ul>
</div>
<div class="section" id="liste-des-anomalies-detectees-generant-un-ko-auditko">
<h2>Liste des anomalies détectées générant un KO («&nbsp;auditKO&nbsp;»)<a class="headerlink" href="#liste-des-anomalies-detectees-generant-un-ko-auditko" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette liste détaille l’ensemble des objets qui ont rencontré un KO lors de l’audit KO. Chaque objet possède son bloc, ayant les champs suivants :</p>
<ul class="simple">
<li>«&nbsp;IdOp&nbsp;»: identifiant de l’opération étant à l’origine de la création du groupe d’objets auquel appartient l’objet KO audité</li>
<li>«&nbsp;IdGOT&nbsp;»: identifiant du groupe d’objets audité, possédant l’objet KO</li>
<li>«&nbsp;IdObj&nbsp;»: identifiant de l’objet KO</li>
<li>«&nbsp;Usage&nbsp;»: usage de l’objet KO dans son groupe d’objets</li>
<li>«&nbsp;OriginatingAgency&nbsp;»: service producteur de référence de l’objet</li>
<li>«&nbsp;OutDetail&nbsp;»: clé correspondant à l’audit qui a déclenché le KO, reprise du journal des opérations. Par exemple pour un audit de l’existence des fichiers, la clé est «&nbsp;LFC.AUDIT_FILE_EXISTING.KO&nbsp;»</li>
</ul>
</div>
<div class="section" id="liste-des-elements-singuliers-generant-un-avertissement-auditwarning">
<h2>Liste des éléments singuliers générant un avertissement («&nbsp;auditWarning&nbsp;»)<a class="headerlink" href="#liste-des-elements-singuliers-generant-un-avertissement-auditwarning" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette liste décrit les identifiants des services producteurs ayant généré un avertissement. Dans le cas de l’audit de l’existence des fichiers, une alerte correspond au fait qu’un service producteur n’a aucun objet à auditer. Cette liste est donc l’ensemble des services producteurs concernés par l’audit mais dont il n’existe aucun objet à auditer.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="workflow_audit_file_consistency.html" class="btn btn-neutral float-right" title="Workflow de l’audit de cohérence des fichiers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="workflow_audit_file_existing_integrity.html" class="btn btn-neutral" title="Workflow de l’audit de l’existence et de l’intégrité des fichiers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.4.9',
              LANGUAGE:'fr',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>