

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Workflow de création de journal des cycles de vie sécurisé &mdash; documentation VITAM - Modèle de workflow 1.0.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Recherche" href="../search.html"/>
    <link rel="top" title="documentation VITAM - Modèle de workflow 1.0.0" href="../index.html"/>
        <link rel="up" title="TRACEABILITY" href="_toc_traceability.html"/>
        <link rel="next" title="Création de journal sécurisé des journaux des écritures sécurisés" href="workflow-traceability-storage.html"/>
        <link rel="prev" title="Workflow de création d’un journal sécurisé" href="workflow-traceability.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> VITAM - Modèle de workflow
          

          
            
            <img src="../_static/logo_vitam.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../audit/_toc_audit.html">AUDIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dip/_toc_dip.html">DIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ingest/_toc_ingest.html">INGEST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../masterdata/_toc_masterdata.html">MASTERDATA</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_toc_traceability.html">TRACEABILITY</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="workflow-traceability.html">Workflow de création d&#8217;un journal sécurisé</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Workflow de création de journal des cycles de vie sécurisé</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#processus-de-securisation-des-journaux-des-cycles-de-vie-vision-metier">Processus de sécurisation des journaux des cycles de vie (vision métier)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#securisation-des-journaux-du-cycle-de-vie-logbook-lc-securisation">Sécurisation des journaux du cycle de vie (LOGBOOK_LC_SECURISATION)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#preparation-des-listes-des-cycles-de-vie">Préparation des listes des cycles de vie</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow-traceability-storage.html">Création de journal sécurisé des journaux des écritures sécurisés</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../update/_toc_update.html">UPDATE</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">VITAM - Modèle de workflow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="_toc_traceability.html">TRACEABILITY</a> &raquo;</li>
      
    <li>Workflow de création de journal des cycles de vie sécurisé</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/traceability/workflow-traceability-lifecycle.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="workflow-de-creation-de-journal-des-cycles-de-vie-securise">
<h1>Workflow de création de journal des cycles de vie sécurisé<a class="headerlink" href="#workflow-de-creation-de-journal-des-cycles-de-vie-securise" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette section décrit le processus (workflow) permettant la sécurisation des journaux du cycle de vie mis en place dans la solution logicielle Vitam.
Le workflow mis en place dans la solution logicielle Vitam est défini dans le fichier &#8220;DefaultLifecycleTraceability.json&#8221;.
Ce fichier est disponible dans : sources/processing/processing-management/src/main/resources/workflows.</p>
</div>
<div class="section" id="processus-de-securisation-des-journaux-des-cycles-de-vie-vision-metier">
<h2>Processus de sécurisation des journaux des cycles de vie (vision métier)<a class="headerlink" href="#processus-de-securisation-des-journaux-des-cycles-de-vie-vision-metier" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le processus de sécurisation des journaux des cycles de vie consiste en la création d&#8217;un fichier .zip contenant l&#8217;ensemble des journaux du cycle de vie à sécuriser, ainsi que le tampon d&#8217;horodatage.</p>
<p>Ce fichier zip est ensuite enregistré sur les offres de stockage, en fonction de la stratégie de stockage.</p>
</div>
<div class="section" id="securisation-des-journaux-du-cycle-de-vie-logbook-lc-securisation">
<h2>Sécurisation des journaux du cycle de vie (LOGBOOK_LC_SECURISATION)<a class="headerlink" href="#securisation-des-journaux-du-cycle-de-vie-logbook-lc-securisation" title="Lien permanent vers ce titre">¶</a></h2>
<p>La fin du processus peut prendre plusieurs statuts :</p>
<ul>
<li><p class="first"><strong>Statuts</strong> :</p>
<ul>
<li><p class="first">OK : les journaux du cycle de vie ont été sécurisés (LOGBOOK_LC_SECURISATION.OK = Succès de la sécurisation des journaux du cycle de vie)</p>
<blockquote>
<div><ul class="simple">
<li>WARNING : il n&#8217;y pas de nouveaux journaux à sécuriser depuis la dernière sécurisation (LOGBOOK_LC_SECURISATION.WARNING = Avertissement lors de la sécurisation des journaux du cycle de vie)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">KO : pas de cas KO</p>
</li>
<li><p class="first">FATAL : une erreur technique est survenue lors de la sécurisation du journal des opérations (LOGBOOK_LC_SECURISATION.FATAL = Erreur fatale lors de la sécurisation des journaux du cycle de vie)</p>
</li>
</ul>
</li>
</ul>
<div class="section" id="preparation-des-listes-des-cycles-de-vie">
<h3>Préparation des listes des cycles de vie<a class="headerlink" href="#preparation-des-listes-des-cycles-de-vie" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><strong>Étape 1</strong> - STP_PREPARE_LC_TRACEABILITY -  distribution sur REF</li>
</ul>
<ul class="simple">
<li>Liste cycles de vie à sécuriser - PREPARE_LC_TRACEABILITY - fichier out : GUID/Operations/lastOperation.json &amp; Operations/traceabilityInformation.json<ul>
<li><strong>Type</strong> : bloquant</li>
<li><strong>Règle</strong> : récupération des journaux des cycles de vie à sécuriser et récupération des informations concernant les dernières opérations de sécurisation.</li>
<li><strong>Statuts</strong> :<ul>
<li>OK : les fichiers des cycles de vie ont été exportés (dans UnitsWithoutLevel et ObjectGroup) ainsi que les informations concernant les dernières opérations de sécurisation (PREPARE_LC_TRACEABILITY.OK=Succès du listage des journaux du cycle de vie)</li>
<li>KO : les informations sur la dernière opération de sécurisation n&#8217;ont pas pu être obtenues / exportées, ou un problème a été rencontré avec un cycle de vie (PREPARE_LC_TRACEABILITY.KO=Échec du listage des journaux du cycle de vie)</li>
<li>FATAL : une erreur technique est survenue (PREPARE_LC_TRACEABILITY.FATAL=Erreur fatale lors du listage des journaux du cycle de vie)</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="simple">
<li><strong>Étape 2</strong> - STP_OG_CREATE_SECURED_FILE -  distribution sur LIST - fichiers présents dans GUID/ObjectGroup</li>
</ul>
<ul class="simple">
<li>Traitement des cycles de vie groupe d&#8217;objets - OG_CREATE_SECURED_FILE<ul>
<li><strong>Type</strong> : bloquant</li>
<li><strong>Règle</strong> : application de l&#8217;algorithme pour créer les fichiers sécurisés des cycles de vie des groupes d&#8217;objets, journal par journal, et génèration du fichier sécurisé.</li>
<li><strong>Statuts</strong> :<ul>
<li>OK : le fichier sécurisé pour le cycle de vie en cours a été généré (STP_OG_CREATE_SECURED_FILE.OK=Succès du processus de sécurisation des groupes d&#8217;objets)</li>
<li>WARNING : il n&#8217;y a pas de nouveaux journaux à sécuriser (STP_OG_CREATE_SECURED_FILE.WARNING=Avertissement lors du du processus de sécurisation des groupes d&#8217;objets)</li>
<li>KO : le fichier pour le groupe d&#8217;objet n&#8217;a pas pu être trouvé (STP_OG_CREATE_SECURED_FILE.KO=Échec du processus de sécurisation des groupes d&#8217;objets)</li>
<li>FATAL : une erreur technique est survenue lors de la génération des fichiers sécurisés (STP_OG_CREATE_SECURED_FILE.FATAL=Erreur fatale lors du processus de sécurisation des groupes d&#8217;objets)</li>
</ul>
</li>
</ul>
</li>
<li>Vérification de la liste des éléments à traiter (OBJECTS_LIST_EMPTY)</li>
</ul>
<ul class="simple">
<li><strong>Type</strong> : non applicable</li>
<li><strong>Règle</strong> : vérification de la présence ou non d&#8217;objets à traiter. Cette action ne s&#8217;inscrit dans le journal des opérations uniquement dans les cas fatal et warning.</li>
<li><strong>Statuts</strong> :<ul>
<li>WARNING : il n&#8217;y a pas de nouveaux journaux à sécuriser (OBJECTS_LIST_EMPTY.WARNING = Avertissement lors de l&#8217;établissement de la liste des objets : il n&#8217;y a pas d&#8217;objet pour cette étape)</li>
<li>FATAL : une erreur technique est survenue lors de la génération des fichiers sécurisés (OBJECTS_LIST_EMPTY.FATAL = Erreur fatale lors de l&#8217;établissement de la liste des objets)</li>
</ul>
</li>
</ul>
<ul class="simple">
<li><strong>Étape 3</strong> - STP_UNITS_CREATE_SECURED_FILE -  distribution sur LIST - fichiers présents dans GUID/ObjectGroup</li>
</ul>
<ul class="simple">
<li>Traitement des cycles de vie pour les unités archivistiques - UNITS_CREATE_SECURED_FILE<ul>
<li><strong>Type</strong> : bloquant</li>
<li><strong>Règle</strong> : application de l&#8217;algorithme pour créer les fichiers sécurisés des cycles de vie des unités archivistiques, journal par journal, et génèration du fichier sécurisé.</li>
<li><strong>Statuts</strong> :<ul>
<li>OK : le fichier sécurisé pour le cycle de vie en cours a été généré (UNITS_CREATE_SECURED_FILE.OK=Succès du processus de sécurisation des journaux du cycle de vie des unités archivistiques)</li>
<li>WARNING : il n&#8217;y a pas de nouveaux journaux à sécuriser (STP_UNITS_CREATE_SECURED_FILE.WARNING = Avertissement lors du processus de sécurisation des unités archivistiques)</li>
<li>KO : le fichier pour le groupe d&#8217;objet n&#8217;a pas pu être trouvé (UNITS_CREATE_SECURED_FILE.KO=Échec du processus de sécurisation des journaux du cycle de vie des unités archivistiques)</li>
<li>FATAL : une erreur technique est survenue lors de la génération des fichiers sécurisés (UNITS_CREATE_SECURED_FILE.FATAL=Erreur fatale lors du processus de sécurisation des journaux du cycle de vie des unités archivistiques)</li>
</ul>
</li>
</ul>
</li>
<li>Vérification de la liste des éléments à traiter (OBJECTS_LIST_EMPTY)</li>
</ul>
<p>Il s&#8217;agit du même contrôle que l&#8217;étape 2</p>
<ul class="simple">
<li><strong>Étape 4</strong> - STP_GLOBAL_SECURISATION -  distribution sur REF</li>
</ul>
<ul class="simple">
<li>Finalisation de la sécurisation - FINALIZE_LC_TRACEABILITY - fichier présent dans : GUID/Operations/lastOperation.json &amp; Operations/traceabilityInformation.json<ul>
<li><strong>Type</strong> : bloquant</li>
<li><strong>Règle</strong> : récupération des différents fichiers générés aux étapes 2 et 3 puis calcul du tampon d&#8217;horodatage</li>
<li><strong>Statuts</strong> :<ul>
<li>OK : le fichier zip final a été créé et sauvegarder sur les offres de stockage (FINALIZE_LC_TRACEABILITY.OK=Succès de la sécurisation des journaux du cycle de vie)</li>
<li>KO : le fichier zip n&#8217;a pas pu être généré ou sauvegardé sur les offres (FINALIZE_LC_TRACEABILITY.KO=Échec de la sécurisation des journaux du cycle de vie)</li>
<li>FATAL : une erreur technique est survenue lors de la création du fichier zip final et de la sauvegarde sur les offres de stockage (FINALIZE_LC_TRACEABILITY.FATAL=Erreur fatale lors de la sécurisation des journaux du cycle de vie)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>D&#8217;une façon synthétique, le workflow est décrit de cette façon :</p>
<blockquote>
<div><div class="figure align-center" id="id1">
<img alt="../_images/workflow_lfc_traceability.png" src="../_images/workflow_lfc_traceability.png" />
<p class="caption"><span class="caption-text">Diagramme d&#8217;activité du workflow de sécurisation des cycles de vie</span></p>
</div>
</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="workflow-traceability-storage.html" class="btn btn-neutral float-right" title="Création de journal sécurisé des journaux des écritures sécurisés" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="workflow-traceability.html" class="btn btn-neutral" title="Workflow de création d’un journal sécurisé" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>