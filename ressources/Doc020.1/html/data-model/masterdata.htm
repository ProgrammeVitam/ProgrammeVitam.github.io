

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Base MasterData &mdash; documentation VITAM - Modèle de données 0.20.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Recherche" href="search.html"/>
    <link rel="top" title="documentation VITAM - Modèle de données 0.20.0" href="index.html"/>
        <link rel="next" title="5. Annexes" href="annexes.html"/>
        <link rel="prev" title="3. Base MetaData" href="metadata.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> VITAM - Modèle de données
          

          
            
            <img src="_static/LogoVitamGrand2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.20.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="logbook.html">2. Base Logbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">3. Base MetaData</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Base MasterData</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#collections-contenues-dans-la-base">4.1. Collections contenues dans la base</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collection-fileformat">4.2. Collection FileFormat</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-fileformat">4.2.1. Utilisation de la collection FileFormat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base">4.2.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-la-description-d-un-format-dans-le-xml-d-entree">4.2.3. Exemple de la description d&#8217;un format dans le XML d&#8217;entrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detail-des-champs-du-json-stocke-en-base">4.2.4. Détail des champs du JSON stocké en base</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-filerules">4.3. Collection FileRules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-filerules">4.3.1. Utilisation de la collection FileRules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">4.3.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structure-du-fichier-d-import">4.3.3. Structure du fichier d&#8217;import</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detail-des-champs">4.3.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-ingestcontract">4.4. Collection IngestContract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection">4.4.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">4.4.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-contrat">4.4.3. Exemple d&#8217;un fichier d&#8217;import de contrat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">4.4.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-accesscontract">4.5. Collection AccessContract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">4.5.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">4.5.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-contrat-d-acces">4.5.3. Exemple d&#8217;un fichier d&#8217;import de contrat d&#8217;accès</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">4.5.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-profile">4.6. Collection Profile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">4.6.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">4.6.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-profils">4.6.3. Exemple d&#8217;un fichier d&#8217;import de profils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">4.6.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-context">4.7. Collection Context</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">4.7.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">4.7.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">4.7.3. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-accessionregistersummary">4.8. Collection AccessionRegisterSummary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">4.8.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">4.8.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-la-description-dans-le-xml-d-entree">4.8.3. Exemple de la description dans le XML d&#8217;entrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">4.8.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-accessionregisterdetail">4.9. Collection AccessionRegisterDetail</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">4.9.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">4.9.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">4.9.3. Exemple de la description dans le XML d&#8217;entrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">4.9.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-vitamsequence">4.10. Collection VitamSequence</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-collection">4.10.1. Utilisation de collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">4.10.2. Exemple de JSON stocké en base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">4.10.3. Détail des champs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="annexes.html">5. Annexes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">VITAM - Modèle de données</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>4. Base MasterData</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/masterdata.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="base-masterdata">
<h1>4. Base MasterData<a class="headerlink" href="#base-masterdata" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="collections-contenues-dans-la-base">
<h2>4.1. Collections contenues dans la base<a class="headerlink" href="#collections-contenues-dans-la-base" title="Lien permanent vers ce titre">¶</a></h2>
<p>La base Masterdata contient les collections relatives aux référentiels utilisés par la solution logicielle Vitam.</p>
</div>
<div class="section" id="collection-fileformat">
<h2>4.2. Collection FileFormat<a class="headerlink" href="#collection-fileformat" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-fileformat">
<h3>4.2.1. Utilisation de la collection FileFormat<a class="headerlink" href="#utilisation-de-la-collection-fileformat" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection FileFormat permet de référencer et décrire les différents formats de fichiers ainsi que leur description. La collection est initialisée à partir de l&#8217;import du fichier de signature PRONOM, mis à disposition par The National Archive (UK).</p>
</div>
<div class="section" id="exemple-de-json-stocke-en-base">
<h3>4.2.2. Exemple de JSON stocké en base<a class="headerlink" href="#exemple-de-json-stocke-en-base" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaahbl62nabduoak3jc2zqciaadiq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreatedDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-09-27T15:37:53&quot;</span><span class="p">,</span>
  <span class="s2">&quot;VersionPronom&quot;</span><span class="p">:</span> <span class="s2">&quot;88&quot;</span><span class="p">,</span>
   <span class="s2">&quot;PUID&quot;</span><span class="p">:</span> <span class="s2">&quot;fmt/961&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Mobile eXtensible Music Format&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Extension&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;mxmf&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;HasPriorityOverFileFormatID&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;fmt/714&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;MIMEType&quot;</span><span class="p">:</span> <span class="s2">&quot;audio/mobile-xmf&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Group&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Alert&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;Comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-de-la-description-d-un-format-dans-le-xml-d-entree">
<h3>4.2.3. Exemple de la description d&#8217;un format dans le XML d&#8217;entrée<a class="headerlink" href="#exemple-de-la-description-d-un-format-dans-le-xml-d-entree" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ci-après, la portion d&#8217;un fichier de signature (DROID_SignatureFile_VXX.xml) utilisée pour renseigner les champ du JSON</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FileFormat</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;105&quot;</span> <span class="n">MIMEType</span><span class="o">=</span><span class="s2">&quot;application/msword&quot;</span> <span class="n">Name</span><span class="o">=</span><span class="s2">&quot;Microsoft Word for Macintosh Document&quot;</span> <span class="n">PUID</span><span class="o">=</span><span class="s2">&quot;x-fmt/64&quot;</span> <span class="n">Version</span><span class="o">=</span><span class="s2">&quot;4.0&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span><span class="mi">486</span><span class="o">&lt;/</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">mcw</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">FileFormat</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="detail-des-champs-du-json-stocke-en-base">
<h3>4.2.4. Détail des champs du JSON stocké en base<a class="headerlink" href="#detail-des-champs-du-json-stocke-en-base" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique du format dans la solution logicielle Vitam.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères composée de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;CreatedDate&#8221;: date de création de la version du fichier de signatures PRONOM utilisé pour initialiser la collection.</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;VersionPronom&#8221;: numéro de version du fichier de signatures PRONOM utilisé.</dt>
<dd>Il s&#8217;agit d&#8217;un entier.
Le numéro de version de PRONOM est à l&#8217;origine déclaré dans le fichier de signature au niveau de la balise &lt;FFSignatureFile&gt; au niveau de l&#8217;attribut &#8220;version &#8221;.</dd>
</dl>
<p>Dans cet exemple, le numéro de version est 88 :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FFSignatureFile</span> <span class="n">DateCreated</span><span class="o">=</span><span class="s2">&quot;2016-09-27T15:37:53&quot;</span> <span class="n">Version</span><span class="o">=</span><span class="s2">&quot;88&quot;</span> <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.nationalarchives.gov.uk/pronom/SignatureFile&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>&#8220;MIMEType&#8221;: MIMEtype correspondant au format de fichier.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
Elle est renseignée avec le contenu de l&#8217;attribut &#8220;MIMEType&#8221; de la balise &lt;FileFormat&gt;. Cet attribut est facultatif dans le fichier de signature.</dd>
</dl>
<p><strong>&#8220;HasPriorityOverFileFormatID&#8221;</strong>: liste des PUID des formats sur lesquels le format a la priorité.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">HasPriorityOverFileFormatID</span><span class="o">&gt;</span><span class="mi">1121</span><span class="o">&lt;/</span><span class="n">HasPriorityOverFileFormatID</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Cet ID est ensuite utilisé dans Vitam pour retrouver le PUID correspondant.</dt>
<dd>S&#8217;il existe plusieurs balises &lt;HasPriorityOverFileFormatID&gt; dans le fichier xml initial pour un format donné, alors les PUID seront stocké dans le JSON sous la forme suivante :</dd>
</dl>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;HasPriorityOverFileFormatID&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;fmt/714&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fmt/715&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fmt/716&quot;</span>
<span class="p">],</span>
</pre></div>
</div>
<dl class="docutils">
<dt>&#8220;PUID&#8221;: identifiant unique du format au sein du référentiel PRONOM.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
Il est issu du champ &#8220;PUID&#8221; de la balise &lt;FileFormat&gt;. La valeur est composée du préfixe &#8220;fmt&#8221; ou &#8220;x-fmt&#8221;, puis d&#8217;un nombre correspondant au numéro d&#8217;entrée du format dans le référentiel PRONOM. Les deux éléments sont séparés par un &#8220;/&#8221;</dd>
</dl>
<p>Par exemple</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">-</span><span class="n">fmt</span><span class="o">/</span><span class="mi">64</span>
</pre></div>
</div>
<p>Les PUID comportant un préfixe &#8220;x-fmt&#8221; indiquent que ces formats sont en cours de validation par The National Archives (UK). Ceux possédant un préfixe &#8220;fmt&#8221; sont validés.</p>
<dl class="docutils">
<dt>&#8220;Version&#8221;: version du format.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
</dl>
<p>Exemples de formats :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Version</span><span class="o">=</span><span class="s2">&quot;3D Binary Little Endian 2.0&quot;</span>
<span class="n">Version</span><span class="o">=</span><span class="s2">&quot;2013&quot;</span>
<span class="n">Version</span><span class="o">=</span><span class="s2">&quot;1.5&quot;</span>
</pre></div>
</div>
<p>L&#8217;attribut &#8220;version&#8221; n&#8217;est pas obligatoire dans la balise &lt;fileformat&gt; du fichier de signature.</p>
<dl class="docutils">
<dt>&#8220;Name&#8221;: nom du format.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
Le nom du format est issu de la valeur de l&#8217;attribut &#8220;Name&#8221; de la balise &lt;FileFormat&gt; du fichier de signature.</dd>
<dt>&#8220;Extension&#8221;: Extension(s) du format.</dt>
<dd>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.
Il contient les valeurs situées entre les balises &lt;Extension&gt; elles-mêmes encapsulées entre les balises &lt;FileFormat&gt;. Le champ &lt;Extension&gt; peut-être multivalué. Dans ce cas, les différentes valeurs situées entre les différentes balises &lt;Extensions&gt; sont placées dans le tableau et séparées par une virgule.</dd>
</dl>
<p>Par exemple, pour le format dont le PUID est : fmt/918 on la XML suivant :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FileFormat</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;1723&quot;</span> <span class="n">Name</span><span class="o">=</span><span class="s2">&quot;AmiraMesh&quot;</span> <span class="n">PUID</span><span class="o">=</span><span class="s2">&quot;fmt/918&quot;</span> <span class="n">Version</span><span class="o">=</span><span class="s2">&quot;3D ASCII 2.0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span><span class="mi">1268</span><span class="o">&lt;/</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">am</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">amiramesh</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">hx</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">FileFormat</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Les valeurs des balises &lt;Extensions&gt; seront stockées de la façon suivante dans le JSON :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;Extension&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="s2">&quot;am&quot;</span><span class="p">,</span>
     <span class="s2">&quot;amiramesh&quot;</span><span class="p">,</span>
     <span class="s2">&quot;hx&quot;</span>
 <span class="p">],</span>
</pre></div>
</div>
<dl class="docutils">
<dt>&#8220;Alert&#8221;: alerte sur l&#8217;obsolescence du format.</dt>
<dd>Il s&#8217;agit d&#8217;un booléen dont la valeur est par défaut placée à false.</dd>
<dt>&#8220;Comment&#8221;: commentaire.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
C&#8217;est un champ propre à la solution logicielle Vitam.</dd>
<dt>&#8220;Group&#8221;: Champ permettant d&#8217;indiquer le nom d&#8217;une famille de format.</dt>
<dd><blockquote class="first">
<div>Il s&#8217;agit d&#8217;une chaîne de caractères.</div></blockquote>
<p class="last">C&#8217;est un champ propre à la solution logicielle Vitam.</p>
</dd>
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-filerules">
<h2>4.3. Collection FileRules<a class="headerlink" href="#collection-filerules" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-filerules">
<h3>4.3.1. Utilisation de la collection FileRules<a class="headerlink" href="#utilisation-de-la-collection-filerules" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection FileRules permet de stocker unitairement les différentes règles de gestion utilisées dans la solution logicielle Vitam pour calculer les échéances associées aux unités archivistiques.</p>
<p>Cette collection est alimentée par l&#8217;import d&#8217;un fichier CSV contenant l&#8217;ensemble des règles.</p>
</div>
<div class="section" id="id1">
<h3>4.3.2. Exemple de JSON stocké en base<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaahbl62nabduoak3jc4avsyaaaha&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;RuleId&quot;</span><span class="p">:</span> <span class="s2">&quot;ACC-00011&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleType&quot;</span><span class="p">:</span> <span class="s2">&quot;AccessRule&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleValue&quot;</span><span class="p">:</span> <span class="s2">&quot;Communicabilité des informations portant atteinte au secret de la défense nationale&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleDescription&quot;</span><span class="p">:</span> <span class="s2">&quot;Durée de communicabilité applicable aux informations portant atteinte au secret de la défense nationale</span><span class="se">\n</span><span class="s2">L’échéance est calculée à partir de la date du document ou du document le plus récent inclus dans le dossier&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleDuration&quot;</span><span class="p">:</span> <span class="s2">&quot;50&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleMeasurement&quot;</span><span class="p">:</span> <span class="s2">&quot;YEAR&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-07&quot;</span><span class="p">,</span>
  <span class="s2">&quot;UpdateDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-07&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="structure-du-fichier-d-import">
<h3>4.3.3. Structure du fichier d&#8217;import<a class="headerlink" href="#structure-du-fichier-d-import" title="Lien permanent vers ce titre">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RuleId</th>
<th class="head">RuleType</th>
<th class="head">RuleValue</th>
<th class="head">RuleDescription</th>
<th class="head">RuleDuration</th>
<th class="head">RuleMeasurement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Id de la règle</td>
<td>Type de règle</td>
<td>Intitulé de la règle</td>
<td>Description de la règle</td>
<td>Durée</td>
<td>Unité de mesure de la durée</td>
</tr>
</tbody>
</table>
<p>La liste des type de règles disponibles est en annexe 5.4.</p>
<dl class="docutils">
<dt>Les valeurs renseignées dans la colonne unité de mesure doivent correspondre à une valeur de l&#8217;énumération RuleMeasurementEnum, à savoir :</dt>
<dd><ul class="first last simple">
<li>MONTH</li>
<li>DAY</li>
<li>YEAR</li>
<li>SECOND</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="detail-des-champs">
<h3>4.3.4. Détail des champs<a class="headerlink" href="#detail-des-champs" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique par tenant de la règle de gestion.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères composée de 36 caractères correspondant à une GUID.</dd>
<dt>&#8220;RuleId&#8221;: identifiant unique par tenant de la règle dans le référentiel utilisé.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
La valeur est reprise du champs RuleId du fichier d&#8217;import. Par commodité, les exemples sont composés d&#8217;un préfixe puis d&#8217;une nombre, séparés par un tiret, mais ce formalisme n&#8217;est pas obligatoire.</dd>
</dl>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ACC</span><span class="o">-</span><span class="mi">00027</span>
</pre></div>
</div>
<p>Les préfixes indiquent le type de règle dont il s&#8217;agit. La liste des valeurs pouvant être utilisées comme préfixes ainsi que les types de règles auxquelles elles font référence sont disponibles en annexe.</p>
<dl class="docutils">
<dt>&#8220;RuleType&#8221;: <em>Champ obligatoire</em> Type de règle.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
Il correspond à la valeur située dans la colonne RuleType du fichier d&#8217;import. Les valeurs possibles pour ce champ sont indiquées en annexe.</dd>
<dt>&#8220;RuleValue&#8221;: <em>Champ obligatoire</em> Intitulé de la règle.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
Elle correspond à la valeur de la colonne RuleValue du fichier d&#8217;import.</dd>
<dt>&#8220;RuleDescription&#8221;: description de la règle.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.
Elle correspond à la valeur de la colonne RuleDescriptionRule du fichier d&#8217;import.</dd>
<dt>&#8220;RuleDuration&#8221;: <em>Champ obligatoire</em> Durée de la règle.</dt>
<dd>Il s&#8217;agit d&#8217;un entier compris entre 0 et 9999.
Associé à la valeur indiqué dans RuleMeasurement, il permet de décrire la durée d&#8217;application de la règle de gestion. Il correspond à la valeur de la colonne RuleDuration du fichier d&#8217;import.</dd>
<dt>&#8220;RuleMeasurement&#8221;: <em>Champ obligatoire</em> Unité de mesure de la durée décrite dans la colonne RuleDuration du fichier d&#8217;import.</dt>
<dd><dl class="first last docutils">
<dt>Il s&#8217;agit d&#8217;une chaîne de caractères devant correspondre à une valeur de l&#8217;énumération RuleMeasurementEnum, à savoir :</dt>
<dd><ul class="first last simple">
<li>MONTH</li>
<li>DAY</li>
<li>YEAR</li>
<li>SECOND</li>
</ul>
</dd>
</dl>
</dd>
<dt>&#8220;CreationDate&#8221;: date de création de la règle dans la collection FileRule.</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO8601 AAAA-MM-JJ+&#8221;T&#8221;+hh:mm:ss:[3digits de millisecondes]
<code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;2016-08-17T08:26:04.227&quot;</span></code></dd>
<dt>&#8220;UpdateDate&#8221;: Date de dernière mise à jour de la règle dans la collection FileRules.</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO8601 AAAA-MM-JJ+&#8221;T&#8221;+hh:mm:ss:[3digits de millisecondes]
<code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;2016-08-17T08:26:04.227&quot;</span></code></dd>
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit.</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-ingestcontract">
<h2>4.4. Collection IngestContract<a class="headerlink" href="#collection-ingestcontract" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection">
<h3>4.4.1. Utilisation de la collection<a class="headerlink" href="#utilisation-de-la-collection" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection IngestContract permet de référencer et décrire unitairement les contrats d&#8217;entrée.</p>
</div>
<div class="section" id="id2">
<h3>4.4.2. Exemple de JSON stocké en base<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aefqaaaaaahbl62nabkzgak3k6qtf3aaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;SIA archives nationales&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;IC-000012&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Contrat d&#39;accès - SIA archives nationales&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
  <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
  <span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;ArchiveProfiles&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;ArchiveProfile8&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;FilingParentId&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaqaaaaaagbcaacaax56ak35rpo6zqaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-contrat">
<h3>4.4.3. Exemple d&#8217;un fichier d&#8217;import de contrat<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-contrat" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les contrats d&#8217;entrée sont importés dans la solution logicielle Vitam sous la forme d&#8217;un fichier JSON.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Contrat Archives Départementales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Test entrée - Contrat Archives Départementales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Status&quot;</span> <span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Contrat Archives Nationales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Test entrée - Contrat Archives Nationales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Status&quot;</span> <span class="p">:</span> <span class="s2">&quot;INACTIVE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ArchiveProfiles&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;ArchiveProfile8&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;FilingParentId&quot;</span> <span class="p">:</span> <span class="s2">&quot;aeaqaaaaaahkwxukabcg2ak4u2qq7eaaaaaq&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un contrat sont :</p>
<ul class="simple">
<li>Name</li>
<li>Description</li>
</ul>
<p>Un fichier d&#8217;import peut décrire plusieurs contrats.</p>
</div>
<div class="section" id="id3">
<h3>4.4.4. Détail des champs<a class="headerlink" href="#id3" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique par tenant.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;_tenant&#8221;: information sur le tenant.</dt>
<dd>Il s&#8217;agit de l&#8217;identifiant du tenant.</dd>
<dt>&#8220;Name&#8221;: <em>Champ obligatoire</em> Nom du contrat d&#8217;entrée, unique par tenant.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Identifier&#8221;: <em>Champ obligatoire</em> Identifiant signifiant donné au contrat.</dt>
<dd>Il est constitué du préfixe &#8220;IC-&#8221; suivi d&#8217;une suite de 6 chiffres. Par exemple : IC-007485.
Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Description&#8221;: description du contrat d&#8217;entrée.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Status&#8221;: statut du contrat.</dt>
<dd>Peut être ACTIVE ou INACTIVE</dd>
<dt>&#8220;CreationDate&#8221;: date de création du contrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;LastUpdate&#8221;: date de dernière mise à jour du contrat dans la collection IngestContract.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;ActivationDate&#8221;: date d&#8217;activation du contrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;DeactivationDate&#8221;: date de désactivation du contrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;ArchiveProfiles&#8221;: liste des profils d&#8217;archivage pouvant être utilisés par le contrat d&#8217;entrée.</dt>
<dd>Tableau de chaînes de caractères correspondant à la valeur du champ Identifier de la collection Profile.</dd>
<dt>&#8220;FilingParentId&#8221;: point de rattachement automatique des SIP en application de ce contrat correspondant à l&#8217;id d’une unité archivistique dans le plan de classement</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID dans le champ _id de la collection Unit.</dd>
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-accesscontract">
<h2>4.5. Collection AccessContract<a class="headerlink" href="#collection-accesscontract" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id4">
<h3>4.5.1. Utilisation de la collection<a class="headerlink" href="#id4" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection AccessContract permet de référencer et de décrire unitairement les contrats d&#8217;accès.</p>
</div>
<div class="section" id="id5">
<h3>4.5.2. Exemple de JSON stocké en base<a class="headerlink" href="#id5" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aefqaaaaaahbl62nabkzgak3k6qtf3aaaaaq&quot;</span><span class="p">,</span>
<span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;SIA archives nationales&quot;</span><span class="p">,</span>
<span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;AC-000009&quot;</span><span class="p">,</span>
<span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Contrat d&#39;accès - SIA archives nationales&quot;</span><span class="p">,</span>
<span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
<span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
<span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
<span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
<span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
<span class="s2">&quot;OriginatingAgencies&quot;</span><span class="p">:[</span><span class="s2">&quot;FRA-56&quot;</span><span class="p">,</span><span class="s2">&quot;FRA-47&quot;</span><span class="p">],</span>
<span class="s2">&quot;DataObjectVersion&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;PhysicalMaster&quot;</span><span class="p">,</span> <span class="s2">&quot;BinaryMaster&quot;</span><span class="p">,</span> <span class="s2">&quot;Dissemination&quot;</span><span class="p">,</span> <span class="s2">&quot;Thumbnail&quot;</span><span class="p">,</span> <span class="s2">&quot;TextContent&quot;</span><span class="p">],</span>
<span class="s2">&quot;WritingPermission&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
<span class="s2">&quot;EveryOriginatingAgency&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
<span class="s2">&quot;EveryDataObjectVersion&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
<span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-contrat-d-acces">
<h3>4.5.3. Exemple d&#8217;un fichier d&#8217;import de contrat d&#8217;accès<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-contrat-d-acces" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les contrats d&#8217;entrée sont importés dans la solution logicielle Vitam sous la forme d&#8217;un fichier Json.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Archives du Doubs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Accès Archives du Doubs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Status&quot;</span> <span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span><span class="s2">&quot;10/12/2016&quot;</span><span class="p">,</span>
        <span class="s2">&quot;OriginatingAgencies&quot;</span><span class="p">:[</span><span class="s2">&quot;FRA-56&quot;</span><span class="p">,</span><span class="s2">&quot;FRA-47&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Archives du Calvados&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Accès Archives du Calvados&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Status&quot;</span> <span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span><span class="s2">&quot;10/12/2016&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span><span class="s2">&quot;10/12/2016&quot;</span><span class="p">,</span>
        <span class="s2">&quot;OriginatingAgencies&quot;</span><span class="p">:[</span><span class="s2">&quot;FRA-54&quot;</span><span class="p">,</span><span class="s2">&quot;FRA-64&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un contrat sont :</p>
<ul class="simple">
<li>Name</li>
<li>Description</li>
</ul>
<p>Un fichier d&#8217;import peut décrire plusieurs contrats.</p>
</div>
<div class="section" id="id6">
<h3>4.5.4. Détail des champs<a class="headerlink" href="#id6" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique par tenant.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;_tenant&#8221;: information sur le tenant.</dt>
<dd>Il s&#8217;agit de l&#8217;identifiant du tenant.</dd>
<dt>&#8220;Name&#8221;: <em>Champ obligatoire</em> Nom du contrat d&#8217;entrée unique par tenant.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Identifier&#8221;: identifiant signifiant donné au contrat.</dt>
<dd>Il est consituté du préfixe &#8220;AC-&#8221; suivi d&#8217;une suite de 6 chiffres. Par exemple : AC-001223.
Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Description&#8221;: <em>Champ obligatoire</em> Description du contrat d&#8217;accès.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Status&#8221;: statut du contrat.</dt>
<dd>Peut être ACTIVE ou INACTIVE</dd>
<dt>&#8220;CreationDate&#8221;: date de création du contrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;LastUpdate&#8221;: date de dernière mise à jour du contrat dans la collection AccesContrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;ActivationDate&#8221;: date d&#8217;activation du contrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;DeactivationDate&#8221;: date de désactivation du contrat.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;OriginatingAgencies&#8221;: services producteurs pour lesquels le détenteur du contrat peut consulter les archives.</dt>
<dd>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</dd>
<dt>&#8220;DataObjectVersion&#8221;: usages d&#8217;un groupe d&#8217;objet auxquels le détenteur d&#8217;un contrat a access.</dt>
<dd>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</dd>
<dt>&#8220;WritingPermission&#8221;: droit d&#8217;écriture.</dt>
<dd>Peut être true ou false. S&#8217;il est true, le détenteur du contrat peut effectuer des mises à jour.</dd>
<dt>&#8220;EveryOriginatingAgency&#8221;: droit de consultation sur tous les services producteurs.</dt>
<dd>Il s&#8217;agit d&#8217;un booléen.
Si la valeur est à true, alors le détenteur du contrat peut accéder aux archives de tous les services producteurs.</dd>
<dt>&#8220;EveryDataObjectVersion&#8221;: droit de consultation sur tous les usages.</dt>
<dd>Il s&#8217;agit d&#8217;un booléen.
Si la valeur est à true, alors le détenteur du contrat peut accéder à tous les types d&#8217;usages.</dd>
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-profile">
<h2>4.6. Collection Profile<a class="headerlink" href="#collection-profile" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id7">
<h3>4.6.1. Utilisation de la collection<a class="headerlink" href="#id7" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection Profile permet de référencer et décrire unitairement les profils SEDA.</p>
</div>
<div class="section" id="id8">
<h3>4.6.2. Exemple de JSON stocké en base<a class="headerlink" href="#id8" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aegaaaaaaehlfs7waax4iak4f52mzriaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;PR-000003&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;ArchiveProfile0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;aDescription of the Profile&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;XSD&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-22T09:23:33.637&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;Path&quot;</span><span class="p">:</span> <span class="s2">&quot;1_profile_aegaaaaaaehlfs7waax4iak4f52mzriaaaaq_20170522_092333.xsd&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-profils">
<h3>4.6.3. Exemple d&#8217;un fichier d&#8217;import de profils<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-profils" title="Lien permanent vers ce titre">¶</a></h3>
<p>Un fichier d&#8217;import peut décrire plusieurs profils.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;ArchiveProfile0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Description of the Profile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span><span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Format&quot;</span><span class="p">:</span><span class="s2">&quot;XSD&quot;</span>
  <span class="p">},</span>
    <span class="p">{</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;ArchiveProfile1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Description of the profile 2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span><span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Format&quot;</span><span class="p">:</span><span class="s2">&quot;RNG&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un contrat sont :</p>
<ul class="simple">
<li>Name</li>
<li>Description</li>
<li>Format</li>
</ul>
</div>
<div class="section" id="id9">
<h3>4.6.4. Détail des champs<a class="headerlink" href="#id9" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;_tenant&#8221;: identifiant du tenant.</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
<dt>&#8220;Identifier&#8221;: Indique l&#8217;identifiant signifiant du profil SEDA.</dt>
<dd>Il est consituté du préfixe &#8220;PR-&#8221; suivi d&#8217;une suite de 6 chiffres. Par exemple : PR-001573.
Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Name&#8221;: <em>Champ obligatoire</em> Indique le nom du profil SEDA.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères unique par tenant.</dd>
<dt>&#8220;Description&#8221;: <em>Champ obligatoire</em> Description du profil SEDA.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Status&#8221;: Indique l&#8217;état du profil SEDA.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères devant correspondre à une valeur de l&#8217;énuméartion ProfileStatus, soit ACTIVE soit INACTIVE.</dd>
<dt>&#8220;Format&#8221;: <em>Champ obligatoire</em> Indique le format attendu pour le fichier décrivant les règles du profil d&#8217;archivage.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères devant correspondre à l&#8217;énumération ProfileFormat.</dd>
<dt>&#8220;CreationDate&#8221;: date de création du profil SEDA.</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;LastUpdate&#8221;: date de dernière modification du profil SEDA dans la collection profile..</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;ActivationDate&#8221;: date d&#8217;activation du profil SEDA.</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;DeactivationDate&#8221;: date de désactivation du profil SEDA.</dt>
<dd>Il s&#8217;agit d&#8217;une date au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
<dt>&#8220;Path&#8221;: Indique le chemin pour accéder au fichier du profil d&#8217;archivage.</dt>
<dd>Chaîne de caractères.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-context">
<h2>4.7. Collection Context<a class="headerlink" href="#collection-context" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id10">
<h3>4.7.1. Utilisation de la collection<a class="headerlink" href="#id10" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection Context permet de stocker unitairement les contextes applicatifs</p>
</div>
<div class="section" id="id11">
<h3>4.7.2. Exemple de JSON stocké en base<a class="headerlink" href="#id11" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aegqaaaaaahkwxukabjosak4rp3kqkaaaaaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Contexte pour application 1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;Permissions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;AC-000017&quot;</span><span class="p">,</span>
                <span class="s2">&quot;AC-000060&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;IC-000060&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;CT-000001&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Il est possible de mettre plusieurs contextes dans un même fichier, sur le même modèle que les contrats d&#8217;entrées ou d&#8217;accès par exemple. On pourra noter que le contexte est multi-tenant et définit chaque tenant de manière indépendante.</p>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un contexte sont :</p>
<ul class="simple">
<li>Name</li>
<li>Permissions. La valeur de Permissions peut cependant être vide : &#8220;Permissions : []&#8221;</li>
</ul>
</div>
<div class="section" id="id12">
<h3>4.7.3. Détail des champs<a class="headerlink" href="#id12" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique dans l&#8217;ensemble du système.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères,.</dd>
<dt>&#8220;Name&#8221;: <em>Champ obligatoire</em> nom du contexte, qui doit être unique sur la plateforme.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Identifier&#8221;: identifiant signifiant donné au contexte.</dt>
<dd>Il est consituté du préfixe &#8220;CT-&#8221; suivi d&#8217;une suite de 6 chiffres. Par exemple : CT-001573.
Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
</dl>
<p>&#8220;Status&#8221;: statut du contexte. Il peut être &#8220;true&#8221; ou &#8220;false&#8221; et a la valeur par défaut : &#8220;false&#8221;. Selon son statut :</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;true&#8221; : le contexte est actif</li>
<li>&#8220;false&#8221; : le contexte est inactif</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>&#8220;Permissions&#8221;: <em>Champ obligatoire</em> Début du bloc appliquant les permissions à chaque tenant.</dt>
<dd>C&#8217;est un mot clé qui n&#8217;a pas de valeur associée.</dd>
<dt>&#8220;_tenant&#8221;: information sur le tenant.</dt>
<dd>Il s&#8217;agit de l&#8217;identifiant du tenant dans lequel vont s&#8217;appliquer des permissions.</dd>
</dl>
<p>&#8220;AccessContracts&#8221;: tableau d&#8217;identifiants de contrats d&#8217;accès appliqués sur le tenant.</p>
<p>&#8220;IngestContracts&#8221;: tableau d&#8217;identifiants de contrats d&#8217;entrées appliqués sur le tenant.</p>
<dl class="docutils">
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-accessionregistersummary">
<h2>4.8. Collection AccessionRegisterSummary<a class="headerlink" href="#collection-accessionregistersummary" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id13">
<h3>4.8.1. Utilisation de la collection<a class="headerlink" href="#id13" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection contient une vue macroscopique des fonds pris en charge dans la solution logicielle Vitam.</p>
</div>
<div class="section" id="id14">
<h3>4.8.2. Exemple de JSON stocké en base<a class="headerlink" href="#id14" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aefaaaaaaahkkoiuabp4sak3mmoj5vaaaaaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;Vitam&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TotalObjects&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">27</span>
    <span class="p">},</span>
    <span class="s2">&quot;TotalObjectGroups&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">27</span>
    <span class="p">},</span>
    <span class="s2">&quot;TotalUnits&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">57</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">57</span>
    <span class="p">},</span>
    <span class="s2">&quot;ObjectSize&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">18292981</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">18292981</span>
    <span class="p">},</span>
    <span class="s2">&quot;creationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-12T17:01:11.764&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-de-la-description-dans-le-xml-d-entree">
<h3>4.8.3. Exemple de la description dans le XML d&#8217;entrée<a class="headerlink" href="#exemple-de-la-description-dans-le-xml-d-entree" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les seuls élements issus du  message ArchiveTransfer, utilisés ici sont ceux correspondants à la déclaration des identifiants du service producteur et du service versant. Ils sont placés dans le bloc &lt;ManagementMetadata&gt;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_005761</span><span class="o">&lt;/</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h3>4.8.4. Détail des champs<a class="headerlink" href="#id15" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;_tenant&#8221;: identifiant du tenant.</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
<dt>&#8220;OriginatingAgency&#8221;: la valeur de ce champ est une chaîne de caractère.</dt>
<dd>Ce champ est la clef primaire et sert de concaténation pour toutes les entrées effectuées sur ce producteur d&#8217;archives. Récupère la valeur contenue dans le bloc &lt;OriginatinAgencyIdentifier&gt; du message ArchiveTransfer.</dd>
</dl>
<p>Par exemple pour</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On récupère la valeur FRAN_NP_051314.</p>
<dl class="docutils">
<dt>&#8220;TotalObjectGroups&#8221;: Contient la répartition du nombre de groupes d&#8217;objets du service producteur par état</dt>
<dd><p class="first">(total, deleted et remained)</p>
<ul class="last simple">
<li>&#8220;total&#8221;: Nombre total de groupes d&#8217;objets pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Nombre de groupes d&#8217;objets supprimés ou sortis du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Nombre actualisé de groupes d&#8217;objets conservés dans le système. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;TotalObjects&#8221;: Contient la répartition du nombre d&#8217;objets du service producteur par état</dt>
<dd><p class="first">(total, deleted et remained)</p>
<ul class="last simple">
<li>&#8220;total&#8221;: Nombre total d&#8217;objets pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Nombre d&#8217;objets supprimés ou sortis du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Nombre actualisé d&#8217;objets conservés dans le système. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;TotalUnits&#8221;: Contient la répartition du nombre d&#8217;unités archivistiques du service producteur par état</dt>
<dd><p class="first">(total, deleted et remained)</p>
<ul class="last simple">
<li>&#8220;total&#8221;: Nombre total d&#8217;unités archivistiques pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Nombre d&#8217;unités archivistiques supprimées ou sorties du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Nombre actualisé d&#8217;unités archivistiques conservées. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;ObjectSize&#8221;: Contient la répartition du volume total des fichiers du service producteur par état</dt>
<dd><p class="first">(total, deleted et remained)</p>
<ul class="last simple">
<li>&#8220;total&#8221;: Volume total en octets des fichiers pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Volume total en octets des fichiers supprimés ou sortis du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Volume actualisé en octets des fichiers conservés dans le système. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;creationDate&#8221;:  Date d&#8217;inscription du producteur d&#8217;archives concerné dans le registre des fonds.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;_v&#8221;: Version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
<div class="section" id="collection-accessionregisterdetail">
<h2>4.9. Collection AccessionRegisterDetail<a class="headerlink" href="#collection-accessionregisterdetail" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id16">
<h3>4.9.1. Utilisation de la collection<a class="headerlink" href="#id16" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection a pour vocation de référencer l&#8217;ensemble des informations sur les opérations d&#8217;entrées réalisées pour un service producteur. A ce jour, il y a autant d&#8217;enregistrements que d&#8217;opérations d&#8217;entrées effectuées pour ce service producteur, mais des évolutions sont d&#8217;ores et déjà prévues.</p>
</div>
<div class="section" id="id17">
<h3>4.9.2. Exemple de JSON stocké en base<a class="headerlink" href="#id17" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakhpuaosabkcgak4ebd7deiaaaaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;FRAN_NP_009734&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SubmissionAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;FRAN_NP_009734&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ArchivalAgreement&quot;</span><span class="p">:</span> <span class="s2">&quot;ArchivalAgreement0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EndDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-19T12:36:52.572+02:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;StartDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-19T12:36:52.572+02:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;STORED_AND_COMPLETED&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-19T12:36:52.572+02:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TotalObjectGroups&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;TotalUnits&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">11</span>
    <span class="p">},</span>
    <span class="s2">&quot;TotalObjects&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;ObjectSize&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;OperationIds&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;aedqaaaaakhpuaosabkcgak4ebd7deiaaaaq&quot;</span>
    <span class="p">],</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">5</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h3>4.9.3. Exemple de la description dans le XML d&#8217;entrée<a class="headerlink" href="#id18" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les seuls élements issus du message ArchiveTransfer utilisés ici sont ceux correspondants à la déclaration des identifiants du service producteur et du service versant. Ils sont placés dans le bloc &lt;ManagementMetadata&gt;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_005761</span><span class="o">&lt;/</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h3>4.9.4. Détail des champs<a class="headerlink" href="#id19" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: identifiant unique.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;_tenant&#8221;: identifiant du tenant.</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
<dt>&#8220;OriginatingAgency&#8221;: Contient l&#8217;identifiant du service producteur.</dt>
<dd>Il est issu du le bloc &lt;OriginatinAgencyIdentifier&gt;.</dd>
</dl>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>on récupère la valeur FRAN_NP_051314
La valeur est une chaîne de caractère.</p>
<dl class="docutils">
<dt>&#8220;SubmissionAgency&#8221;: Contient l&#8217;identifiant du service versant.</dt>
<dd>Il est contenu entre les baslises &lt;SubmissionAgencyIdentifier&gt;.</dd>
</dl>
<p>Par exemple pour</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_005761</span><span class="o">&lt;/</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On récupère la valeur FRAN_NP_005761.
La valeur est une chaîne de caractères.</p>
<p>Ce champ est facultatif dans le bordereau. S&#8217;il&#8217; est absente ou vide, alors la valeur contenue dans le champ &lt;OriginatingAgencyIdentifier&gt; est reportée dans ce champ.</p>
<dl class="docutils">
<dt>&#8220;ArchivalAgreement&#8221;: Contient le contrat utilisé pour réaliser l&#8217;entrée.</dt>
<dd>Il est contenu entre les balises &lt;ArchivalAgreement&gt; et correspond à la valeur contenue dans le champ Name de la collection IngestContract.</dd>
</dl>
<p>Par exemple pour</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ArchivalAgreement</span><span class="o">&gt;</span><span class="n">ArchivalAgreement0</span><span class="o">&lt;/</span><span class="n">ArchivalAgreement</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On récupère la valeur ArchivalAgreement0.
La valeur est une chaîne de caractères.</p>
<dl class="docutils">
<dt>&#8220;StartDate&#8221;: date de la première opération d&#8217;entrée correspondant à l&#8217;enregistrement concerné.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;.</dd>
<dt>&#8220;EndDate&#8221;: date de la dernière opération d&#8217;entrée correspondant à l&#8217;enregistrement concerné.</dt>
<dd>La date est au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm. Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221;</dd>
<dt>&#8220;Status&#8221;: indication sur l&#8217;état des archives concernées par l&#8217;enregistrement.</dt>
<dd>La liste des valeurs possibles pour ce champ se trouve en annexe 5.5.</dd>
<dt>&#8220;TotalObjectGroups&#8221;: Contient la répartition du nombre de groupes d&#8217;objets du fonds par état pour l&#8217;opération journalisée (total, deleted et remained) :</dt>
<dd><ul class="first last simple">
<li>&#8220;total&#8221;: Nombre total de groupes d&#8217;objets pris en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Nombre de groupes d&#8217;objets supprimés ou sortis du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Nombre de groupes d&#8217;objets conservés dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;TotalUnits&#8221;: Contient la répartition du nombre d&#8217;unités archivistiques du fonds par état pour l&#8217;opération journalisée (total, deleted et remained) :</dt>
<dd><ul class="first last simple">
<li>&#8220;total&#8221;: Nombre total d&#8217;unités archivistiques pris en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Nombre d&#8217;unités archivistiques supprimées ou sortis du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Nombre d&#8217;unités archivistiques conservées dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;TotalObjects&#8221;: Contient la répartition du nombre d&#8217;objets du fonds par état pour l&#8217;opération journalisée (total, deleted et remained) :</dt>
<dd><ul class="first last simple">
<li>&#8220;total&#8221;: Nombre total d&#8217;objets pris en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Nombre d&#8217;objets supprimés ou sortis du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Nombre d&#8217;objets conservés dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
<dt>&#8220;ObjectSize&#8221;: Contient la répartition du volume total des fichiers du fonds par état pour l&#8217;opération journalisée (total, deleted et remained) :</dt>
<dd><ul class="first last simple">
<li>&#8220;total&#8221;: Volume total en octet des fichiers pris en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: Volume total en octets des fichiers supprimés ou sortis du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: Volume total en octets des fichiers conservés dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="collection-vitamsequence">
<h2>4.10. Collection VitamSequence<a class="headerlink" href="#collection-vitamsequence" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-collection">
<h3>4.10.1. Utilisation de collection<a class="headerlink" href="#utilisation-de-collection" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection permet de générer des identifiants signifiants pour les enregistrements des collections suivantes :</p>
<ul class="simple">
<li>IngestContract</li>
<li>AccesContract</li>
<li>Context</li>
<li>Profil</li>
</ul>
<p>Ces identifiants sont composés d&#8217;un préfixe de deux lettres, d&#8217;un tiret et d&#8217;une suite de six chiffres. Par exemple : IC-027593. Il sont reportés dans les champs Identifier des collections concernées.</p>
</div>
<div class="section" id="id20">
<h3>4.10.2. Exemple de JSON stocké en base<a class="headerlink" href="#id20" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaahkwxukabqteak4q5mtmdyaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;AC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Counter&quot;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h3>4.10.3. Détail des champs<a class="headerlink" href="#id21" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>&#8220;_id&#8221;: Identifiant unique.</dt>
<dd>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</dd>
<dt>&#8220;Name&#8221;: préfixe.</dt>
<dd>Il s&#8217;agit du préfixe utilisé pour générer un identifiant signifiant. La valeur contenue dans ce champ doit correspondre à la map du service VitamCounterService.java. La liste des valeurs possibles est détaillée en annexe 5.6.
Il s&#8217;agit d&#8217;une chaîne de caractères.</dd>
<dt>&#8220;Counter&#8221;: numéro incrémental.</dt>
<dd>Il s&#8217;agit du dernier numéro utilisé pour générer un identifiant signifiant.
Il s&#8217;agit d&#8217;un entier.</dd>
<dt>&#8220;_tenant&#8221;: information sur le tenant</dt>
<dd>Il s&#8217;agit de l&#8217;identifiant du tenant utilisant l&#8217;enregistrement
Il s&#8217;agit d&#8217;un entier.</dd>
<dt>&#8220;_v&#8221;: version de l&#8217;objet décrit</dt>
<dd>Il s&#8217;agit d&#8217;un entier.</dd>
</dl>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="annexes.html" class="btn btn-neutral float-right" title="5. Annexes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="metadata.html" class="btn btn-neutral" title="3. Base MetaData" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.20.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>