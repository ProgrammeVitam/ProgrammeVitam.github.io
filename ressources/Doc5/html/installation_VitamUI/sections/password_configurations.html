<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration des profils des mots de passe (Ansiblerie) &mdash; Vitam-UI documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="../index.html">
            <img src="../_static/Vitam_Logo-CMJN.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequis.html">2. Prérequis</a></li>
<li class="toctree-l1"><a class="reference internal" href="procedure.html">3. Procédure de déploiement de VitamUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="annexes.html">4. Annexes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Vitam-UI</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Configuration des profils des mots de passe (Ansiblerie)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/sections/password_configurations.md.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="configuration-des-profils-des-mots-de-passe-ansiblerie">
<h1>Configuration des profils des mots de passe (Ansiblerie)<a class="headerlink" href="#configuration-des-profils-des-mots-de-passe-ansiblerie" title="Lien permanent vers ce titre"></a></h1>
<p>La configuration de la complexité des mots de passe est externalisé du serveur CAS, la configuration actuelle est basée sur des profils de configurations.</p>
<p>L’intégrateur de VITAMUI, peut choisir le profil de configuration personnalisé par instance.</p>
<p>Pour répondre aux exigeances de la complexité des mots de passes de l’ANSSI (Agence Nationale de la Sécurité des Systèmes d’Informations), un profil dédié est configuré par défaut.</p>
<p>Ce profil est nommé <code class="docutils literal notranslate"><span class="pre">anssi</span></code>, l’exploitant peut le changer en choisissant le profil custom, qui garde les anciens comportements.</p>
<section id="configuration-pour-le-profil-personnalise-profil-custom">
<h2>Configuration pour le profil personnalisé (profil custom)<a class="headerlink" href="#configuration-pour-le-profil-personnalise-profil-custom" title="Lien permanent vers ce titre"></a></h2>
<p>Exemple de profil custom pouvant être surchargé dans le fichier <code class="docutils literal notranslate"><span class="pre">environments/vitamui_extra_vars.yml</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Custom password configuration</span><span class="w"></span>
<span class="nt">vitamui_password_configurations</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">customPolicyPattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^(?=.*[$@!%*#£?&amp;=\-\/:;\(\)&quot;\.,\?!</span><span class="se">&#39;&#39;</span><span class="s">\[\]{}^\+\=_\\\|~&lt;&gt;`])(?=.*[a-z])(?=.*[A-Z])(?=.*[\d])[A-Za-zÀ-ÿ0-9$@!%*#£?&amp;=\-\/:;\(\)&quot;\.,\?!</span><span class="se">&#39;&#39;</span><span class="s">\[\]{}^\+\=_\\\|~&lt;&gt;`]{${password.length},}$&#39;</span><span class="w"></span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;custom&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w"></span>
<span class="w">    </span><span class="nt">max_old_password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w"></span>
<span class="w">    </span><span class="nt">check_occurence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">constraints</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">customs</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">fr</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Pour</span><span class="nv"> </span><span class="s">des</span><span class="nv"> </span><span class="s">raisons</span><span class="nv"> </span><span class="s">de</span><span class="nv"> </span><span class="s">sécurité,</span><span class="nv"> </span><span class="s">votre</span><span class="nv"> </span><span class="s">mot</span><span class="nv"> </span><span class="s">de</span><span class="nv"> </span><span class="s">passe</span><span class="nv"> </span><span class="s">doit:&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">messages</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Au moins ${password.length} caractères</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Des minuscules et des majuscules</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Au moins un chiffre et un caractère spécial</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Etre différent des ${password.max-old-password} derniers mots de passe</span><span class="w"></span>
<span class="w">        </span><span class="nt">en</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;For</span><span class="nv"> </span><span class="s">security</span><span class="nv"> </span><span class="s">reasons,</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">password</span><span class="nv"> </span><span class="s">must:&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">messages</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">At least ${password.length} characters</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Lowercase and uppercase</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">At least one number and one special character</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Be different from the last ${password.max-old-password} passwords</span><span class="w"></span>
<span class="w">        </span><span class="nt">de</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Aus</span><span class="nv"> </span><span class="s">Sicherheitsgründen</span><span class="nv"> </span><span class="s">muss</span><span class="nv"> </span><span class="s">Ihr</span><span class="nv"> </span><span class="s">Passwort:&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">messages</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mindestens ${password.length} Zeichen</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Klein- und Großbuchstaben</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mindestens eine Zahl und ein Sonderzeichen</span><span class="w"></span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Unterscheiden Sie sich von den letzten ${password.max-old-password} Passwörtern</span><span class="w"></span>
</pre></div>
</div>
<section id="explication-de-la-configuration">
<h3>Explication de la configuration<a class="headerlink" href="#explication-de-la-configuration" title="Lien permanent vers ce titre"></a></h3>
<section id="configuration-communes">
<h4>Configuration communes<a class="headerlink" href="#configuration-communes" title="Lien permanent vers ce titre"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vitamui_password_configurations</span></code> est le bloc racine, qui se situe dans le fichier <code class="docutils literal notranslate"><span class="pre">vitamui_vars.yml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anssiPolicyPattern</span></code>: L’expression régulière pour le profil ANSSI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">customPolicyPattern</span></code>: L’expression régulière pour le profil personnalisé (custom).</p></li>
</ul>
<blockquote>
<div><p>L’expression régulière qui sera utilisé, dépendra du profil choisi.</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">password</span></code>: Le préfixe de configuration qui sera chargé dans le fichier de configuration pricipale du serveur CAS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile</span></code>: Le nom du profil à utiliser (par défault <code class="docutils literal notranslate"><span class="pre">anssi</span></code>), ou bien <code class="docutils literal notranslate"><span class="pre">custom</span></code>, pour éviter des erreurs de configuration au chargement du serveur, La déclaration d’un nom de profil devrait etre cohérent avec le bloc de configuration adéquat (voir explicaion de ces blocs au dessous).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">length</span></code>: La taille du mot de passe (par défaut 12 pour le profil anssi, 8 pour le profil personnalisé).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_old_password</span></code>: Le nombre de mots de passe anciens à ne pas réutiliser (par défaut 12 pour le profil anssi, 3 pour le profil custom).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check_occurrence</span></code>: Le boolean permettant de vérifier la présence des occurrences du nom d’utilisateur dans le mot de passe (par défaut à <code class="docutils literal notranslate"><span class="pre">true</span></code> pour le profil anssi, <code class="docutils literal notranslate"><span class="pre">false</span></code> ou absent pour le profil custom).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">occurrences_chars_number</span></code>: Le nombre de caractères issues du nom d’utilisateur tolérables à utiliser dans le mot de passe (par défaut à <code class="docutils literal notranslate"><span class="pre">3</span></code> pour le profil anssi, <code class="docutils literal notranslate"><span class="pre">0</span></code> ou absent pour le profil custom).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">constraints</span></code>: bloc des différentes contraintes des mots de passe par profile.</p></li>
</ul>
</section>
<section id="configuration-pour-le-profil-anssi">
<h4>Configuration pour le profil ANSSI<a class="headerlink" href="#configuration-pour-le-profil-anssi" title="Lien permanent vers ce titre"></a></h4>
<p>Le sous bloc <code class="docutils literal notranslate"><span class="pre">defaults</span></code> du bloc <code class="docutils literal notranslate"><span class="pre">constraints</span></code> concerne les configurations par défault par bloc de langue.</p>
<p>Ce bloc contient la liste des messages personnalisés, et les différentes contraintes en termes des caractères alphanumérique, spéciaux, miniscules, majuscules etc..</p>
</section>
<section id="configuration-pour-le-profil-personnalise">
<h4>Configuration pour le profil personnalisé<a class="headerlink" href="#configuration-pour-le-profil-personnalise" title="Lien permanent vers ce titre"></a></h4>
<p>Le sous bloc <code class="docutils literal notranslate"><span class="pre">customs</span></code> du bloc <code class="docutils literal notranslate"><span class="pre">constraints</span></code> concerne les configurations du profil personnalisé par bloc de langue.</p>
<p>Ce bloc contient la liste des messages personnalisés, et les différentes contraintes en termes des caractères alphanumérique, spéciaux, miniscules, majuscules etc..</p>
<blockquote>
<div><p>Note:
en cas de changement manuelle par l’administrateur système du nombre de mots passe anciens à utiliser, le changement devra se faire au niveau CAS et iam-internal.
Le redémarrage de ces deux composants est nécessaire.</p>
<p>La modification des contraintes d’authentification est transparente pour les utilisateurs qui possèdent déjà des comptes dans Vitam-UI.
Ces nouvelles containtes seront appliquées lors du changement de mots de passe suite à expiration de celui ci.</p>
</div></blockquote>
<p>Voir le document d’exploitation qui contient différents exemples de configurations par profil.</p>
</section>
<section id="les-langues-supportees-par-cas-a-ce-jour">
<h4>Les langues supportées par CAS à ce jour<a class="headerlink" href="#les-langues-supportees-par-cas-a-ce-jour" title="Lien permanent vers ce titre"></a></h4>
<p>Les langues supportées par CAS sont: le Français, l’Anglais et l’Allemand.</p>
<p>Il est fortement recommandé de définir les trois blocs des différentes langues, pour garder la cohérence avec les différentes interfaces du serveur d’authentification CAS.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Programme Vitam.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>