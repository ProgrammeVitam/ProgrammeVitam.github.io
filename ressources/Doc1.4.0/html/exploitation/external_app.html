

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. Intégration d’une application externe dans Vitam &mdash; Documentation VITAM - Documentation d&#39;exploitation 1.4.0</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="9. Aide à l’exploitation" href="troubleshoot/_toc.html" />
    <link rel="prev" title="7.2.27.3. Opérations" href="composants/workspace/operations.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> VITAM - Documentation d'exploitation
          

          
            
            <img src="_static/logo_vitam.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#rappels">2. Rappels</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequis-competences.html">3. Expertises requises</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">4. Architecture de la solution logicielle VITAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/_toc.html">5. Exploitation globale</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring/_toc.html">6. Suivi de l’état du système</a></li>
<li class="toctree-l1"><a class="reference internal" href="composants/_toc.html">7. Exploitation des composants de la solution logicielle VITAM</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Intégration d’une application externe dans Vitam</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequis">8.1. Prérequis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integration-de-certificats-clients-de-vitam">8.2. Intégration de certificats clients de VITAM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pour-sia">8.2.1. Pour SIA</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authentification-personae">8.2.2. Authentification <em>personae</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ajout-d-un-certificat-pour-l-authentification-personae">8.2.2.1. Ajout d’un certificat pour l’authentification Personae</a></li>
<li class="toctree-l4"><a class="reference internal" href="#suppression-d-un-certificat-pour-l-authentification-personae">8.2.2.2. Suppression d’un certificat pour l’authentification Personae</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deploiement-des-keystores">8.3. Déploiement des keystores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vitam-n-est-pas-encore-deploye">8.3.1. Vitam n’est pas encore déployé</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vitam-est-deja-deploye">8.3.2. Vitam est déjà déployé</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshoot/_toc.html">9. Aide à l’exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ/_toc.html">10. Questions Fréquemment Posées</a></li>
<li class="toctree-l1"><a class="reference internal" href="include/_toc.html">11. Exploitation par composant</a></li>
<li class="toctree-l1"><a class="reference internal" href="annexes/_toc.html">12. Annexes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">VITAM - Documentation d'exploitation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>8. Intégration d’une application externe dans Vitam</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/external_app.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="integration-d-une-application-externe-dans-vitam">
<h1>8. Intégration d’une application externe dans Vitam<a class="headerlink" href="#integration-d-une-application-externe-dans-vitam" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="prerequis">
<h2>8.1. Prérequis<a class="headerlink" href="#prerequis" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’application externe devra être en mesure de requêter les composants ingest-external &amp; access-external sur leur port de service par protocole HTTPS.
Il faut donc une ouverture de flux réseau pour le protocole TCP ou TLS, selon l’infrastructure en place, sur les ports de service de ces deux composants Vitam.</p>
<p>Il est nécessaire de créer un certificat TLS client pour l’application externe, le certificat publique devra bien entendu être intégré dans le granted-store des composants ingest-external &amp; access-external.
La chaine de certification complète de ce certificat devra aussi être ajoutée dans le truststore de ces composants.</p>
</div>
<div class="section" id="integration-de-certificats-clients-de-vitam">
<h2>8.2. Intégration de certificats clients de VITAM<a class="headerlink" href="#integration-de-certificats-clients-de-vitam" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="pour-sia">
<h3>8.2.1. Pour SIA<a class="headerlink" href="#pour-sia" title="Lien permanent vers ce titre">¶</a></h3>
<p>Vitam fournit une arborescence de répertoire permettant d’ajouter automatiquement le certificat client ainsi que la chaîne de certification dans les bons keystores.</p>
<ul class="simple">
<li>Déposer les certificats de chaine de certification dans <cite>environments/certs/client-external/ca</cite></li>
<li>Déposer le certificat client de l’application dans <cite>environments/certs/client-external/clients/external</cite></li>
<li>Editer le fichier <code class="docutils literal notranslate"><span class="pre">environments/group_vars/all/vitam_security.yml</span></code> et ajouter le(s) entrée(s) supplémentaire(s)  (sous forme répertoire/fichier.crt) dans  la directive <code class="docutils literal notranslate"><span class="pre">admin_context_certs</span></code></li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Bien vérifier qu’aucun certificat ou CA non souhaité ne soit présent dans <cite>environments/certs/*</cite></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last">Ensuite, si ce n’est pas déjà fait, il reste à positionner les autres certificats, puis générer les keystores. Pour cela, se référer au <a class="reference internal" href="introduction.html#term-din"><span class="xref std std-term">DIN</span></a>, chapitre concernant la gestion des certificats.</p>
</div>
</div>
<div class="section" id="authentification-personae">
<h3>8.2.2. Authentification <em>personae</em><a class="headerlink" href="#authentification-personae" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les exemple suivants permettent d’ajouter ou supprimer un certificat présent sous <code class="docutils literal notranslate"><span class="pre">/path/to/certificate</span></code>.</p>
<div class="section" id="ajout-d-un-certificat-pour-l-authentification-personae">
<h4>8.2.2.1. Ajout d’un certificat pour l’authentification Personae<a class="headerlink" href="#ajout-d-un-certificat-pour-l-authentification-personae" title="Lien permanent vers ce titre">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -XPOST -H <span class="s2">&quot;Content-type: application/octet-stream&quot;</span> --data-binary @/path/to/certificate <span class="s1">&#39;http://&lt;ip admin security-internal&gt;:&lt;port admin security-internal&gt;/v1/api/personalCertificate&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="suppression-d-un-certificat-pour-l-authentification-personae">
<h4>8.2.2.2. Suppression d’un certificat pour l’authentification Personae<a class="headerlink" href="#suppression-d-un-certificat-pour-l-authentification-personae" title="Lien permanent vers ce titre">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -XDELETE -H <span class="s2">&quot;Content-type: application/octet-stream&quot;</span> --data-binary @/path/to/certificate <span class="s1">&#39;http://&lt;ip admin security-internal&gt;:&lt;port admin security-internal&gt;/v1/api/personalCertificate&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="deploiement-des-keystores">
<h2>8.3. Déploiement des keystores<a class="headerlink" href="#deploiement-des-keystores" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="vitam-n-est-pas-encore-deploye">
<h3>8.3.1. Vitam n’est pas encore déployé<a class="headerlink" href="#vitam-n-est-pas-encore-deploye" title="Lien permanent vers ce titre">¶</a></h3>
<p>Déployer Vitam en suivant la procédure indiquée dans le <a class="reference internal" href="introduction.html#term-din"><span class="xref std std-term">DIN</span></a>.</p>
</div>
<div class="section" id="vitam-est-deja-deploye">
<h3>8.3.2. Vitam est déjà déployé<a class="headerlink" href="#vitam-est-deja-deploye" title="Lien permanent vers ce titre">¶</a></h3>
<p>Suivre la procédure de la section <a class="reference internal" href="topics/14-miseajour.html#certifanchor"><span class="std std-ref">Mise à jour des certificats</span></a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="troubleshoot/_toc.html" class="btn btn-neutral float-right" title="9. Aide à l’exploitation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="composants/workspace/operations.html" class="btn btn-neutral" title="7.2.27.3. Opérations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.4.0',
            LANGUAGE:'fr',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>