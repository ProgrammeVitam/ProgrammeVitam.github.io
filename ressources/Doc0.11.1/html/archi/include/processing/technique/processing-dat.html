

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DAT : module processing &mdash; documentation VITAM - Architecture 0.11.1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Recherche" href="../../../search.html"/>
    <link rel="top" title="documentation VITAM - Architecture 0.11.1" href="../../../index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> VITAM - Architecture
          

          
            
            <img src="../../../_static/LogoVitamGrand2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.11.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html#rappels">2. Rappels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fonctionnelle-archivistes/_toc.html">3. Architecture fonctionnelle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fonctionnelle-exploitation/_toc.html">4. Architecture d&#8217;exploitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technique/_toc.html">5. Architecture technique</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../securite/_toc.html">6. Securite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_toc.html">7. Architecture détaillée</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">VITAM - Architecture</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
    <li>DAT : module processing</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/include/processing/technique/processing-dat.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dat-module-processing">
<h1>DAT : module processing<a class="headerlink" href="#dat-module-processing" title="Lien permanent vers ce titre">¶</a></h1>
<p>Ce document présente l&#8217;ensemble de manuel développement concernant le développment du module
metadata qui représente le story #70, qui contient :</p>
<ul class="simple">
<li>modules &amp; parkages</li>
<li>classes de métiers</li>
</ul>
<hr class="docutils" />
<div class="section" id="module-et-packages">
<h2>1. Module et packages<a class="headerlink" href="#module-et-packages" title="Lien permanent vers ce titre">¶</a></h2>
<blockquote>
<div><a href="#id1"><span class="problematic" id="id2">|</span></a>&#8212; processing-common: contient les méthodes commons: les modèles, les exceptions, SedaUtil ...
|
<a href="#id3"><span class="problematic" id="id4">|</span></a>&#8212; processing-distributor: appelle un worker de processus et distribue le workflow. Offre la possibilité au worker de s&#8217;enregistrer, se désabonner.
|
<a href="#id5"><span class="problematic" id="id6">|</span></a>&#8212; processing-distributor-client: client de module processing-distributor
|
<a href="#id7"><span class="problematic" id="id8">|</span></a>&#8212; processing-engine: appelle un distributeur de processus
|
<a href="#id9"><span class="problematic" id="id10">|</span></a>&#8212; processing-engine-client: client de module processing-engine
|
<a href="#id11"><span class="problematic" id="id12">|</span></a>&#8212; processing-management: gestion de workflow
|
<a href="#id13"><span class="problematic" id="id14">|</span></a>&#8212; processing-management-client: client de module processing-management</div></blockquote>
</div>
<div class="section" id="modele">
<h2>2. Modèle<a class="headerlink" href="#modele" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un modèle a été mis en place pour permettre la remontée et l&#8217;agrégation des status des différents item du worflow.</p>
<dl class="docutils">
<dt>Un état du worflow utilise l&#8217;objet <strong>ItemStatus</strong> qui contient :</dt>
<dd><ul class="first last simple">
<li>itemId : l&#8217;identifiant de l&#8217;item de processus résponsable du status (identifiant de step, handler, transaction, etc)</li>
<li>statusMeter : une liste de nombre de code status (nombre de OK, KO, WARNING, etc)</li>
<li>globalStatus : un status global</li>
<li>une liste de données remontée par l&#8217;item du processus (comme messageIdentifier)</li>
</ul>
</dd>
</dl>
<p>Les états du processus de workflow utilisent un objet composite <strong>CompositeItemStatus</strong> qui est un <strong>ItemStatus</strong> et contient une Map d&#8217;états de workflow de ses sous-items.</p>
<p>Un workflow est défini par un fichier json contenant les steps ainsi que toutes les actions qui doivent être exécutées par les steps. Chaque Step et Action doivent être identifiés par un ID unique qui est également utilisé pour récupérer les messages.</p>
</div>
<div class="section" id="process-distributor">
<h2>3. Process Distributor :<a class="headerlink" href="#process-distributor" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le distributor, en plus de lancer les workflow, offre désormais la possibilité aux Workers de s&#8217;abonner, se désabonner.
Lors d&#8217;un abonnement, le Worker est ajouté à une liste de workers (regroupés par famille de worker). Pour un désabonnement, il est supprimé.
Pour le moment, les workers ajoutés ne pourront être appelés, cela sera codé dans une autre itération.</p>
<p>A l&#8217;heure actuelle voici les méthodes REST proposées :</p>
<dl class="docutils">
<dt>POST /processing/v1/worker_family/{id_family}/workers/{id_worker}</dt>
<dd>-&gt; permet d&#8217;enregistrer un nouveau worker pour la famille donnée.
-&gt; Une query json est passé en paramètre et correspond à la configuration du worker.</dd>
<dt>DELETE /processing/v1/worker_family/{id_family}/workers/{id_worker}</dt>
<dd>-&gt; permet de désinscrire un worker pour la famille donnée, selon son id.</dd>
<dt>Dans les itérations suivantes les autres méthodes suivantes seront implémentées :</dt>
<dd><ul class="first last simple">
<li>liste des familles de worker</li>
<li>ajouter/mettre à jour/effacer une famille de worker</li>
<li>statut d&#8217;une fammile de worker</li>
<li>liste des workers d&#8217;une famille</li>
<li>effacer les workers d&#8217;une famille</li>
<li>statut d&#8217;un worker</li>
<li>mise à jour d&#8217;un worker</li>
</ul>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la licence Creative Commons Attribution - Partage dans les Mêmes Conditions 3.0 France (CC BY-SA 3.0 FR).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.11.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>