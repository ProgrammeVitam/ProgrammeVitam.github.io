---
layout: page
title: README Package API-alpha
---

<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.0.5.2 (Windows)"/>
	<meta name="created" content="2016-07-14T15:52:51.694000000"/>
	<meta name="changed" content="2016-07-14T15:53:07.948000000"/>
	<style type="text/css">
		@page { margin: 2cm }
		p { margin-bottom: 0.25cm; line-height: 120% }
		h3.western { font-family: "Liberation Sans", sans-serif; font-size: 14pt }
		h3.cjk { font-family: "Microsoft YaHei"; font-size: 14pt }
		h3.ctl { font-family: "Lucida Sans"; font-size: 14pt }
		h4.western { font-family: "Liberation Sans", sans-serif; font-size: 13pt; font-style: italic }
		h4.cjk { font-family: "Microsoft YaHei"; font-size: 13pt; font-style: italic }
		h4.ctl { font-family: "Lucida Sans"; font-size: 13pt; font-style: italic }
		a:link { so-language: zxx }
	</style>
</head>
<body lang="fr-FR" dir="ltr">
<h3 class="western">Pr&eacute;-requis</h3>
<ul>
	<li/>
<p align="justify">Un environnement d'ex&eacute;cution Java 8
	(Java Runtime Environment) doit &ecirc;tre install&eacute; et
	configur&eacute; dans la variable syst&egrave;me PATH.</p>
	<li/>
<p align="justify">Un OS Windows ou Linux</p>
</ul>
<h3 class="western"><a name="__RefHeading___Toc890_1373458168"></a>Description</h3>
<p align="justify">L'archive contient :</p>
<ul>
	<li/>
<p align="justify">la documentation html des API Vitam</p>
	<li/>
<p align="justify">la documentation RAML des API Vitam</p>
	<li/>
<p align="justify">un serveur contenant les bouchons des API
	Vitam et l'outil RAML Console
	(<a href="https://github.com/mulesoft/api-console">https://github.com/mulesoft/api-console</a>)</p>
	<li/>
<p align="justify">les Javadoc de quelques modules Vitam</p>
</ul>
<h3 class="western"><a name="__RefHeading___Toc892_1373458168"></a>Utilisation</h3>
<h4 class="western"><a name="__RefHeading___Toc894_1373458168"></a>Ex&eacute;cution
du serveur</h4>
<p align="justify">Pour ex&eacute;cuter le serveur, lancer
l'ex&eacute;cutable correspondant &agrave; votre OS :</p>
<ul>
	<li/>
<p align="justify">run.sh (Linux)</p>
	<li/>
<p align="justify">run.bat (Windows)</p>
</ul>
<p align="justify">Pour s'assurer que le serveur s'est bien d&eacute;marr&eacute;,
v&eacute;rifier les pages suivantes :</p>
<ul>
	<li/>
<p align="justify">la RAML Console</p>
	<ul>
		<li/>
<p align="justify">URL :
		<a href="http://localhost:8082/doc/api-console.html">http://localhost:8082/doc/api-console.html</a></p>
		<li/>
<p align="justify">r&eacute;sultat attendu : l'outil RAML
		Console est charg&eacute;</p>
	</ul>
	<li/>
<p align="justify">les bouchons des API Vitam :</p>
	<ul>
		<li/>
<p align="justify">URL :
		<a href="http://localhost:8082/external/v1/status">http://localhost:8082/external/v1/status</a></p>
		<li/>
<p align="justify">r&eacute;sultat attendu : une r&eacute;ponse
		200 est envoy&eacute;e</p>
	</ul>
</ul>
<h4 class="western"><a name="__RefHeading___Toc896_1373458168"></a>Utilisation
de la RAML Console</h4>
<p align="justify">Les fichiers RAML de documentation de l'API Vitam
sont charg&eacute;s dans la RAML Console en les renseignant dans le
champ &quot;INITIALIZE FROM THE URL OF A RAML FILE&quot; l'un des
chemins suivants :</p>
<ul>
	<li/>
<p align="justify">raml/access.raml</p>
	<li/>
<p align="justify">raml/ingest.raml</p>
	<li/>
<p align="justify">raml/logbook.raml</p>
</ul>
<p align="justify">Les fichiers RAML de documentation de l'API Vitam
sont dans le dossier console/raml. Toute modification d'un de ces
fichiers n&eacute;cessite de red&eacute;marrage du serveur.</p>
<h4 class="western"><a name="__RefHeading___Toc898_1373458168"></a>Utilisation
de la fonctionnalit&eacute; TRY-IT de la RAML Console</h4>
<p align="justify">Une fonctionalit&eacute; TRY-IT permettant de
tester les API est fournie par la RAML Console. Pour des raisons de
manque de stabilit&eacute; de la fonctionnalit&eacute; offerte par
cet outil externe au Programme Vitam, elle est d&eacute;sactiv&eacute;e
par d&eacute;faut. 
</p>
<p align="justify">Elle reste accessible sur l'URL
<a href="http://localhost:8082/doc/api-console-try-it.html">http://localhost:8082/doc/api-console-try-it.html</a>
</p>
<p align="justify">Pour utiliser la fonctionnalit&eacute; TRY-IT de
la RAML Console, il est pr&eacute;f&eacute;rable d'utiliser les
chemins suivants : 
</p>
<ul>
	<li/>
<p align="justify">raml/access-nosecurity.raml</p>
	<li/>
<p align="justify">raml/ingest-nosecurity.raml</p>
	<li/>
<p align="justify">raml/logbook-nosecurity.raml</p>
</ul>
<p align="justify">La fonctionnalit&eacute; TRY-IT de la RAML Console
utilise par d&eacute;faut les bouchons fournis par le serveur. Pour
utiliser un autre serveur, il faut modifier la valeur de l'attribut
baseUri des fichiers RAML utilis&eacute;s.</p>
<h4 class="western"><a name="__RefHeading___Toc900_1373458168"></a>Utilisation
des bouchons de l'API VITAM</h4>
<p align="justify">Les bouchons sont d&eacute;ploy&eacute;s sur l'URL
http://localhost:8082/external/v1</p>
<h4 class="western"><a name="__RefHeading___Toc902_1373458168"></a>Documentation
html de l'API VITAM</h4>
<p align="justify">La documentation html de l'API VITAM se trouve
dans le dossier html et peut &ecirc;tre consult&eacute;e directement
en se rendant &agrave; l'adresse <a href="http://localhost:8082/doc/html">http://localhost:8082/doc/html</a></p>
<p align="justify">Elle inclut les Javadoc des modules suivants&nbsp;:</p>
<ul>
	<li/>
<p align="justify">Query Builder (builder DSL pour Access)</p>
	<li/>
<p align="justify">Access Client (dont la factory)</p>
	<li/>
<p align="justify">Ingest Client (dont la factory)</p>
	<li/>
<p align="justify">Logbook Client (dont la factory)</p>
</ul>
<p align="justify">Ainsi que ce pr&eacute;sent fichier et la licence
globale du logiciel Vitam.</p>
<h3 class="western"><a name="__RefHeading___Toc904_1373458168"></a>Configuration</h3>
<h4 class="western"><a name="__RefHeading___Toc906_1373458168"></a>Changer
le port HTTP du serveur</h4>
<p align="justify">La valeur du port HTTP sur lequel s'ex&eacute;cute
le serveur est 8082 par d&eacute;faut.</p>
<p align="justify">Pour modifier cette valeur, il faut l'ajouter en
argument de l'ex&eacute;cutable :</p>
<ul>
	<li/>
<p align="justify">run.sh 8088 (Linux)</p>
	<li/>
<p align="justify">run.bat 8088 (Windows)</p>
</ul>
<h4 class="western"><a name="__RefHeading___Toc908_1373458168"></a>Configuration
des logs</h4>
<p align="justify">Les logs utilisent la biblioth&egrave;que LOGBack
(<a href="http://logback.qos.ch/">http://logback.qos.ch/</a>).</p>
<p align="justify">Le fichier de configuration des logs est :
config/logback.xml. Toute modification de ce fichier n&eacute;cessite
le red&eacute;marrage du serveur.</p>
<h3 class="western"><a name="__RefHeading___Toc977_1373458168"></a>Exemples
de codes clients</h3>
<p align="justify">Le r&eacute;pertoire &laquo;&nbsp;samples&nbsp;&raquo;
contient des exemples de codes Java (avec un mod&egrave;le de
pom.xml) pour illustrer l'usage des API Java propos&eacute;es&nbsp;:</p>
<ul>
	<li/>
<p align="justify">AccessSamples.java</p>
	<li/>
<p align="justify">IngestSamples.java</p>
	<li/>
<p align="justify">LogbookSamples.java</p>
</ul>
<p align="justify">Il propose &eacute;galement des exemples de
commandes Curl pour utiliser les API&nbsp;:</p>
<ul>
	<li/>
<p align="justify">access_curl.txt</p>
	<li/>
<p align="justify">logbook_curl.txt</p>
</ul>
</body>
</html>