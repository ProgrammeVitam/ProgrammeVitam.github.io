

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tests SOAP-UI &mdash; documentation VITAM - IHM Recette 0.15.1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static\css\theme.css" type="text/css">
  

  

  
        <link rel="index" title="Index" href="genindex.htm">
        <link rel="search" title="Recherche" href="search.htm">
    <link rel="top" title="documentation VITAM - IHM Recette 0.15.1" href="index.htm">
        <link rel="next" title="Sécurisation des journaux" href="securisation.htm">
        <link rel="prev" title="Administration des collections" href="collections.htm"> 

  
  <script src="_static\js\modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.htm" class="icon icon-home"> VITAM - IHM Recette
          

          
            
            <img src="_static\LogoVitamGrand2.png" class="logo">
          
          </a>

          
            
            
              <div class="version">
                0.15.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="recette.htm">Recette</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.htm">Administration des collections</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tests SOAP-UI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#principes">Principes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fichier-de-configuration">Fichier de configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#structuration-du-fichier-de-configuration">Structuration du fichier de configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-d-un-jeux-de-test">Configuration d&#8217;un jeux de test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-configuration">Exemple de configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-de-test-pour-api-external-avec-multi-tenant">Configuration de test pour api external avec multi-tenant</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ihm">IHM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lancement-des-tests">Lancement des tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#affichage-du-rapport">Affichage du rapport</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resultat-au-format-json">Résultat au format JSON</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="securisation.htm">Sécurisation des journaux</a></li>
<li class="toctree-l1"><a class="reference internal" href="fonctionnel.htm">Tests fonctionnels</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.htm">VITAM - IHM Recette</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.htm">Docs</a> &raquo;</li>
      
    <li>Tests SOAP-UI</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources\soapui.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tests-soap-ui">
<h1>Tests SOAP-UI<a class="headerlink" href="#tests-soap-ui" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="principes">
<h2>Principes<a class="headerlink" href="#principes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette interface a pour objectif de lancer des tests fonctionnels automatisés avec SOAP UI, construits via un fichier JSON.</p>
<p>L&#8217;équipe d&#8217;exploitation réalise le fichier Json avec les archivistes, puis le place dans la solution logicielle Vitam.</p>
<p>L&#8217;exécution des tests est ensuite lancée par les archivistes via l&#8217;IHM.</p>
<p>Cette partie présente à la fois l&#8217;IHM et les différentes configurations à réaliser par les archivistes.</p>
<img alt="_images/RECETTE_accueil_SOAPUI.png" src="_images\RECETTE_accueil_SOAPUI.png">
</div>
<div class="section" id="fichier-de-configuration">
<h2>Fichier de configuration<a class="headerlink" href="#fichier-de-configuration" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les jeux de test à exécuter sont déclarés dans le fichier <em>data.json</em>.</p>
<p>Chaque SIP à utiliser pour valider un cas fonctionnel sera donc déclaré dans ce fichier, selon un méthode détaillée ci-après.</p>
<div class="section" id="structuration-du-fichier-de-configuration">
<h3>Structuration du fichier de configuration<a class="headerlink" href="#structuration-du-fichier-de-configuration" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le fichier de configuration contient un champ &#8220;params&#8221; dont la valeur est un tableau. Ce tableau contient l&#8217;ensemble des jeux de tests à exécuter, chaque ligne rerésentant un test.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;params&quot;</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span><span class="n">Configuration</span> <span class="n">du</span> <span class="n">test</span> <span class="mi">1</span><span class="p">},</span>
    <span class="p">{</span><span class="n">Configuration</span> <span class="n">du</span> <span class="n">test</span> <span class="mi">2</span><span class="p">},</span>
    <span class="p">{</span><span class="n">Configuration</span> <span class="n">du</span> <span class="n">test</span> <span class="mi">3</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration-d-un-jeux-de-test">
<h3>Configuration d&#8217;un jeux de test<a class="headerlink" href="#configuration-d-un-jeux-de-test" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>Chaque jeux de test est composé des huits élements suivants :</dt>
<dd><ul class="first last simple">
<li>sipName</li>
<li>expected</li>
<li>httpStatusCode</li>
<li>testName</li>
<li>category</li>
<li>action [
* name
* expected</li>
</ul>
</dd>
</dl>
<p><strong>&#8220;sipName&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Il contient le nom du fichier à utiliser en entrée ainsi que sa localisation dans le système de fichier.</p>
<p>La localisation du fichier est une URI relative par rapport à la racine des tests SoapUI déterminée par votre exploitant.</p>
<p>On a donc par défaut l&#8217;arborescence suivante (le schéma suivant ne tient pas compte des autres dossiers et fichiers du repertoire SoapUI)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">RACINE</span>
  <span class="o">|-------</span> <span class="n">data</span><span class="o">.</span><span class="n">json</span>
  \<span class="o">-------</span> <span class="n">test</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>Pour un fichier <em>test.zip</em> placé dans le dossier <em>RACINE</em>, on entrera alors :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;sipName&quot;</span><span class="p">:</span><span class="s2">&quot;test.zip&quot;</span>
</pre></div>
</div>
<p>Si ce fichier est placé dans un dossier <em>data</em>, enfant de <em>RACINE</em>, c&#8217;est à dire placé commme ceci :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">RACINE</span>
  <span class="o">|-------</span> <span class="n">data</span><span class="o">.</span><span class="n">json</span>
  \<span class="o">-------</span> <span class="n">data</span>
            \<span class="o">-------</span> <span class="n">test</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>on entrera alors :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;sipName&quot;</span><span class="p">:</span><span class="s2">&quot;test_arborescence/test.zip&quot;</span>
</pre></div>
</div>
<p><strong>&#8220;expected&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Il contient le statut attendu à l&#8217;issue de l&#8217;opération d&#8217;entrée du SIP. La valeur de ce champ n&#8217;est utilisée que si les valeurs du tableau &#8220;Action&#8221; (détaillé plus bas) ne sont pas renseignées. Ceci permet de garder une compatibilité avec les anciens tests de non régression qui ne contenaient pas de tableau &#8220;Action&#8221;.</p>
<p>Les valeurs contenues dans ces champs sont, en revanche, ignorées si le tableau &#8220;Action&#8221; contient des valeurs.</p>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;expected&quot;</span><span class="p">:</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p><strong>&#8220;httpStatusCode&#8221;</strong></p>
<p>La valeur contenue dans ce champs est un nombre entier. Il contient le code retour HTTP attendu.</p>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;httpStatusCode&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
</pre></div>
</div>
<p><strong>&#8220;testName&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Il s&#8217;agit du nom du test tel qu&#8217;il sera reporté dans le rapport final.</p>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;Jeux de données possédant une arborescence complexe&quot;</span>
</pre></div>
</div>
<p><strong>&#8220;category&#8221;</strong>: La valeur contenue dans ce champ doit être une chaîne de caractères.</p>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;Tests sur les arborescences&quot;</span>
</pre></div>
</div>
<p><strong>action</strong> : ce champ contient un tableau de n objets ayant pour but de tester des actions précises du workflow. Un objet est structuré de la façon suivante :</p>
<blockquote>
<div><p><strong>name</strong> : contient le nom de l&#8217;action à tester</p>
<p><strong>expected</strong> : contient l&#8217;état attendu</p>
</div></blockquote>
<p>voici l&#8217;exemple d&#8217;une configuration pour un jeu de test</p>
<p><em>NB :</em> l&#8217;exemple de configuration d&#8217;un jeu de test ci-dessous a été indenté pour une meilleure compréhension. Par défaut, dans le fichier de configuration global, la configuration d&#8217;un test est placée sur une ligne seulement.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;sipName&quot;</span><span class="p">:</span> <span class="s2">&quot;SIP_OK/ZIP/OK_SIP_2_GO.zip&quot;</span><span class="p">,</span>
    <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;httpStatusCode&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="s2">&quot;testName&quot;</span><span class="p">:</span> <span class="s2">&quot;Test des différentes étapes OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;Test global&quot;</span><span class="p">,</span>
    <span class="s2">&quot;actions&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;UPLOAD_SIP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;STP_SANITY_CHECK_SIP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
      <span class="p">},</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-de-configuration">
<h3>Exemple de configuration<a class="headerlink" href="#exemple-de-configuration" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ci-après un exemple de configuration contenant 4 jeux de tests</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
         <span class="s2">&quot;sipName&quot;</span><span class="p">:</span> <span class="s2">&quot;SIP_OK/ZIP/OK_SIP_2_GO.zip&quot;</span><span class="p">,</span>
         <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
         <span class="s2">&quot;httpStatusCode&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
         <span class="s2">&quot;testName&quot;</span><span class="p">:</span> <span class="s2">&quot;Test des différentes étapes OK&quot;</span><span class="p">,</span>
         <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;Test global&quot;</span><span class="p">,</span>
         <span class="s2">&quot;actions&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;UPLOAD_SIP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;STP_SANITY_CHECK_SIP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;CHECK_SEDA&quot;</span><span class="p">,</span>
            <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;CHECK_MANIFEST_DATAOBJECT_VERSION&quot;</span><span class="p">,</span>
            <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
            <span class="p">}</span>
                    <span class="p">]</span>
            <span class="p">},</span>
        <span class="p">{</span>
        <span class="s2">&quot;sipName&quot;</span><span class="p">:</span> <span class="s2">&quot;SIP_KO/ZIP/KO_SIP_Mauvais_Format.pdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;KO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;httpStatusCode&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="s2">&quot;testName&quot;</span><span class="p">:</span> <span class="s2">&quot;SIP au mauvais format&quot;</span><span class="p">,</span>
        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;Test sur le Conteneur&quot;</span><span class="p">,</span>
        <span class="s2">&quot;actions&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;UPLOAD_SIP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;expected&quot;</span><span class="p">:</span> <span class="s2">&quot;KO&quot;</span>
            <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration-de-test-pour-api-external-avec-multi-tenant">
<h3>Configuration de test pour api external avec multi-tenant<a class="headerlink" href="#configuration-de-test-pour-api-external-avec-multi-tenant" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="docutils">
<dt>Chaque jeu de test est composé des élements suivants :</dt>
<dd><ul class="first last simple">
<li>sipName / ruleName / formatName</li>
<li>testName</li>
<li>category</li>
<li>tenant</li>
<li>action [<ul>
<li>name</li>
<li>endpoint</li>
<li>request</li>
<li>method</li>
<li>tenant</li>
<li>expected</li>
</ul>
</li>
</ul>
</dd>
</dl>
<p><strong>&#8220;sipName / ruleName / formatName&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Il contient le nom du fichier à utiliser en entrée
ainsi que sa localisation dans le système de fichier</p>
<p>La localisation du fichier est une URI relative par rapport à la racine des tests SoapUI déterminée par l&#8217;exploitant.</p>
<p>On a donc par défaut l&#8217;arborescence suivante: (le schéma suivant ne tient pas compte des autres dossiers et fichiers du repertoire SoapUI)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">RACINE</span>
  <span class="o">|-------</span> <span class="n">data</span><span class="o">.</span><span class="n">json</span>
  \<span class="o">-------</span> <span class="n">SIP_KO</span>
  \<span class="o">-------</span> <span class="n">SIP_OK</span>
            \<span class="o">-------</span> <span class="n">ZIP</span>
                     \<span class="o">-------</span> <span class="n">OK_SIP</span><span class="o">.</span><span class="n">ZIP</span>
            \<span class="o">-------</span> <span class="n">TAR</span>
  \<span class="o">-------</span> <span class="n">SIP_WARNING</span>
  \<span class="o">-------</span> <span class="n">formats</span>
  \<span class="o">-------</span> <span class="n">rules</span>
            \<span class="o">-------</span> <span class="n">regles_CSV</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>Pour un SIP <em>OK_SIP.zip</em> et un fichier de règles de gestion <em>regles_CSV.csv</em> placés dans le dossier <em>RACINE</em>, on entrera alors :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;sipName&quot;</span><span class="p">:</span> <span class="s2">&quot;SIP_OK\/ZIP\/OK_SIP.ZIP&quot;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;ruleName&quot;</span><span class="p">:</span> <span class="s2">&quot;rules\/regles_CSV.csv&quot;</span>
</pre></div>
</div>
<p><strong>&#8220;testName&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Il s’agit du nom du test tel qu’il sera reporté dans le rapport final. Par exemple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;testName&quot;</span><span class="p">:</span> <span class="s2">&quot;SRC1 : chercher des unités d’archives contenant des objets dans un intervalle de dates extrêmes&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p><strong>&#8220;category&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Elle doit toujours être qualifiée de : “Test API external”</p>
<p><strong>&#8220;tenant&#8221;</strong></p>
<p>La valeur contenue dans ce champ doit être une chaîne de caractères. Il s’agit du tenant qui a téléchargé le fichier SIP/règle/format. Par exemple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;tenant&quot;</span> <span class="p">:</span> <span class="s2">&quot;0&quot;</span>
</pre></div>
</div>
<p><strong>&#8220;action&#8221;</strong></p>
<p>ce champs contient un tableau de n objets ayant pour but de contrôler les réponses de l&#8217;API external. Un objet est structuré de la façon suivante :</p>
<blockquote>
<div><p><strong>name</strong> : contient le nom de l&#8217;action à tester</p>
<p><strong>endpoint</strong> : contient l&#8217;endpoint de l&#8217;api external</p>
<p><strong>request</strong> : contient la requête</p>
<p><strong>method</strong> : contient la méthode</p>
<p><strong>tenant</strong> : contient le tenant</p>
<p><strong>expected</strong> : est un tableau qui contient le code retour HTTP attendu (httpStatusCode) et les champs attendus dans la réponse</p>
</div></blockquote>
<p>Par exemple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;actions&quot;</span><span class="p">:</span> <span class="p">[{</span>
<span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;SEARCH_RULES_TENANT_0&quot;</span><span class="p">,</span>
<span class="s2">&quot;endpoint&quot;</span> <span class="p">:</span> <span class="s2">&quot;admin-external/v1/rules&quot;</span><span class="p">,</span>
<span class="s2">&quot;request&quot;</span> <span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">$query</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">$and</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">RuleValue</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">Dossier individuel d’agent civil</span><span class="se">\&quot;</span><span class="s2">}},{</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">RuleType</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">AppraisalRule</span><span class="se">\&quot;</span><span class="s2">}}]},</span><span class="se">\&quot;</span><span class="s2">$filter</span><span class="se">\&quot;</span><span class="s2">:</span><span class="si">{}</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">$projection</span><span class="se">\&quot;</span><span class="s2">:</span><span class="si">{}</span><span class="s2">}&quot;</span><span class="p">,</span>
<span class="s2">&quot;method&quot;</span> <span class="p">:</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
<span class="s2">&quot;tenant&quot;</span> <span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="s2">&quot;expected&quot;</span> <span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;httpStatusCode&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">},{</span><span class="s2">&quot;RuleId&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;APP-00001&quot;</span><span class="p">]}]},{</span>
<span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;SEARCH_RULES_TENANT_1&quot;</span><span class="p">,</span>
<span class="s2">&quot;endpoint&quot;</span> <span class="p">:</span> <span class="s2">&quot;admin-external/v1/rules&quot;</span><span class="p">,</span>
<span class="s2">&quot;request&quot;</span> <span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">$query</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">$and</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">RuleValue</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">Dossier individuel d’agent civil</span><span class="se">\&quot;</span><span class="s2">}},{</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">RuleType</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">AppraisalRule</span><span class="se">\&quot;</span><span class="s2">}}]},</span><span class="se">\&quot;</span><span class="s2">$filter</span><span class="se">\&quot;</span><span class="s2">:</span><span class="si">{}</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">$projection</span><span class="se">\&quot;</span><span class="s2">:</span><span class="si">{}</span><span class="s2">}&quot;</span><span class="p">,</span>
<span class="s2">&quot;method&quot;</span> <span class="p">:</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
<span class="s2">&quot;tenant&quot;</span> <span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="s2">&quot;expected&quot;</span> <span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;httpStatusCode&quot;</span><span class="p">:</span><span class="mi">404</span><span class="p">}]}]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ihm">
<h2>IHM<a class="headerlink" href="#ihm" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="lancement-des-tests">
<h3>Lancement des tests<a class="headerlink" href="#lancement-des-tests" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une fois le fichier <em>data.json</em>, ainsi que le SIP déposés sur le serveur Vitam par l&#8217;exploitant, les tests peuvent être lancés via l&#8217;IHM en cliquant sur le bouton &#8220;lancer les tests&#8221;</p>
<img alt="_images/RECETTE_lancer_test_SOAPUI.png" src="_images\RECETTE_lancer_test_SOAPUI.png">
</div>
<div class="section" id="affichage-du-rapport">
<h3>Affichage du rapport<a class="headerlink" href="#affichage-du-rapport" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour afficher le rapport, cliquer sur le bouton &#8220;Afficher résultats&#8221;.</p>
<img alt="_images/Recette_afficher_resultats_SOAPUI.png" src="_images\Recette_afficher_resultats_SOAPUI.png">
<p>Les deux tableaux de rapports apparaîssent alors en bas de l&#8217;écran.</p>
<p>Le premier contient la synthèse des tests et est constitué des informations suivantes :</p>
<blockquote>
<div><ul class="simple">
<li>Nombre de tests réalisés</li>
<li>Nombre de tests en succès</li>
<li>Nombre de tests en échec</li>
</ul>
</div></blockquote>
<img alt="_images/RECETTE_resultat_tableau_SOAPUI.png" src="_images\RECETTE_resultat_tableau_SOAPUI.png">
<p>Le second contient le détail des tests et est constitué des colonnes suivantes :</p>
<blockquote>
<div><ul class="simple">
<li>ID Opération</li>
<li>Nom du test</li>
<li>Nom du SIP</li>
<li>Catégorie</li>
<li>Action</li>
<li>Résultat attendu</li>
<li>Résultat constaté</li>
</ul>
</div></blockquote>
<p>Les lignes pour lesquelles le résultat attendu est égal au résultat constaté apparaissent sur fond vert.
Les lignes pour lesquelles le résultat attendu est différent du résultat constaté apparaissent sur fond rouge</p>
</div>
<div class="section" id="resultat-au-format-json">
<h3>Résultat au format JSON<a class="headerlink" href="#resultat-au-format-json" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il est également possible d&#8217;afficher le JSON de résultat en cliquant sur le lien nommé &#8220;Lien vers les résultats Json&#8221;. Le fichier apparait en plein écran et il est possile de l&#8217;enregistrer.</p>
<img alt="_images/RECETTE_recupererJSON_resultat.png" src="_images\RECETTE_recupererJSON_resultat.png">
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="securisation.htm" class="btn btn-neutral float-right" title="Sécurisation des journaux" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collections.htm" class="btn btn-neutral" title="Administration des collections" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la licence Creative Commons Attribution - Partage dans les Mêmes Conditions 3.0 France (CC BY-SA 3.0 FR).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.15.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static\jquery.js"></script>
      <script type="text/javascript" src="_static\underscore.js"></script>
      <script type="text/javascript" src="_static\doctools.js"></script>
      <script type="text/javascript" src="_static\translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static\js\theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>