Déploiement / mises à jour
##########################

Mise à jour des certificats
---------------------------

Pour mettre à jour les certificats (avant expiration par exemple), il suffit de mettre à jour les stores dans ``environments-rpm/keystores``
Puis de lancer leur redéploiement via cette commande ansible:

.. code-block:: bash

    # Si le mot de passe du vault n'est pas renseigné dans le fichier vault_pass.txt
    ansible-playbook ansible-vitam-rpm/vitam.yml -i environments-rpm/<fichier d'inventaire> --ask-vault-pass --tags update_vitam_certificates
    ansible-playbook ansible-vitam-rpm-extra/extra.yml -i environments-rpm/<fichier d'inventaire> --ask-vault-pass --tags update_vitam_certificates
    # Si le mot de passe du vault est renseigné dans le fichier vault_pass.txt
    ansible-playbook ansible-vitam-rpm/vitam.yml -i environments-rpm/<fichier d'inventaire> --vault-password-file vault_pass.txt --tags update_vitam_certificates
    ansible-playbook ansible-vitam-rpm-extra/extra.yml -i environments-rpm/<fichier d'inventaire> --vault-password-file vault_pass.txt --tags update_vitam_certificates

Mise à jour de la solution vitam
--------------------------------

Pour la mise à jour de la solution :term:`VITAM` (tout comme pour sa première installation), se référer au :term:`DIN`, ainsi qu'à la "release note" associée à toute montée de version.

Ce document détaille les pré-requis, la configuration des fichiers pour effectuer un déploiement.

Enfin, ce document explique également comment valider une montée de version applicative de VITAM.

.. seealso:: Plus d'informations, et notamment les paramètres d'installation, sont disponibles dans le :term:`DIN`.
