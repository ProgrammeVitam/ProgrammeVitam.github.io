Configuration / fichiers utiles
###############################

Paramétrage bases de données à monitorer
========================================

Pour connecter mongoclient à une base de données mongodb, voici la procédure à suivre sur l'IHM:

* Connect
* Create new
    * Onglet Connection:
        * Connection name: vitam
        * Hostname: <hostname d'un serveur hébergeant un mongos>
        * Port: 27017
        * DB Name: metadata (ou une autre base renseignée dans le vault)
    * Onglet Authentication:
        * Authentication type: Standard
        * User: Voir <mongoAdminUser> dans le vault
        * Password: Voir <mongoAdminPassword> dans le vault
        * Authentication DB: admin
* Save changes
* Selectionner la connection
* Connect Now

Il est ensuite possible de voir les statistiques de mongodb
Il est aussi possible de changer de base de données:

* More
    * Switch Database
    * Sélectionner une autre base
    * Connect now

Configuration
=============

Les fichiers de configuration sont gérés par les procédures d'installation ou de mise à niveau de l'environnement :term:`VITAM`. Se référer au :term:`DIN`.

Les fichiers de configuration sont définis sous ``/vitam/conf/mongoclient``.

Fichier ``mongoclient.conf``
-----------------------------

.. literalinclude:: ../../../../../deployment/ansible-vitam/roles/mongoclient/templates/mongoclient.conf.j2
   :language: yaml

