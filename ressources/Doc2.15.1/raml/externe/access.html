<!DOCTYPE HTML><html><head><title>API-Vitam - Access API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/raml2html/raml2html 4.1.1"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css"><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $('.page-header pre code, .top-resource-description pre code, .modal-body pre code').each(function(i, block) {
          hljs.highlightBlock(block);
        });

        $('[data-toggle]').click(function() {
          var selector = $(this).data('target') + ' pre code';
          $(selector).each(function(i, block) {
            hljs.highlightBlock(block);
          });
        });

        // open modal on hashes like #_action_get
        $(window).bind('hashchange', function(e) {
          var anchor_id = document.location.hash.substr(1); //strip #
          var element = $('#' + anchor_id);

          // do we have such element + is it a modal?  --> show it
          if (element.length && element.hasClass('modal')) {
            element.modal('show');
          }
        });

        // execute hashchange on first page load
        $(window).trigger('hashchange');

        // remove url fragment on modal hide
        $('.modal').on('hidden.bs.modal', function() {
          try {
            if (history && history.replaceState) {
                history.replaceState({}, '', '#');
            }
          } catch(e) {}
        });
      });
    </script><style>
      .hljs {
        background: transparent;
      }
      .parent {
        color: #999;
      }
      .list-group-item > .badge {
        float: none;
        margin-right: 6px;
      }
      .panel-title > .methods {
        float: right;
      }
      .badge {
        border-radius: 0;
        text-transform: uppercase;
        width: 70px;
        font-weight: normal;
        color: #f3f3f6;
        line-height: normal;
      }
      .badge_get {
        background-color: #63a8e2;
      }
      .badge_post {
        background-color: #6cbd7d;
      }
      .badge_put {
        background-color: #22bac4;
      }
      .badge_delete {
        background-color: #d26460;
      }
      .badge_patch {
        background-color: #ccc444;
      }
      .list-group, .panel-group {
        margin-bottom: 0;
      }
      .panel-group .panel+.panel-white {
        margin-top: 0;
      }
      .panel-group .panel-white {
        border-bottom: 1px solid #F5F5F5;
        border-radius: 0;
      }
      .panel-white:last-child {
        border-bottom-color: white;
        -webkit-box-shadow: none;
        box-shadow: none;
      }
      .panel-white .panel-heading {
        background: white;
      }
      .tab-pane ul {
        padding-left: 2em;
      }
      .tab-pane h1 {
        font-size: 1.3em;
      }
      .tab-pane h2 {
        font-size: 1.2em;
        padding-bottom: 4px;
        border-bottom: 1px solid #ddd;
      }
      .tab-pane h3 {
        font-size: 1.1em;
      }
      .tab-content {
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        padding: 10px;
      }
      #sidebar {
        margin-top: 30px;
        padding-right: 5px;
        overflow: auto;
        height: 90%;
      }
      .top-resource-description {
        border-bottom: 1px solid #ddd;
        background: #fcfcfc;
        padding: 15px 15px 0 15px;
        margin: -15px -15px 10px -15px;
      }
      .resource-description {
        border-bottom: 1px solid #fcfcfc;
        background: #fcfcfc;
        padding: 15px 15px 0 15px;
        margin: -15px -15px 10px -15px;
      }
      .resource-description p:last-child {
        margin: 0;
      }
      .list-group .badge {
        float: left;
      }
      .method_description {
        margin-left: 85px;
      }
      .method_description p:last-child {
        margin: 0;
      }
      .list-group-item {
        cursor: pointer;
      }
      .list-group-item:hover {
        background-color: #f5f5f5;
      }
      pre code {
        overflow: auto;
        word-wrap: normal;
        white-space: pre;
      }
      .items {
        background: #f5f5f5;
        color: #333;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 9.5px;
        margin: 0 0 10px;
        font-size: 13px;
        line-height: 1.42857143;
      }
      .examples {
        margin-left: 0.5em;
      }
      .resource-modal li > ul {
        margin-bottom: 1em;
      }
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>API-Vitam - Access API documentation <small>version v1</small></h1><p>https://api.vitam.gouv.fr/access-external/{version}</p><ul><li><strong>version</strong>: <em>required (v1)</em></li></ul><h3 id="avertissements"><a href="#avertissements">Avertissements</a></h3><p>Cette version d&#39;API présente des fonctionnalités sous différents statuts :</p><ul><li>Supportées : rien n&#39;est spécifié, la fonctionnalité ou la donnée est supportée</li></ul><p>Pour le détail du modèle de chaque collection, se référer à la documentation du <strong>modèle de données</strong>.</p><h3 id="licence"><a href="#licence">Licence</a></h3><p>Ce document est distribué sous les termes de la <a href="https://www.etalab.gouv.fr/wp-content/uploads/2017/04/ETALAB-Licence-Ouverte-v2.0.pdf">Licence Ouverte V2.0</a></p><h3 id="api_access"><a href="#api_access">API Access</a></h3><p><em>L&#39;API d&#39;Accès</em> propose les points d&#39;entrées et les méthodes pour atteindre, requêter et récupérer les informations depuis les <strong>Units</strong> et les <strong>Objects</strong>.</p><p>Cette API est globalement reproduite dans tous les autres points d&#39;accès lorsque l&#39;accès à des <em>Units</em> et <em>Objects</em> est nécessaire. Les fonctionnalités offertes peuvent par contre varier (droit en modification, effacement, ...) selon le contexte.</p><h1 id="api-access-externe">API Access externe</h1><p>Dans le projet Vitam, Les API externes supportent le POST-X-HTTP-OVERRIDE=GET. Les API internes ne supportent que le GET.</p><h1 id="units">Units</h1><p><strong>Units</strong> est le point d&#39;entrée pour toutes les descriptions d&#39;archives. Celles-ci contiennent les métadonnées de description et les métadonnées archivistiques (métadonnées de gestion).</p><p>Une <em>Unit</em> peut être de 3 types :</p><ul><li>"ingest" (unité archivistique classique),</li><li>"holding" (unité archivistique d&#39;arbre de positionnement)</li><li><p>"filing" (unité archivistique de plan de classement). Les métadonnées de ces unités peuvent tout aussi bien décrire un dossier qu&#39;un groupe d&#39;objet lié. Les <em>Units</em> peuvent être organisées en arborescence et peuvent posséder :</p><ul><li>Plusieurs racines dans l&#39;arborescence (<em>Unit</em> de plus haut niveau)</li><li>Plusieurs parents directs (un dossier peut être rattaché à plusieurs dossiers)</li></ul><p>Il s&#39;agit d&#39;une représentation dite de "<em>graphe dirigé sans cycle</em>" (DAG en Anglais pour "<em>Directed Acyclic Graph</em>").</p></li></ul><p>Pour le model SEDA, il est équivalent à l&#39;<strong>ArchiveUnit</strong>, notamment pour les parties <strong>Content</strong> et <strong>Management</strong>. Pour l&#39;Isad(G) / EAD, il est équivalent à <strong>Description Unit</strong>.</p><p>Au plus, un seul <em>groupe</em> d&#39;<em>objets</em> d&#39;archives (<strong>Objects</strong>) est attaché à une <em>Unit</em>. Cela signifie que si une <em>Unit</em> doit avoir plus d&#39;un <em>groupe</em> d&#39;<em>objets</em> d&#39;archive attaché, vous devez spécifier des sous-Units à l&#39;<em>Unit</em> principale, chaque sous-Unit n&#39;ayant qu&#39;un <em>groupe</em> d&#39;<em>objets</em> d&#39;archives attaché. Un même <em>groupe</em> d&#39;<em>objets</em> d&#39;archives peut par contre être attaché à de multiples <em>Units</em>.</p><p>Aucun effacement n&#39;est autorisé, ni aucune mise à jour complète (seules les mises à jours partielles sont autorisées via la commande PUT). Les mises à jour ne sont autorisées que par <em>Unit</em>, il n&#39;y a pas de mise à jour en masse.</p><h3 id="structuration-des-m-tadonn-es">Structuration des métadonnées</h3><p>La structuration d&#39;un Unit est la suivante :</p><pre><code class="lang-json">  {
    "#id": "UnitId",
    "#tenant": "tenantId",
    "#version": 1,
    "#unitType" : "HOLDING_UNIT (arbre), FILING_UNIT (Plan) ou INGEST (ArchiveUnit standard)"
    //Métadonnées du content
    "DescriptionLevel": "Fonds",
    "Title": "titre",
    "Description": "description du Unit",
    "#Management": {
      "StorageRule": {},
      "AppraisalRule": {},
      "AccessRule": {},
      "DisseminationRule": {},
      "ReuseRule": {},
      "ClassificationRule": {},
      "NeedAuthorization": false // Accès nécessitant une autorisation explicite
    },
    "#unitups": [ "unitParentId", "unitParentId"], // liste des parents immédiats
    "#min": 1,
    "#max": 1,
    "#object": "objectId",
    "#nbunits": 1, // Nombre de Unit fils
    "#operations" : [ "id", "id" ], // liste des opérations auxquelles cette AU a participées
    "#allunitsups": [ "unitParentId", "unitParentId"], // liste de tous les parents jusqu&#39;au sommet
    "#storage": { "#nbc": 2  } // information de stockage,
    "#originating_agency": "originationAgencyId",
    "#originating_agencies": [ "originationAgencyId" ],
    "#operations" : [ "operationId" ] // liste des opérations auxquelles cette AU a participées
</code></pre><h1 id="objects">Objects</h1><p><strong>/units/{idu}/objects</strong> est le point d&#39;entrée pour :</p><ul><li>tous les groupes objets, qui contiennent les métadonnées techniques (nom des objets, format, type MIME...)</li><li>tous les objets binaires (des fichiers) non binaires (des références à des objets d&#39;archives physiques ou externes au système).</li></ul><p>Un <em>Groupe</em> d&#39;<em>Objects</em> peut posséder de 1 à N objets. Chaque objet a un usage et une version dans son groupe d&#39;objet. Ces distinctions permettent de différencier des usages comme version de conservation, version de diffusion...</p><p>Il peut exister plusieurs versions de l&#39;objet pour un même usage (pour l&#39;original numérique notamment), au fur et à mesure du cycle de vie du <em>Groupe</em> d&#39;<em>Objects</em>. Par exemple l&#39;objet d&#39;usage+version "BinaryMaster_1" est la version 1 de l&#39;usage BinaryMaster, le "BinaryMaster_2" est la version 2 de l&#39;usage BinaryMaster. Dans le modèle de données de la solution logicielle Vitam, cet usage correspond au champ "qualifier".</p><p>Pour le model SEDA, il est équivalent à un <strong>DataObjectGroup</strong>. Pour l&#39;EAD, il est équivalent à un <strong>Digital Archive Object Group or Set</strong>.</p><p>Chaque <em>Groupe</em> d&#39;<em>Objets</em> doit être attaché à au moins un parent <em>Unit</em>.</p><p>Seul l&#39;accès est autorisé (GET/POST en override de GET).</p><p>Chaque <em>Objet</em> n&#39;est lié qu&#39;à un seul <em>Groupe d&#39;objets</em>. Chaque <em>Objet</em> a un qualifier (spécifiable via <em>#qualifiers</em> dans le DSL pour l&#39;accès métadonnées et <em>X-Qualifier</em> en Header pour l&#39;accès aux objets binaires) :</p><ul><li><strong>PhysicalMaster</strong> : il s&#39;agit de l&#39;original papier ou physique s&#39;il existe</li><li><strong>BinaryMaster</strong> : il s&#39;agit de l&#39;original numérique s&#39;il existe</li><li><strong>Dissemination</strong> : il s&#39;agit d&#39;une version adaptée à la diffusion via le réseau et l&#39;usage dans des navigateurs</li><li><strong>Thumbnail</strong> : il s&#39;agit d&#39;une version adaptée à la diffusion dans une taille et une qualité correspondant à une vignette (utile lors de l&#39;affichage d&#39;une liste)</li><li><strong>TextContent</strong> : il s&#39;agit d&#39;une version ne contenant que le texte du document, sans la mise en forme (son usage est en prévision du futur, par exemple pour des opérations d&#39;analyses sémantiques)</li></ul><p>Ces qualifiers peuvent être utilisés dans une requête GET en conjonction avec le Header <em>Accept: application/octet-stream</em> pour accéder en lecture à un usage particulier.</p><h3 id="structuration-des-m-tadonn-es">Structuration des métadonnées</h3><p><strong>A noter: la structuration va changer dans la prochaine release</strong></p><p>La structuration d&#39;un Object est la suivante :</p><pre><code class="lang-json">  {
    "#id": "ObjectId",
    "#tenant": "tenantId",
    //Métadonnées de l&#39;Object
    "FileInfo": {
      "Filename": "filename",
      "LastModified": "date",
      "GPS": {}
    },
    "#qualifiers": [{
      "qualifier": "PhysicalMaster",
      "#nbc": 1,
      "versions": [
        {
          "#id": "abcdef",
          "DataObjectGroupId": "abcdef",
          "DataObjectVersion": "PhysicalMaster_1",
          "PhysicalDimensions": {},
          "PhysicalId": {},
          "xxx": "" // autres informations
        }
      ]},
      {
      "qualifier": "BinaryMaster",  // Version numérique
      "#nbc": 1, // nombre de versions
      "versions": [
        {
          "#id": "abcdef",
          "#storage" : {// informations sur le stockage de l&#39;objet}
          "DataObjectGroupId": "abcdef",
          "DataObjectVersion": "BinaryMaster_1",
          "MessageDigest": "algorithme digest", // empreinte et algorithme d&#39;empreinte de l&#39;objet
          "Algorithm": "SHA-512",
          "FileInfo": {// informations du fichier},
          "Size": 10, // taille de l&#39;objet
          "Uri": "Content/uri", // uri de l&#39;objet
          "FormatIdentification": {
            "FormatLitteral": "format Literral",
            "MimeType": "mimetype",
            "FormatId": "pronomId"
          },
          "OtherMetadata": {
            // autres métadonnées non classées
          }
        }
      ]
      },
      {
        "qualifier": "Dissemination",  // Version de diffusion
        "#nbc": 1, // nombre de versions
        "versions": [
          {//idem à BinaryMaster}
        ]
      },
      {
        "qualifier": "TextContent",  // Contenu brut
        "#nbc": 1, // nombre de versions
        "versions": [
          {//idem à BinaryMaster}
        ]
      },
      {
        "qualifier": "Thumbnail",  // Vignette
        "#nbc": 1, // nombre de versions
        "versions": [
          {//idem à BinaryMaster}
        ]
      }
    ],
    "#unitups": [ "unitParentId", "unitParentId"],
    "#nbobjects": 1, // Nombre de versions d&#39;objets contenus pour tous les usages
    "#storage": { "#nbc": 2  }, // information de stockage,
    "#originating_agency": "originationAgencyId",
    "#originating_agencies": [ "originationAgencyId" ],
    "#operations" : [ "operationId" ] // liste des opérations auxquelles ce groupe d&#39;objets a participées
  }
</code></pre><p><strong>Note :</strong> A l&#39;avenir, à l&#39;intérieur d&#39;une version d&#39;usage, et pour chaque version (pour les <strong>BinaryMaster</strong> notamment), un contexte sera ajouté à la structure de l&#39;Object afin de pouvoir y introduire des données de contexte (version du référentiel Pronom par exemple...).</p><h1 id="dipexport">DIPEXPORT</h1><p><strong>/dipexport</strong> est le point d&#39;entrée permettant l&#39;export sous forme de DIP (paquet d&#39;information diffusé ou Dissemination Information Package en anglais) d&#39;une sélection d&#39;unités archivistiques.</p><p><strong>Important</strong> : Deux actions sont disponibles. La première permet de lancer un processus de génération d&#39;un DIP. La deuxième permet de télécharger le fichier généré par le processus précédent, une fois terminé.</p><h3 id="champs_d_application_sur_les_units"><a href="#champs_d_application_sur_les_units">Champs d'application sur les Units</a></h3><p>Les principes sont les suivants :</p><ul><li>Pas de POST (sauf <em>X-Http-Method-Override: GET</em>) car ceci relève de l&#39;entrée</li><li>Le PUT est utilisé pour réaliser un update partiel</li><li>Pas de DELETE car ceci relève de l&#39;élimination</li><li>GET correspond à la recherche ou l&#39;accès selon la présence d&#39;un body ou non</li><li>Un seul Object par Unit max</li><li>Une requête depuis un Unit signifie recherche relative depuis celui-ci (roots = this)</li><li>Accept: <strong>application/json</strong> signifie les métadonnées au format Json</li><li>Accept: <strong>application/octet-stream</strong> signifie le retour du contenu binaire de l&#39;Object</li></ul><h3 id="champs_d_application_sur_les_objects"><a href="#champs_d_application_sur_les_objects">Champs d'application sur les Objects</a></h3><p>Les principes sont les suivants :</p><ul><li>Object signifie ObjectGroup en masquant la complexité ObjectGroup/Object</li><li>Pas de POST (sauf <em>X-Http-Method-Override: GET</em>) car ceci relève de l&#39;entrée</li><li>Pas de DELETE car ceci relève de l&#39;élimination</li><li>GET correspond à la recherche ou l&#39;accès selon la présence d&#39;un body ou non</li><li>Une requête depuis un object signifie recherche relative depuis celui-ci (roots = this)</li><li>Accept: <strong>application/json</strong> signifie les métadonnées au format Json</li><li>Accept: <strong>application/octet-stream</strong> signifie le retour du contenu binaire de l&#39;Object</li></ul></div><div class="panel panel-default"><div class="panel-heading"><h3 id="units" class="panel-title">ArchiveUnits</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit les requêtes pour accéder aux Unités d&#39;archives. La requête utilise le langage de requête DSL de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_units"><span class="parent"></span>/units</a> <span class="methods"><a href="#units_get"><span class="badge badge_get">get</span></a> <a href="#units_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_units" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#units_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne des résultats contenant des Unités d&#39;archives. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#units_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Requête qui retourne des résultats contenant des Unités d&#39;archives. La requête utilise POST avec X-Http-Method-Override: GET La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès. Sans le Header, le point d&#39;API est utilisé pour mettre à jour en masse les métadonnées descriptives des unités archivistiques. Possibilité de remplacer une chaîne de caractères par une autre vià l&#39;opération $setregex.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="units_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/units</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne des résultats contenant des Unités d&#39;archives. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units_get_request" data-toggle="tab">Request</a></li><li><a href="#units_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units_get_request"><h3>Headers</h3><ul><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$roots": [ "id0" ],
  "$query": [
    { "$match": { "title": "titre" }, "$depth": 4 }
  ],
  "$filter": { "$limit": 1000, "$offset": 10 },
  "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#sector": 1, "#parents": 1, "#object": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="units_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste des résultats d&#39;Unités d&#39;archives correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 13,
    "size": 3,
    "offset": 10,
    "limit": 1000
  },
  "$context": {
    "$roots": [ "id0" ],
    "$query": [
      { "$match": { "title": "titre" }, "$depth": 4 }
    ],
    "$filter": { "$limit": 1000, "$offset": 10 },
    "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#sector": 1, "#parents": 1, "#object": 1 } }
  },
  "$results": [
    {
      "#id": "id1", "title": "titre 1", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id101", "#type": "Document",
        "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    },
    {
      "#id": "id2", "title": "titre 2", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id102", "#type": "Document",
        "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    },
    {
      "#id": "id3", "title": "titre 3", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id103", "#type": "Image",
        "#qualifiers": { "BinaryMaster": 3, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="units_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/units</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne des résultats contenant des Unités d&#39;archives. La requête utilise POST avec X-Http-Method-Override: GET La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès. Sans le Header, le point d&#39;API est utilisé pour mettre à jour en masse les métadonnées descriptives des unités archivistiques. Possibilité de remplacer une chaîne de caractères par une autre vià l&#39;opération $setregex.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units_post_request" data-toggle="tab">Request</a></li><li><a href="#units_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units_post_request"><h3>Headers</h3><ul><li><strong>X-Http-Method-Override</strong>: <em>required (GET)</em></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Examples</strong>:</p><div class="examples"><p><strong>UnitsBatchUpdate</strong>:<br></p><pre><code>{
  "$roots": [],
  "$query": [ { "$eq": { "#id": "{{guid}}" } }
  ],
  "$action": [
    {
      "$setregex": {
        "$target": "Title",
        "$controlPattern": "Dessert placé",
        "$updatePattern": "Dessert glacé"
      }
    }
  ]
}
</code></pre><p><strong>BatchUpdateObject</strong>:<br></p><pre><code>{
  "$roots": [],
  "$query": [
    {
      "$in": {
        "#id": [
          "MY-AU-GUID"
        ]
      }
    }
  ],
  "$threshold": 10000,
  "$action": [
    {
      "$set": {
        "Gps": {
          "GpsLatitude": "lat is here",
          "GpsLongitude": "long is here"
        }
      }
    }
  ]
}</code></pre><p><strong>BatchRemove</strong>:<br></p><pre><code>{
  "$roots": [],
  "$query": [
    {
      "$in": {
        "#id": [
          "MY-AU-GUID"
        ]
      }
    }
  ],
  "$threshold": 10000,
  "$action": [
    {
      "$unset": [
        "Description"
      ]
    }
  ]
}</code></pre><pre><code>{
  "$roots": [ "id0" ],
  "$query": [
    { "$match": { "title": "titre" }, "$depth": 4 }
  ],
  "$filter": { "$limit": 1000, "$offset": 10 },
  "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#sector": 1, "#parents": 1, "#object": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="units_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste des résultats d&#39;Unités d&#39;archives correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 13,
    "size": 3,
    "offset": 10,
    "limit": 1000
  },
  "$context": {
    "$roots": [ "id0" ],
    "$query": [
      { "$match": { "title": "titre" }, "$depth": 4 }
    ],
    "$filter": { "$limit": 1000, "$offset": 10 },
    "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#sector": 1, "#parents": 1, "#object": 1 } }
  },
  "$results": [
    {
      "#id": "id1", "title": "titre 1", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id101", "#type": "Document",
        "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    },
    {
      "#id": "id2", "title": "titre 2", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id102", "#type": "Document",
        "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    },
    {
      "#id": "id3", "title": "titre 3", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id103", "#type": "Image",
        "#qualifiers": { "BinaryMaster": 3, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de mise à jour</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie le statut final de l&#39;opération en KO</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_units_rules"><span class="parent">/units</span>/rules</a> <span class="methods"><a href="#units_rules_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_units_rules" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#units_rules_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Requête qui déclanche la mise à jour de masse des métadonnées de gestion d&#39;unités d&#39;archives. La requête utilise un POJO spécifique pour effectuer la mise à jour des éléments de gestion.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="units_rules_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/units</span>/rules</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui déclanche la mise à jour de masse des métadonnées de gestion d&#39;unités d&#39;archives. La requête utilise un POJO spécifique pour effectuer la mise à jour des éléments de gestion.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units_rules_post_request" data-toggle="tab">Request</a></li><li><a href="#units_rules_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units_rules_post_request"><h3>Headers</h3><ul><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>dslRequest</strong>: <em>required (object)</em><p>Contient la requête de recherche</p><ul></ul></li><li><strong>ruleActions</strong>: <em>required (object)</em><p>Contient le POJO de mise à jour des métadonnées de gestion (Voir exemple).</p><p>Il est possible d&#39;ajouter (add), mettre à jour (update) ou supprimer (delete) des catégories de règles de gestion (règles et propriétés), ainsi que de mettre à jour les métadonnées de gestion hors catégories de règles (addOrUpdateMetadata/deleteMetadata).</p><p>Pour les catégories de règles de gestion, voici les champs autorisés à la racine des catégories (règles et propriétés):</p><table class="table"><thead><tr><th>Champ</th><th>Catégorie spécifique</th><th>Commentaire</th></tr></thead><tbody><tr><td>Rules</td><td>Toutes</td><td>Permet de définir les modifications sur les règles de gestion de l&#39;unité archivistique</td></tr><tr><td>PreventInheritance</td><td>Toutes</td><td>Permet de définir si la catégorie hérite (false) ou non (true) des règles de l&#39;unité archivistique parente</td></tr><tr><td>PreventRulesId</td><td>Toutes</td><td>Permet de définir une liste de règles qui ne seront pas hérités de l&#39;unité archivistique parente</td></tr><tr><td>FinalAction</td><td>StorageRule, AppraisalRule</td><td>Permet de définir le sort final de la catégorie (valeurs spécifiques selon la catégorie)</td></tr><tr><td>ClassificationLevel</td><td>ClassificationRule</td><td>Permet de définir le niveau de classification</td></tr><tr><td>ClassificationOwner</td><td>ClassificationRule</td><td>Permet de définir le service émetteur</td></tr><tr><td>ClassificationAudience</td><td>ClassificationRule</td><td>Permet de définir le champ de diffusion</td></tr><tr><td>ClassificationReassessingDate</td><td>ClassificationRule</td><td>Permet de définir la date de réévaluation</td></tr><tr><td>NeedReassessingAuthorization</td><td>ClassificationRule</td><td>Permet de définir si les modifications sont soumises (true) ou non (false) à validation humaine</td></tr></tbody></table><p>Pour les règles de gestion, voici les champs autorisés dans le tableau de règles (champ Rules) d&#39;une catégorie</p><table class="table"><thead><tr><th>Champ</th><th>Contraintes</th><th>Commentaire</th></tr></thead><tbody><tr><td>OldRule</td><td>update, obligatoire</td><td>Permet de définir l&#39;identifiant de règle que l&#39;on veut modifier</td></tr><tr><td>Rule</td><td>add/delete, obligatoire; update, facultatif</td><td>Permet de définir l&#39;identifiant de la règle que l&#39;ont veut ajouter/supprimer ou de celle remplacant l&#39;ancienne règle</td></tr><tr><td>StartDate</td><td>add/update, facultatif</td><td>Permet de définir la date de début de la règle ajoutée/modifiée</td></tr><tr><td>DeleteStartDate</td><td>update, facultatif</td><td>Permet de supprimer (true) la date de début de la règle à mettre à jour</td></tr></tbody></table><ul></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dslRequest": {
    "$roots": [ "id1" ],
    "$query": [
      {
        "$match": { "title": "titre" },
        "$depth": 4
      }
    ],
    "$threshold": 10000
  },
  "ruleActions": {
    "add": [
      {
        "AccessRule": {
          "PreventInheritance": false,
          "Rules": [
            {
              "Rule": "ACC-00003",
              "StartDate": "2018-11-14T00:00:00.000Z"
            }
          ]
        }
      },
      {
        "StorageRule": {
          "FinalAction": "Copy"
        }
      }
    ],
    "update": [
      {
        "AccessRule": {
          "Rules": [
            {
              "OldRule": "ACC-00001",
              "Rule": "ACC-00002"
            },
            {
              "OldRule": "ACC-00003",
              "DeleteStartDate": true
            }
          ]
        }
      }
    ],
    "delete": [
      {
        "ReuseRule": {
          "Rules": [
            {
              "Rule": "REU-00001"
            }
          ]
        }
      }
    ],
    "addOrUpdateMetadata": { },
    "deleteMetadata": {
      "ArchiveUnitProfile": ""
    }
  }
}
</code></pre></div></div><div class="tab-pane" id="units_rules_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de mise à jour</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie le statut final de l&#39;opération en KO</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_units_computedinheritedrules"><span class="parent">/units</span>/computedInheritedRules</a> <span class="methods"><a href="#units_computedinheritedrules_post"><span class="badge badge_post">post</span></a> <a href="#units_computedinheritedrules_delete"><span class="badge badge_delete">delete</span></a></span></h4></div><div id="panel_units_computedinheritedrules" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Request Calcule/Supprime les règles héritées pour les unités archivistiques répondant aux critères de la requête DSL.</p></div><div class="list-group"><div onclick="window.location.href = '#units_computedinheritedrules_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Request that will launch the computation</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#units_computedinheritedrules_delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"><p>Request that will delete the computation</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="units_computedinheritedrules_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/units</span>/computedInheritedRules</h4></div><div class="modal-body"><div class="alert alert-info"><p>Request that will launch the computation</p></div><ul class="nav nav-tabs"></ul><div class="tab-content"></div></div></div></div></div><div class="modal fade" tabindex="0" id="units_computedinheritedrules_delete"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/units</span>/computedInheritedRules</h4></div><div class="modal-body"><div class="alert alert-info"><p>Request that will delete the computation</p></div><ul class="nav nav-tabs"></ul><div class="tab-content"></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_units__idu_"><span class="parent">/units</span>/{idu}</a> <span class="methods"><a href="#units__idu__get"><span class="badge badge_get">get</span></a> <a href="#units__idu__post"><span class="badge badge_post">post</span></a> <a href="#units__idu__put"><span class="badge badge_put">put</span></a></span></h4></div><div id="panel_units__idu_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>API qui définit les requêtes pour accéder à une Unité d&#39;archive. La requête utilise le langage de requête DSL de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><div class="list-group"><div onclick="window.location.href = '#units__idu__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne une Unité d&#39;archive. La requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives contenant 1 seul résultat selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#units__idu__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Requête qui retourne une Unité d&#39;archives. La requête utilise POST avec X-Http-Method-Override: GET La requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives contenant 1 seul résultat selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#units__idu__put'" class="list-group-item"><span class="badge badge_put">put</span><div class="method_description"><p>Requête qui modifie une Unité d&#39;archive. La requête utilise le langage de requête DSL de type <strong>modification unitaire (UPDATE BY ID)</strong> de Vitam en entrée et retourne le statut de la mise à jour en résultat selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="units__idu__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/units</span>/{idu}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne une Unité d&#39;archive. La requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives contenant 1 seul résultat selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units__idu__get_request" data-toggle="tab">Request</a></li><li><a href="#units__idu__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units__idu__get_request"><h3>URI Parameters</h3><ul><li><strong>idu</strong>: <em>required (string)</em><p>Identifiant de l&#39;unité d&#39;archive.</p></li></ul><h3>Headers</h3><ul><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#parents": 1, "#object": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="units__idu__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste de résultats contenant 1 Unité d&#39;archive correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 1,
    "size": 1,
    "offset": 0,
    "limit": 10000
  },
  "$context": {
    "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#parents": 1, "#object": 1 } }
  },
  "$results": [
    {
      "#id": "id1", "title": "titre 1", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id101", "#type": "Document",
        "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="units__idu__post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/units</span>/{idu}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne une Unité d&#39;archives. La requête utilise POST avec X-Http-Method-Override: GET La requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives contenant 1 seul résultat selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units__idu__post_request" data-toggle="tab">Request</a></li><li><a href="#units__idu__post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units__idu__post_request"><h3>URI Parameters</h3><ul><li><strong>idu</strong>: <em>required (string)</em><p>Identifiant de l&#39;unité d&#39;archive.</p></li></ul><h3>Headers</h3><ul><li><strong>X-Http-Method-Override</strong>: <em>required (GET)</em></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#parents": 1, "#object": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="units__idu__post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste de résultats contenant 1 Unité d&#39;archive correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 1,
    "size": 1,
    "offset": 0,
    "limit": 10000
  },
  "$context": {
    "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#parents": 1, "#object": 1 } }
  },
  "$results": [
    {
      "#id": "id1", "title": "titre 1", "#type": "DemandeCongés",
      "#parents": [ { "#id": "id4", "#type": "DossierCongés" } ],
      "#object": { "#id": "id101", "#type": "Document",
        "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 } }
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="units__idu__put"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_put">put</span> <span class="parent">/units</span>/{idu}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui modifie une Unité d&#39;archive. La requête utilise le langage de requête DSL de type <strong>modification unitaire (UPDATE BY ID)</strong> de Vitam en entrée et retourne le statut de la mise à jour en résultat selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units__idu__put_request" data-toggle="tab">Request</a></li><li><a href="#units__idu__put_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units__idu__put_request"><h3>URI Parameters</h3><ul><li><strong>idu</strong>: <em>required (string)</em><p>Identifiant de l&#39;unité d&#39;archive.</p></li></ul><h3>Headers</h3><ul><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$action": [ { "$set": { "NewField": "New value" } } ]
}
</code></pre></div></div><div class="tab-pane" id="units__idu__put_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie l&#39;état d&#39;execution de la modification correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 0,
    "size": 0,
    "offset": 0,
    "limit": 0
  },
  "$context": {
    "$action": [{ "$set": { "NewField": "New value" } }]
  },
  "$results": []
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/405" target="_blank">405</a></h2><p>Method Not Allowed, requested resource is not allowed</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_units__idu__objects"><span class="parent">/units/{idu}</span>/objects</a> <span class="methods"><a href="#units__idu__objects_get"><span class="badge badge_get">get</span></a> <a href="#units__idu__objects_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_units__idu__objects" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>API qui définit les requêtes pour accéder à l&#39;Objet d&#39;archives associé à l&#39;Unité d&#39;archives s&#39;il existe. La requête utilise le langage de requête (DSL) de Vitam en entrée et retourne l&#39;objet d&#39;archives selon le DSL Vitam en cas de succès.</p></div><div class="list-group"><div onclick="window.location.href = '#units__idu__objects_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne le résultat contenant un Object d&#39;archives : ses métadonnées ou un de ses objets binaires. Dans le cas des métadonnées, la requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée. &#39;Accept&#39; header est &#39;application/octet-stream&#39; (objet binaire) ou &#39;application/json&#39; (métadonnées)</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#units__idu__objects_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Requête qui retourne le résultat contenant un Object d&#39;archives : ses métadonnées ou un de ses objets binaires. Dans le cas des métadonnées, la requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée. &#39;Accept&#39; header est &#39;application/octet-stream&#39; (objet binaire) ou &#39;application/json&#39; (métadonnées) La requête utilise POST avec X-Http-Method-Override: GET.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="units__idu__objects_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/units/{idu}</span>/objects</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne le résultat contenant un Object d&#39;archives : ses métadonnées ou un de ses objets binaires. Dans le cas des métadonnées, la requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée. &#39;Accept&#39; header est &#39;application/octet-stream&#39; (objet binaire) ou &#39;application/json&#39; (métadonnées)</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units__idu__objects_get_request" data-toggle="tab">Request</a></li><li><a href="#units__idu__objects_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units__idu__objects_get_request"><h3>URI Parameters</h3><ul><li><strong>idu</strong>: <em>required (string)</em><p>Identifiant de l&#39;unité d&#39;archive.</p></li></ul><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (one of application/octet-stream, application/json, application/zip)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li><li><strong>X-Qualifier</strong>: <em>(one of PhysicalMaster, BinaryMaster, Dissemination, Thumbnail, TextContent)</em><p>L&#39;usage est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Version</strong>: <em>(integer)</em><p>La version est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$projection": { "$fields": { "#id": 1, "#qualifiers": 1, "#type": 1, "#parents": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="units__idu__objects_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie l&#39;objet binaire (Returns the list of 1 Object matching the DSL query)</p><h3>Headers</h3><ul><li><strong>X-Qualifier</strong>: <em>(one of PhysicalMaster, BinaryMaster, Dissemination, Thumbnail, TextContent)</em><p>L&#39;usage est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Version</strong>: <em>(integer)</em><p>La version est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/octet-stream</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 1,
    "size": 1,
    "offset": 0,
    "limit": 10000
  },
  "$context": {
    "$projection": { "$fields": { "#id": 1, "#qualifiers": 1, "#type": 1, "#parents": 1 } }
  },
  "$results": [
    {
      "#id": "id101", "#type": "Document",
      "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 },
      "#parents": [ { "#id": "id1", "#type": "DemandeCongés", "#sector": "RessourcesHumaines" } ]
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="units__idu__objects_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/units/{idu}</span>/objects</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne le résultat contenant un Object d&#39;archives : ses métadonnées ou un de ses objets binaires. Dans le cas des métadonnées, la requête utilise le langage de requête DSL de type <strong>recherche unitaire (GET BY ID)</strong> de Vitam en entrée. &#39;Accept&#39; header est &#39;application/octet-stream&#39; (objet binaire) ou &#39;application/json&#39; (métadonnées) La requête utilise POST avec X-Http-Method-Override: GET.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#units__idu__objects_post_request" data-toggle="tab">Request</a></li><li><a href="#units__idu__objects_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="units__idu__objects_post_request"><h3>URI Parameters</h3><ul><li><strong>idu</strong>: <em>required (string)</em><p>Identifiant de l&#39;unité d&#39;archive.</p></li></ul><h3>Headers</h3><ul><li><strong>X-Http-Method-Override</strong>: <em>required (GET)</em></li><li><strong>Accept</strong>: <em>required (one of application/octet-stream, application/json, application/zip)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li><li><strong>X-Qualifier</strong>: <em>(one of PhysicalMaster, BinaryMaster, Dissemination, Thumbnail, TextContent)</em><p>L&#39;usage est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Version</strong>: <em>(integer)</em><p>La version est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$projection": { "$fields": { "#id": 1, "#qualifiers": 1, "#type": 1, "#parents": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="units__idu__objects_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie l&#39;objet binaire (Returns the list of 1 Object matching the DSL query)</p><h3>Headers</h3><ul><li><strong>X-Qualifier</strong>: <em>(one of PhysicalMaster, BinaryMaster, Dissemination, Thumbnail, TextContent)</em><p>L&#39;usage est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Version</strong>: <em>(integer)</em><p>La version est utilisée et obligatoire uniquement en présence de Accept: application/octet-stream. <strong>ONLY VALID with Accept application/octet-stream</strong></p></li><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/octet-stream</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 1,
    "size": 1,
    "offset": 0,
    "limit": 10000
  },
  "$context": {
    "$projection": { "$fields": { "#id": 1, "#qualifiers": 1, "#type": 1, "#parents": 1 } }
  },
  "$results": [
    {
      "#id": "id101", "#type": "Document",
      "#qualifiers": { "BinaryMaster": 5, "Dissemination": 1, "Thumbnail": 1, "TextContent": 1 },
      "#parents": [ { "#id": "id1", "#type": "DemandeCongés", "#sector": "RessourcesHumaines" } ]
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="unitswithinheritedrules" class="panel-title">ArchiveUnits with inherited rules</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit les requêtes pour accéder aux Unités d&#39;archives avec leurs règles de gestion héritées. La requête utilise le langage de requête DSL de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives avec leurs règles de gestion selon le DSL Vitam en cas de succès.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_unitswithinheritedrules"><span class="parent"></span>/unitsWithInheritedRules</a> <span class="methods"><a href="#unitswithinheritedrules_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_unitswithinheritedrules" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#unitswithinheritedrules_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne des résultats contenant des Unités d&#39;archives ainsi que leurs règles de gestion héritées. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives avec leurs règles de gestion selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="unitswithinheritedrules_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/unitsWithInheritedRules</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne des résultats contenant des Unités d&#39;archives ainsi que leurs règles de gestion héritées. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée et retourne une liste d&#39;Unités d&#39;archives avec leurs règles de gestion selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#unitswithinheritedrules_get_request" data-toggle="tab">Request</a></li><li><a href="#unitswithinheritedrules_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="unitswithinheritedrules_get_request"><h3>Headers</h3><ul><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$roots": [ "id0" ],
  "$query": [
    { "$match": { "title": "titre" }, "$depth": 4 }
  ],
  "$filter": { "$limit": 1000, "$offset": 10 },
  "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#sector": 1, "#parents": 1, "#object": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="unitswithinheritedrules_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste des résultats d&#39;Unités d&#39;archives correspondant à la requête DSL ainsi que leurs règles héritées.</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode": 200,
  "$hits": {
    "total": 1,
    "size": 3,
    "offset": 0,
    "limit": 1000
  },
  "$context": {
    "$roots": [ "id0" ],
    "$query": [
      { "$match": { "title": "Arpajon" }, "$depth": 4 }
    ],
    "$filter": { "$limit": 1000, "$offset": 10 },
    "$projection": { "$fields": { "#id": 1, "title": 1 } }
  },
  "$results": [
    {
      "Title": "Arpajon",
      "#id": "aeaqaaaaaaftcq6raam3galew4bftjiaaaba",
      "InheritedRules": {
        "StorageRule": {
          "Rules": [],
          "Properties": []
        },
        "AppraisalRule": {
          "Rules": [
            {
              "UnitId": "aeaqaaaaaaftcq6raam3galew4bftjiaaaba",
              "OriginatingAgency": "SNCF",
              "Paths": [
                [
                  "aeaqaaaaaaftcq6raam3galew4bftjiaaaba"
                ]
              ],
              "Rule": "APP-00049",
              "StartDate": "2014-01-01",
              "EndDate": "2015-01-01"
            }
          ],
          "Properties": [
            {
              "UnitId": "aeaqaaaaaaftcq6raam3galew4bftjiaaaba",
              "OriginatingAgency": "SNCF",
              "Paths": [
                [
                  "aeaqaaaaaaftcq6raam3galew4bftjiaaaba"
                ]
              ],
              "PropertyName": "FinalAction",
              "PropertyValue": "Destroy"
            }
          ]
        },
        "DisseminationRule": {
          "Rules": [],
          "Properties": []
        },
        "ReuseRule": {
          "Rules": [],
          "Properties": []
        },
        "ClassificationRule": {
          "Rules": [],
          "Properties": []
        },
        "AccessRule": {
          "Rules": [],
          "Properties": []
        }
      }
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="dipexport" class="panel-title">DIP Export</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit les requêtes pour générer un DIP (Dissemination Information Package : ZIP contenant les métadonnées et les objets) pour une sélection d&#39;Unités d&#39;archives. La requête utilise le langage de requête (DSL) de Vitam en entrée et va lancer un processus générant le DIP selon le DSL passé. Une autre requête pourra être exécutée par la suite pour télécharger le fichier Zip généré.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_dipexport"><span class="parent"></span>/dipexport</a> <span class="methods"><a href="#dipexport_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_dipexport" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#dipexport_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>response : JSON asynchronous state / HTTP CODE 202 or 500 for Internal Server Error La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="dipexport_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/dipexport</h4></div><div class="modal-body"><div class="alert alert-info"><p>response : JSON asynchronous state / HTTP CODE 202 or 500 for Internal Server Error La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#dipexport_post_request" data-toggle="tab">Request</a></li><li><a href="#dipexport_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="dipexport_post_request"><h3>Headers</h3><ul><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$roots": [ "id0" ],
  "$query": [
    { "$match": { "title": "titre" }, "$depth": 4 }
  ],
  "$filter": { "$limit": 1000, "$offset": 10 },
  "$projection": { "$fields": { "#id": 1, "title": 1, "#type": 1, "#sector": 1, "#parents": 1, "#object": 1 } }
}
</code></pre></div></div><div class="tab-pane" id="dipexport_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de DIP</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "#id": "idDip",
  "httpCode" : 202,
  "code" : "vitamcode",
  "context": "access",
  "state": "Running",
  "message": "The DIP is in progress",
  "description": "The application &#39;Xxxx&#39; requested a DIP operation and this operation is in progress.",
  "start_date": "2014-01-10T03:06:17.396Z"
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie ce statut en cas d&#39;erreur interne</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_dipexport__id__dip_"><span class="parent">/dipexport</span>/{id}/dip/</a> <span class="methods"><a href="#dipexport__id__dip__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_dipexport__id__dip_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Télécharger le DIP généré par l&#39;opération passée en paramètre</p></div><div class="list-group"><div onclick="window.location.href = '#dipexport__id__dip__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne les résultats composés des métadonnées et des objets binaires dans un fichier zip &#39;Accept&#39; header est &#39;application/octet-stream&#39;</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="dipexport__id__dip__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/dipexport</span>/{id}/dip/</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne les résultats composés des métadonnées et des objets binaires dans un fichier zip &#39;Accept&#39; header est &#39;application/octet-stream&#39;</p></div><ul class="nav nav-tabs"><li class="active"><a href="#dipexport__id__dip__get_request" data-toggle="tab">Request</a></li><li><a href="#dipexport__id__dip__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="dipexport__id__dip__get_request"><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>Identifiant de l&#39;opération d&#39;export DIP.</p></li></ul><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/octet-stream)</em></li></ul></div><div class="tab-pane" id="dipexport__id__dip__get_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Returns the generated zip file</p><h3>Body</h3><p><strong>Media type</strong>: application/octet-stream</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="v2_dipexport" class="panel-title">DIP Export V2</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit les requêtes pour générer un DIP (Dissemination Information Package : ZIP contenant les métadonnées et les objets) pour une sélection d&#39;Unités d&#39;archives. La requête est composée d&#39;une dslRequest (DSL) et d&#39;autres paramètres nécessaires pour le service. Un processus générant le DIP V2 selon le DSL passé sera lancé. Une autre requête pourra être exécutée par la suite pour télécharger le fichier Zip généré.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_v2_dipexport"><span class="parent"></span>/v2/dipexport</a> <span class="methods"><a href="#v2_dipexport_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_v2_dipexport" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#v2_dipexport_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>response : JSON asynchronous state / HTTP CODE 202 or 500 for internal error La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="v2_dipexport_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/v2/dipexport</h4></div><div class="modal-body"><div class="alert alert-info"><p>response : JSON asynchronous state / HTTP CODE 202 or 500 for internal error La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#v2_dipexport_post_request" data-toggle="tab">Request</a></li><li><a href="#v2_dipexport_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="v2_dipexport_post_request"><h3>Headers</h3><ul><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>dipExportType</strong>: <em>required (one of MINIMAL, FULL)</em><p>Le type d&#39;export DIP</p></li><li><strong>exportWithLogBookLFC</strong>: <em>(boolean)</em><p>True pour inclure les logbook de cycle de vie des unités archivistiques et groupes d&#39;objets</p></li><li><strong>dslRequest</strong>: <em>required (object)</em><p>Contient la requête de recherche</p><ul><li><strong>$roots</strong>: <em>required (array of items)</em><p>Contient les racines de la recherche</p></li><li><strong>$query</strong>: <em>required (array of items)</em><p>Contient plusieurs requêtes</p></li><li><strong>$filter</strong>: <em>(object)</em><p>Contient les filtres à appliquer</p><ul><li><strong>$offset</strong>: <em>(integer - minimum: 1 - maximum: 100000)</em></li><li><strong>$limit</strong>: <em>(integer - minimum: 1 - maximum: 100000)</em></li><li><strong>$orderby</strong>: <em>(object)</em><ul></ul></li></ul></li><li><strong>$projection</strong>: <em>(object)</em><p>Contient la projection à appliquer</p><ul><li><strong>$fields</strong>: <em>(object)</em><ul></ul></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$roots": [
    "guid1",
    "guid2"
  ],
  "$query": [
    {
      "$eq": {
        "myField1": "myValue"
      },
      "$depth": 4
    }
  ],
  "$filter": {
    "$limit": 100,
    "$offset": 50
  },
  "$projection": {
    "$fields": {
      "myField1": 1,
      "myField2.mySubField": 1
    }
  }
}</code></pre></div></li><li><strong>dataObjectVersionToExport</strong>: <em>(object)</em><p>L&#39;identifiant du scénario de préservation</p><ul><li><strong>dataObjectVersions</strong>: <em>required (array of items)</em><p>Liste des versions d&#39;objets à inclure dans l&#39;export</p></li></ul></li><li><strong>dipRequestParameters</strong>: <em>(object)</em><p>Les paramètres nécessaires pour faire un export DIP, ce champs est obligatoire quand le dipExportType est FULL</p><ul><li><strong>archivalAgreement</strong>: <em>(string)</em><p>Contrat d&#39;entrée</p></li><li><strong>originatingAgencyIdentifier</strong>: <em>(string)</em><p>Identifiant du service producteur</p></li><li><strong>comment</strong>: <em>(string)</em><p>Intitulé</p></li><li><strong>submissionAgencyIdentifier</strong>: <em>(string)</em><p>Identifiant du service versant</p></li><li><strong>archivalAgencyIdentifier</strong>: <em>required (string)</em><p>Identifiant du service d&#39;archives. Si Vitam trouve un seul service d&#39;archives pour la selection d&#39;unités archivistiques, ce service sera utilisé par défaut.</p></li><li><strong>messageRequestIdentifier</strong>: <em>required (string)</em><p>Identifiant de la demande</p></li><li><strong>requesterIdentifier</strong>: <em>required (string)</em><p>Identifiant du demandeur</p></li><li><strong>authorizationRequestReplyIdentifier</strong>: <em>(string)</em><p>Identifiant de la réponse à une demande d&#39;autorisation</p></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dipExportType": "FULL",
  "dataObjectVersionToExport": {
    "dataObjectVersions": [
      "BinaryMaster"
    ]
  },
  "transferWithLogBookLFC": true,
  "dipRequestParameters": {
    "archivalAgreement": "ArchivalAgreement",
    "originatingAgencyIdentifier": "OriginatingAgencyIdentifier",
    "comment": "Comment",
    "submissionAgencyIdentifier": "SubmissionAgencyIdentifier",
    "messageRequestIdentifier": "MessageRequestIdentifier",
    "authorizationRequestReplyIdentifier": "AuthorizationRequestReplyIdentifier",
    "archivalAgencyIdentifier": "ArchivalAgencyIdentifier",
    "requesterIdentifier": "RequesterIdentifier"
  },
  "dslRequest": {
    "$roots": [
      "id0"
    ],
    "$query": [
      {
        "$match": {
          "title": "titre"
        },
        "$depth": 4
      }
    ],
    "$filter": {
      "$limit": 1000,
      "$offset": 10
    },
    "$projection": {
      "$fields": {
        "#id": 1,
        "title": 1,
        "#type": 1,
        "#sector": 1,
        "#parents": 1,
        "#object": 1
      }
    }
  }
}
</code></pre></div></div><div class="tab-pane" id="v2_dipexport_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de DIP V2</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "#id": "idDip",
  "httpCode" : 202,
  "code" : "vitamcode",
  "context": "access",
  "state": "Running",
  "message": "The DIP is in progress",
  "description": "The application &#39;Xxxx&#39; requested a DIP operation and this operation is in progress.",
  "start_date": "2014-01-10T03:06:17.396Z"
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie ce statut en cas d&#39;erreur interne</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_v2_dipexport__id__dip_"><span class="parent">/v2/dipexport</span>/{id}/dip/</a> <span class="methods"><a href="#v2_dipexport__id__dip__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_v2_dipexport__id__dip_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Télécharger le DIP généré par l&#39;opération passée en paramètre</p></div><div class="list-group"><div onclick="window.location.href = '#v2_dipexport__id__dip__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne les résultats composés des métadonnées et des objets binaires dans un fichier zip &#39;Accept&#39; header est &#39;application/octet-stream&#39;</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="v2_dipexport__id__dip__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/v2/dipexport</span>/{id}/dip/</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne les résultats composés des métadonnées et des objets binaires dans un fichier zip &#39;Accept&#39; header est &#39;application/octet-stream&#39;</p></div><ul class="nav nav-tabs"><li class="active"><a href="#v2_dipexport__id__dip__get_request" data-toggle="tab">Request</a></li><li><a href="#v2_dipexport__id__dip__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="v2_dipexport__id__dip__get_request"><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>Identifiant de l&#39;opération d&#39;export DIP V2.</p></li></ul><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/octet-stream)</em></li></ul></div><div class="tab-pane" id="v2_dipexport__id__dip__get_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Returns the generated zip file</p><h3>Body</h3><p><strong>Media type</strong>: application/octet-stream</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="transfers" class="panel-title">Transfert d'archives</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit les requêtes pour générer un transfert d&#39;une sélection d&#39;unités d&#39;archives. La requête est composée d&#39;une dslRequest (DSL) et d&#39;autres paramètres nécessaires pour le service. Un processus générant le SIP selon le DSL passé sera lancé. Une autre requête pourra être exécutée par la suite pour télécharger le fichier Zip généré.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transfers"><span class="parent"></span>/transfers</a> <span class="methods"><a href="#transfers_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_transfers" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transfers_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>response : JSON asynchronous state / HTTP CODE (202, 200) or (412, 500 else) La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transfers_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/transfers</h4></div><div class="modal-body"><div class="alert alert-info"><p>response : JSON asynchronous state / HTTP CODE (202, 200) or (412, 500 else) La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam en entrée.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transfers_post_request" data-toggle="tab">Request</a></li><li><a href="#transfers_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transfers_post_request"><h3>Headers</h3><ul><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>exportWithLogBookLFC</strong>: <em>(boolean)</em><p>True pour inclure les logbook de cycle de vie des unités archivistiques et groupes d&#39;objets</p></li><li><strong>dslRequest</strong>: <em>required (object)</em><p>Contient la requête de recherche</p><ul><li><strong>$roots</strong>: <em>required (array of items)</em><p>Contient les racines de la recherche</p></li><li><strong>$query</strong>: <em>required (array of items)</em><p>Contient plusieurs requêtes</p></li><li><strong>$filter</strong>: <em>(object)</em><p>Contient les filtres à appliquer</p><ul><li><strong>$offset</strong>: <em>(integer - minimum: 1 - maximum: 100000)</em></li><li><strong>$limit</strong>: <em>(integer - minimum: 1 - maximum: 100000)</em></li><li><strong>$orderby</strong>: <em>(object)</em><ul></ul></li></ul></li><li><strong>$projection</strong>: <em>(object)</em><p>Contient la projection à appliquer</p><ul><li><strong>$fields</strong>: <em>(object)</em><ul></ul></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$roots": [
    "guid1",
    "guid2"
  ],
  "$query": [
    {
      "$eq": {
        "myField1": "myValue"
      },
      "$depth": 4
    }
  ],
  "$filter": {
    "$limit": 100,
    "$offset": 50
  },
  "$projection": {
    "$fields": {
      "myField1": 1,
      "myField2.mySubField": 1
    }
  }
}</code></pre></div></li><li><strong>dataObjectVersionToExport</strong>: <em>(object)</em><p>L&#39;identifiant du scénario de préservation</p><ul><li><strong>dataObjectVersions</strong>: <em>required (array of items)</em><p>Liste des versions d&#39;objets à inclure dans l&#39;export</p></li></ul></li><li><strong>transferRequestParameters</strong>: <em>required (object)</em><p>Les paramètres nécessaires pour faire un transfert d&#39;unités archivistiques</p><ul><li><strong>archivalAgreement</strong>: <em>required (string)</em><p>Contrat d&#39;entrée</p></li><li><strong>originatingAgencyIdentifier</strong>: <em>required (string)</em><p>Identifiant du service producteur</p></li><li><strong>archivalAgencyIdentifier</strong>: <em>required (string)</em><p>Identifiant du service d&#39;archives</p></li><li><strong>comment</strong>: <em>(string)</em><p>Intitulé</p></li><li><strong>submissionAgencyIdentifier</strong>: <em>(string)</em><p>Identifiant du service versant</p></li><li><strong>transferringAgency</strong>: <em>(string)</em><p>Service versant</p></li><li><strong>transferRequestReplyIdentifier</strong>: <em>(string)</em><p>Identifiant de la réponse à une demande de transfert</p></li><li><strong>relatedTransferReference</strong>: <em>(array of items)</em><p>Référence à un transfert d&#39;archives lié</p></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dataObjectVersionToExport": {
    "dataObjectVersions": [
      "BinaryMaster"
    ]
  },
  "transferWithLogBookLFC": true,
  "transferRequestParameters": {
    "archivalAgreement": "ArchivalAgreement",
    "originatingAgencyIdentifier": "OriginatingAgencyIdentifier",
    "comment": "Comment",
    "submissionAgencyIdentifier": "SubmissionAgencyIdentifier",
    "relatedTransferReference": [
      "RelatedTransferReference"
    ],
    "transferRequestReplyIdentifier": "TransferRequestReplyIdentifier",
    "archivalAgencyIdentifier": "ArchivalAgencyIdentifier",
    "transferringAgency": "TransferringAgency"
  },
  "dslRequest": {
    "$roots": [
      "id0"
    ],
    "$query": [
      {
        "$match": {
          "title": "titre"
        },
        "$depth": 4
      }
    ],
    "$filter": {
      "$limit": 1000,
      "$offset": 10
    },
    "$projection": {
      "$fields": {
        "#id": 1,
        "title": 1,
        "#type": 1,
        "#sector": 1,
        "#parents": 1,
        "#object": 1
      }
    }
  }
}
</code></pre></div></div><div class="tab-pane" id="transfers_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de Transfer</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "#id": "idTransfer",
  "httpCode" : 202,
  "code" : "vitamcode",
  "context": "access",
  "state": "Completed",
  "message": "The Transfer is in progress",
  "description": "The application &#39;Xxxx&#39; requested a Transfer operation and this operation is in progress.",
  "start_date": "2014-01-10T03:06:17.396Z"
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie ce statut en cas d&#39;erreur interne</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transfers__id__sip_"><span class="parent">/transfers</span>/{id}/sip/</a> <span class="methods"><a href="#transfers__id__sip__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_transfers__id__sip_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Télécharger le SIP généré par l&#39;opération passée en paramètre</p></div><div class="list-group"><div onclick="window.location.href = '#transfers__id__sip__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne un SIP au format ZIP &#39;Accept&#39; header est &#39;application/octet-stream&#39;</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transfers__id__sip__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/transfers</span>/{id}/sip/</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne un SIP au format ZIP &#39;Accept&#39; header est &#39;application/octet-stream&#39;</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transfers__id__sip__get_request" data-toggle="tab">Request</a></li><li><a href="#transfers__id__sip__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transfers__id__sip__get_request"><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>Identifiant de l&#39;opération du transfert d&#39;archives.</p></li></ul><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/octet-stream)</em></li></ul></div><div class="tab-pane" id="transfers__id__sip__get_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Returns the generated SIP file</p><h3>Body</h3><p><strong>Media type</strong>: application/octet-stream</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="objects" class="panel-title">Groupe d'objet</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit l&#39;ensemble des requêtes sur les groupes d&#39;objets.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_objects"><span class="parent"></span>/objects</a> <span class="methods"><a href="#objects_get"><span class="badge badge_get">get</span></a> <a href="#objects_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_objects" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#objects_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Requête qui retourne des résultats contenant des Groupes d&#39;objets. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam et peut utiliser l&#39;opérateur $subobject (Voir documentation DSL) en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#objects_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Requête qui retourne des résultats contenant des Groupes d&#39;objets en utilisant le verbe POST et le header X-Http-Method-Override: GET. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam et peut utiliser l&#39;opérateur $subobject (Voir documentation DSL) en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="objects_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/objects</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne des résultats contenant des Groupes d&#39;objets. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam et peut utiliser l&#39;opérateur $subobject (Voir documentation DSL) en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#objects_get_request" data-toggle="tab">Request</a></li><li><a href="#objects_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="objects_get_request"><h3>Headers</h3><ul><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
 "$query": [
   {
     "$and": [
       {
     "$match": {
       "FileInfo.FileName": "FileName.txt"
     }
       },
       {
     "$subobject": {
       "#qualifiers.versions": {
         "$and": [
           {
         "$eq": {
           "#qualifiers.versions.FormatIdentification.MimeType": "text/plain"
         }
           },
           {
         "$lte": {
           "#qualifiers.versions.Size": 20000
         }
           }
         ]
       }
     }
       }
     ]
   }
 ],
 "$projection": {},
 "$filter": {}
}
</code></pre></div></div><div class="tab-pane" id="objects_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste de résultats correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="objects_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/objects</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne des résultats contenant des Groupes d&#39;objets en utilisant le verbe POST et le header X-Http-Method-Override: GET. La requête utilise le langage de requête DSL de type <strong>recherche multiple (SELECT MULTIPLE)</strong> de Vitam et peut utiliser l&#39;opérateur $subobject (Voir documentation DSL) en entrée et retourne une liste d&#39;Unités d&#39;archives selon le DSL Vitam en cas de succès.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#objects_post_request" data-toggle="tab">Request</a></li><li><a href="#objects_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="objects_post_request"><h3>Headers</h3><ul><li><strong>X-Http-Method-Override</strong>: <em>required (GET)</em></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li><li><strong>Accept</strong>: <em>required (one of application/json, application/zip, application/octet-stream)</em><p>Allow to specify if a result must contain only Metadata (&#39;<em>application/json</em>&#39;) or only the <em>Objects</em> with a binary content (&#39;<em>application/octet-stream</em>&#39;).</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
 "$query": [
   {
     "$and": [
       {
     "$match": {
       "FileInfo.FileName": "FileName.txt"
     }
       },
       {
     "$subobject": {
       "#qualifiers.versions": {
         "$and": [
           {
         "$eq": {
           "#qualifiers.versions.FormatIdentification.MimeType": "text/plain"
         }
           },
           {
         "$lte": {
           "#qualifiers.versions.Size": 20000
         }
           }
         ]
       }
     }
       }
     ]
   }
 ],
 "$projection": {},
 "$filter": {}
}
</code></pre></div></div><div class="tab-pane" id="objects_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Renvoie la liste de résultats correspondant à la requête DSL</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Bad Request, syntax might be erroneous</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Forbidden, requested action is forbidden</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="elimination" class="panel-title">Elimination</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui définit les requêtes pour l&#39;élimination des unités archivistiques.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_elimination_analysis"><span class="parent">/elimination</span>/analysis</a> <span class="methods"><a href="#elimination_analysis_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_elimination_analysis" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Opération d&#39;analyse des unités archivistiques éliminables.</p></div><div class="list-group"><div onclick="window.location.href = '#elimination_analysis_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Exécute une opération d&#39;analyse d&#39;élimination des unités archivistiques.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="elimination_analysis_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/elimination</span>/analysis</h4></div><div class="modal-body"><div class="alert alert-info"><p>Exécute une opération d&#39;analyse d&#39;élimination des unités archivistiques.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#elimination_analysis_post_request" data-toggle="tab">Request</a></li><li><a href="#elimination_analysis_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="elimination_analysis_post_request"><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/json)</em></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dslRequest": {
    "$roots": [ "id0" ],
    "$query": [
      {
        "$match": { "title": "titre" },
        "$depth": 4
      }
    ],
    "$threshold": 10000
  },
  "date": "2018-01-23"
}
</code></pre></div></div><div class="tab-pane" id="elimination_analysis_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Success</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de l&#39;élimination</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode" : 202
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie le statut final de l&#39;opération d&#39;élimination en KO</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_elimination_action"><span class="parent">/elimination</span>/action</a> <span class="methods"><a href="#elimination_action_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_elimination_action" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Opération d&#39;élimination définitive des unités archivistiques éliminables.</p></div><div class="list-group"><div onclick="window.location.href = '#elimination_action_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Exécute une opération d&#39;élimination définitive des unités archivistiques.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="elimination_action_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/elimination</span>/action</h4></div><div class="modal-body"><div class="alert alert-info"><p>Exécute une opération d&#39;élimination définitive des unités archivistiques.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#elimination_action_post_request" data-toggle="tab">Request</a></li><li><a href="#elimination_action_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="elimination_action_post_request"><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/json)</em></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dslRequest": {
    "$roots": [ "id0" ],
    "$query": [
      {
        "$match": { "title": "titre" },
        "$depth": 4
      }
    ],
    "$threshold": 10000
  },
  "date": "2018-01-23"
}
</code></pre></div></div><div class="tab-pane" id="elimination_action_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Success</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de l&#39;élimination</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode" : 202
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie le statut final de l&#39;opération d&#39;élimination en KO</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="storageaccesslog" class="panel-title">Journaux d'accès</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui permet de lancer des actions relatives aux journaux d&#39;accès aux objets binaires des unités archivistiques.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_storageaccesslog"><span class="parent"></span>/storageaccesslog</a> <span class="methods"><a href="#storageaccesslog_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_storageaccesslog" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#storageaccesslog_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Lancer la récupération des journaux sous la forme d&#39;un ZIP contenant des fichiers de log au format Json Lines. La requête prend en paramètre un objet Json pouvant contenir une date de début (StartDate) ou de fin (EndDate) pour filtrer les journaux.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="storageaccesslog_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/storageaccesslog</h4></div><div class="modal-body"><div class="alert alert-info"><p>Lancer la récupération des journaux sous la forme d&#39;un ZIP contenant des fichiers de log au format Json Lines. La requête prend en paramètre un objet Json pouvant contenir une date de début (StartDate) ou de fin (EndDate) pour filtrer les journaux.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#storageaccesslog_get_request" data-toggle="tab">Request</a></li><li><a href="#storageaccesslog_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="storageaccesslog_get_request"><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/json)</em></li><li><strong>Content-Type</strong>: <em>required (application/json)</em></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>StartDate</strong>: <em>(string)</em><p>Date de début des fichiers de log (un fichier de log contenant des logs après et avant cette date est remonté au complet)</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2018-11-14</code></pre></div></li><li><strong>EndDate</strong>: <em>(string)</em><p>Date de fin des fichiers de log (un fichier de log contenant des logs après et avant cette date est remonté au complet)</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2018-11-14</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "StartDate": "2018-11-14"
}
</code></pre></div></div><div class="tab-pane" id="storageaccesslog_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Success</p><h3>Body</h3><p><strong>Media type</strong>: application/octet-stream</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, date in json input body is not parsable, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="preservation" class="panel-title">Préservation</h3></div><div class="panel-body"><div class="top-resource-description"><p>Opération de préservation des unités archivistiques.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_preservation"><span class="parent"></span>/preservation</a> <span class="methods"><a href="#preservation_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_preservation" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#preservation_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Exécute une opération de préservation sur (une ou) les unités archivistiques.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="preservation_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/preservation</h4></div><div class="modal-body"><div class="alert alert-info"><p>Exécute une opération de préservation sur (une ou) les unités archivistiques.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#preservation_post_request" data-toggle="tab">Request</a></li><li><a href="#preservation_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="preservation_post_request"><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/json)</em></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dslQuery" : {
    "$roots": [],
    "$query": [
      {
        "$eq": {
          "#id": "aeaqaaaaaaezyoa6abacealifcom6xyaaaaq"
        }
      }
    ],
    "$threshold": 40,
    "$filter": {},
    "$projection": {}
  },
  "scenarioId" : "PSC-000001",
  "targetUsage": "BinaryMaster",
  "sourceUsage": "Dissemination",
  "version": "FIRST"
}
</code></pre></div></div><div class="tab-pane" id="preservation_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Success</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de préservation</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "httpCode" : 202
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/412" target="_blank">412</a></h2><p>Precondition Failed, some predicates are incorrect, therefore the operation is not possible</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Renvoie le statut final de l&#39;opération de préservation en KO</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="transfers_reply" class="panel-title">Transfer Reply</h3></div><div class="panel-body"><div class="top-resource-description"><p>Démarage du traitement de l&#39;ATR adressé par le SAE cible dans le cas d&#39;un transfert</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transfers_reply"><span class="parent"></span>/transfers/reply</a> <span class="methods"><a href="#transfers_reply_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_transfers_reply" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transfers_reply_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Démarage du traitement de l&#39;ATR adressé par le SAE cible dans le cas d&#39;un transfert</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transfers_reply_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/transfers/reply</h4></div><div class="modal-body"><div class="alert alert-info"><p>Démarage du traitement de l&#39;ATR adressé par le SAE cible dans le cas d&#39;un transfert</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transfers_reply_post_request" data-toggle="tab">Request</a></li><li><a href="#transfers_reply_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transfers_reply_post_request"><h3>Headers</h3><ul><li><strong>Accept</strong>: <em>required (application/xml)</em></li><li><strong>Content-Type</strong>: <em>required (application/json)</em></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li><li><strong>X-Access-Contract-Id</strong>: <em>required (string)</em><p>Unique Access Contract Identifier. Allow read/write access on specific archive unit.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Access-Contract-00001</code></pre></div></li><li><strong>X-Personal-Certificate</strong>: <em>(string)</em><p>Personal certificate (in Base64-encoded DER format), required only if this resource needs personal authentification. If the resource requires personal authentication, and no personal certificate has been provided OR the provided personal certificate is unauthorized, the server will return a 401 http status.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>MIIGfzCCBGegAwIBAgICAPcwDQYJK...</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>exportWithLogBookLFC</strong>: <em>(boolean)</em><p>True pour inclure les logbook de cycle de vie des unités archivistiques et groupes d&#39;objets</p></li><li><strong>dslRequest</strong>: <em>required (object)</em><p>Contient la requête de recherche</p><ul><li><strong>$roots</strong>: <em>required (array of items)</em><p>Contient les racines de la recherche</p></li><li><strong>$query</strong>: <em>required (array of items)</em><p>Contient plusieurs requêtes</p></li><li><strong>$filter</strong>: <em>(object)</em><p>Contient les filtres à appliquer</p><ul><li><strong>$offset</strong>: <em>(integer - minimum: 1 - maximum: 100000)</em></li><li><strong>$limit</strong>: <em>(integer - minimum: 1 - maximum: 100000)</em></li><li><strong>$orderby</strong>: <em>(object)</em><ul></ul></li></ul></li><li><strong>$projection</strong>: <em>(object)</em><p>Contient la projection à appliquer</p><ul><li><strong>$fields</strong>: <em>(object)</em><ul></ul></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "$roots": [
    "guid1",
    "guid2"
  ],
  "$query": [
    {
      "$eq": {
        "myField1": "myValue"
      },
      "$depth": 4
    }
  ],
  "$filter": {
    "$limit": 100,
    "$offset": 50
  },
  "$projection": {
    "$fields": {
      "myField1": 1,
      "myField2.mySubField": 1
    }
  }
}</code></pre></div></li><li><strong>dataObjectVersionToExport</strong>: <em>(object)</em><p>L&#39;identifiant du scénario de préservation</p><ul><li><strong>dataObjectVersions</strong>: <em>required (array of items)</em><p>Liste des versions d&#39;objets à inclure dans l&#39;export</p></li></ul></li><li><strong>transferRequestParameters</strong>: <em>required (object)</em><p>Les paramètres nécessaires pour faire un transfert d&#39;unités archivistiques</p><ul><li><strong>archivalAgreement</strong>: <em>required (string)</em><p>Contrat d&#39;entrée</p></li><li><strong>originatingAgencyIdentifier</strong>: <em>required (string)</em><p>Identifiant du service producteur</p></li><li><strong>archivalAgencyIdentifier</strong>: <em>required (string)</em><p>Identifiant du service d&#39;archives</p></li><li><strong>comment</strong>: <em>(string)</em><p>Intitulé</p></li><li><strong>submissionAgencyIdentifier</strong>: <em>(string)</em><p>Identifiant du service versant</p></li><li><strong>transferringAgency</strong>: <em>(string)</em><p>Service versant</p></li><li><strong>transferRequestReplyIdentifier</strong>: <em>(string)</em><p>Identifiant de la réponse à une demande de transfert</p></li><li><strong>relatedTransferReference</strong>: <em>(array of items)</em><p>Référence à un transfert d&#39;archives lié</p></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "dataObjectVersionToExport": {
    "dataObjectVersions": [
      "BinaryMaster"
    ]
  },
  "transferWithLogBookLFC": true,
  "transferRequestParameters": {
    "archivalAgreement": "ArchivalAgreement",
    "originatingAgencyIdentifier": "OriginatingAgencyIdentifier",
    "comment": "Comment",
    "submissionAgencyIdentifier": "SubmissionAgencyIdentifier",
    "relatedTransferReference": [
      "RelatedTransferReference"
    ],
    "transferRequestReplyIdentifier": "TransferRequestReplyIdentifier",
    "archivalAgencyIdentifier": "ArchivalAgencyIdentifier",
    "transferringAgency": "TransferringAgency"
  },
  "dslRequest": {
    "$roots": [
      "id0"
    ],
    "$query": [
      {
        "$match": {
          "title": "titre"
        },
        "$depth": 4
      }
    ],
    "$filter": {
      "$limit": 1000,
      "$offset": 10
    },
    "$projection": {
      "$fields": {
        "#id": 1,
        "title": 1,
        "#type": 1,
        "#sector": 1,
        "#parents": 1,
        "#object": 1
      }
    }
  }
}
</code></pre></div></div><div class="tab-pane" id="transfers_reply_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Lancement du traitement</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Renvoie le statut de l&#39;opération de Transfer</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "#id": "idTransfer",
  "httpCode" : 202,
  "code" : "vitamcode",
  "context": "access",
  "state": "Completed",
  "message": "The Transfer is in progress",
  "description": "The application &#39;Xxxx&#39; requested a Transfer operation and this operation is in progress.",
  "start_date": "2014-01-10T03:06:17.396Z"
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Des erreurs interne</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Endpoints</h3></div><div class="panel-body"><div class="top-resource-description"><p>API qui liste les endpoints de la ressource /access-external/{version}.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_"><span class="parent"></span>/</a> <span class="methods"><a href="#_options"><span class="badge badge_options">options</span></a></span></h4></div><div id="panel_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_options'" class="list-group-item"><span class="badge badge_options">options</span><div class="method_description"><p>Requête qui retourne la liste des endpoints</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_options"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_options">options</span> <span class="parent"></span>/</h4></div><div class="modal-body"><div class="alert alert-info"><p>Requête qui retourne la liste des endpoints</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_options_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_options_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK, operation in success</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/503" target="_blank">503</a></h2><p>Service Unavailable, the requested service is unavailable</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="status" class="panel-title">/status</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_status"><span class="parent"></span>/status</a> <span class="methods"><a href="#status_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_status" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#status_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="status_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/status</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#status_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="status_get_response"><h2>HTTP status code <a href="http://httpstatus.es/204" target="_blank">204</a></h2><p>No Content, Used to test existence or for Status</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Unauthorized (restricted operation), authentication in error</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Not Found, requested resource does not exist</p><h3>Headers</h3><ul><li><strong>X-Request-Id</strong>: <em>required (string)</em><p>Unique Request Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>AbDUh67jj</code></pre></div></li><li><strong>FullApiVersion</strong>: <em>(string)</em><p>Complete Version of the API.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>V1.25</code></pre></div></li><li><strong>X-Application-Id</strong>: <em>(string)</em><p>Session Identifier from client Front-Office Application</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>SESSION-ID-00001</code></pre></div></li><li><strong>X-Tenant-Id</strong>: <em>required (number)</em><p>Unique Tenant Identifier</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/503" target="_blank">503</a></h2><p>Service Unavailable, the requested service is unavailable</p></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#units">ArchiveUnits</a></li><li><a href="#unitswithinheritedrules">ArchiveUnits with inherited rules</a></li><li><a href="#dipexport">DIP Export</a></li><li><a href="#v2_dipexport">DIP Export V2</a></li><li><a href="#transfers">Transfert d'archives</a></li><li><a href="#objects">Groupe d'objet</a></li><li><a href="#elimination">Elimination</a></li><li><a href="#storageaccesslog">Journaux d'accès</a></li><li><a href="#preservation">Préservation</a></li><li><a href="#transfers_reply">Transfer Reply</a></li><li><a href="#">Endpoints</a></li><li><a href="#status">/status</a></li></ul></div></div></div></div></body></html>