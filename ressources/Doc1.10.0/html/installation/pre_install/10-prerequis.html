

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.2. Pré-requis plate-forme &mdash; Documentation VITAM - Documentation d&#39;installation 1.10.0-1</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="3.3. Récupération de la version" href="31-get_version.html" />
    <link rel="prev" title="3.1. Expertises requises" href="01-prerequis-competences-link.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> VITAM - Documentation d'installation
          

          
            
            <img src="../_static/logo_vitam.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.10.0-1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#rappels">2. Rappels</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_toc.html">3. Prérequis à l’installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01-prerequis-competences-link.html">3.1. Expertises requises</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.2. Pré-requis plate-forme</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base-commune">3.2.1. Base commune</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pki">3.2.2. PKI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#systemes-d-exploitation">3.2.3. Systèmes d’exploitation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#deploiement-sur-environnement-centos">3.2.3.1. Déploiement sur environnement CentOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deploiement-sur-environnement-debian">3.2.3.2. Déploiement sur environnement Debian</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#materiel">3.2.4. Matériel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="31-get_version.html">3.3. Récupération de la version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation/_toc.html">4. Procédures d’installation / mise à jour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../update/_toc.html">5. Procédures de mise à jour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../post_install/_toc.html">6. Post installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../annexes/_toc.html">7. Annexes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VITAM - Documentation d'installation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_toc.html">3. Prérequis à l’installation</a> &raquo;</li>
        
      <li>3.2. Pré-requis plate-forme</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pre_install/10-prerequis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pre-requis-plate-forme">
<h1>3.2. Pré-requis plate-forme<a class="headerlink" href="#pre-requis-plate-forme" title="Lien permanent vers ce titre">¶</a></h1>
<p>Les pré-requis suivants sont nécessaires :</p>
<div class="section" id="base-commune">
<h2>3.2.1. Base commune<a class="headerlink" href="#base-commune" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li>Tous les serveurs hébergeant la solution <a class="reference internal" href="../introduction.html#term-vitam"><span class="xref std std-term">VITAM</span></a> doivent êre synchronisés sur un serveur de temps (pas de stratum 10)</li>
<li>Disposer de la solution de déploiement basée sur ansible</li>
</ul>
<p>Le déploiement est orchestré depuis un poste ou serveur d’administration ; les pré-requis suivants doivent y être présents&nbsp;:</p>
<ul class="simple">
<li>packages nécessaires :<ul>
<li>ansible (version <strong>2.7</strong> minimale et conseillée ; se référer à la <a class="reference external" href="http://docs.ansible.com/ansible/latest/intro_installation.html">documentation ansible</a> pour la procédure d’installation)</li>
<li>openssh-clients (client SSH utilisé par ansible)</li>
<li>java-1.8.0-openjdk &amp; openssl (du fait de la génération de certificats / stores, l’utilitaire <code class="docutils literal notranslate"><span class="pre">keytool</span></code> est nécessaire)</li>
</ul>
</li>
<li>un accès ssh vers un utilisateur d’administration avec élévation de privilèges vers les droits root, vitam, vitamdb sur les serveurs cibles.</li>
<li>Le compte utilisé sur le serveur d’administration doit avoir confiance dans les serveurs sur lesquels la solution logicielle <a class="reference internal" href="../introduction.html#term-vitam"><span class="xref std std-term">VITAM</span></a> doit être installée (fichier <code class="docutils literal notranslate"><span class="pre">~/.ssh/known_hosts</span></code> correctement renseigné)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Se référer à la <a class="reference external" href="http://docs.ansible.com/ansible/latest/intro_getting_started.html">documentation d’usage</a> pour les procédures de connexion aux machines-cibles depuis le serveur ansible.</p>
</div>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">Les IP des machines sur lesquelles la solution Vitam sera installée ne doivent pas changer d’IP au cours du temps, en cas de changement d’IP, la plateforme ne pourra plus fonctionner.</p>
</div>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">dans le cadre de l’installation des packages «&nbsp;extra&nbsp;», il est nécessaire, pour les partitions hébergeant des containeurs docker (mongo-express, head), qu’elles aient un accès internet.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">dans le cas d’une installation du composant <code class="docutils literal notranslate"><span class="pre">vitam-offer</span></code> en <code class="docutils literal notranslate"><span class="pre">filesystem-hash</span></code>, il est fortement recommandé d’employer un système de fichiers <code class="docutils literal notranslate"><span class="pre">xfs</span></code> pour le stockage des données. Se référer au <a class="reference internal" href="../introduction.html#term-dat"><span class="xref std std-term">DAT</span></a> pour connaître la structuration des filesystems dans <a class="reference internal" href="../introduction.html#term-vitam"><span class="xref std std-term">VITAM</span></a>. En cas d’utilisation d’un autre type, s’assurer que le filesystem possède/gère bien l’option <code class="docutils literal notranslate"><span class="pre">user_xattr</span></code>.</p>
</div>
</div>
<div class="section" id="pki">
<h2>3.2.2. PKI<a class="headerlink" href="#pki" title="Lien permanent vers ce titre">¶</a></h2>
<p>La solution VITAM nécessite des certificats pour son bon fonctionnement (cf. <a class="reference internal" href="../introduction.html#term-dat"><span class="xref std std-term">DAT</span></a> pour la liste des secrets et <a class="reference internal" href="../annexes/10-overview_certificats.html"><span class="doc">Vue d’ensemble de la gestion des certificats</span></a> pour une vue d’ensemble de leur usage.) La gestion de ces certificats, par le biais d’une ou plusieurs PKI, est à charge de l’équipe d’exploitation. La mise à disposition des certificats et des chaînes de validation CA, placés dans les répertoires de déploiement adéquats, est un pré-requis à tout déploiement en production de la solution VITAM.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last">Veuillez vous référer à la section <a class="reference internal" href="../annexes/10-overview_certificats.html"><span class="doc">Vue d’ensemble de la gestion des certificats</span></a> pour la liste des certificats nécessaires au déploiement de la solution VITAM, ainsi que pour leurs répertoires de déploiement.</p>
</div>
</div>
<div class="section" id="systemes-d-exploitation">
<h2>3.2.3. Systèmes d’exploitation<a class="headerlink" href="#systemes-d-exploitation" title="Lien permanent vers ce titre">¶</a></h2>
<p>Seules deux distributions Linux suivantes sont supportées à ce jour :</p>
<ul class="simple">
<li>CentOS 7</li>
<li>Debian 8 (jessie)</li>
</ul>
<p>SELinux doit être configuré en mode <code class="docutils literal notranslate"><span class="pre">permissive</span></code> ou <code class="docutils literal notranslate"><span class="pre">disabled</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">En cas de changement de mode SELinux, redémarrer les machines pour la bonne prise en compte de la modification.</p>
</div>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">En cas d’installation initiale, les utilisateurs et groupes systèmes (noms et UID) utilisés par VITAM (et listés dans le <a class="reference internal" href="../introduction.html#term-dat"><span class="xref std std-term">DAT</span></a>) ne doivent pas être présents sur les serveurs cible. Ces comptes sont créés lors de l’installation de VITAM et gérés par VITAM.</p>
</div>
<div class="section" id="deploiement-sur-environnement-centos">
<h3>3.2.3.1. Déploiement sur environnement CentOS<a class="headerlink" href="#deploiement-sur-environnement-centos" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li>Disposer d’une plate-forme Linux CentOS 7 installée selon la répartition des services souhaitée. En particulier, ces serveurs doivent avoir :<ul>
<li>une configuration de temps synchronisée (ex: en récupérant le temps à un serveur centralisé)</li>
<li>Des autorisations de flux conformément aux besoins décrits dans le <a class="reference internal" href="../introduction.html#term-dat"><span class="xref std std-term">DAT</span></a></li>
<li>une configuration des serveurs de noms correcte (cette configuration sera surchargée lors de l’installation)</li>
<li>un accès à un dépôt (ou son miroir) CentOS 7 (base et extras) et EPEL 7</li>
</ul>
</li>
<li>Disposer des binaires VITAM : paquets RPM de VITAM (vitam-product) ainsi que les paquets d’éditeurs tiers livrés avec Vitam (vitam-external)</li>
</ul>
</div>
<div class="section" id="deploiement-sur-environnement-debian">
<h3>3.2.3.2. Déploiement sur environnement Debian<a class="headerlink" href="#deploiement-sur-environnement-debian" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li>Disposer d’une plate-forme Linux Debian «&nbsp;jessie&nbsp;» installée selon la répartition des services souhaitée. En particulier, ces serveurs doivent avoir :<ul>
<li>une configuration de temps synchronisée (ex: en récupérant le temps à un serveur centralisé)</li>
<li>Des autorisations de flux conformément aux besoins décrits dans le <a class="reference internal" href="../introduction.html#term-dat"><span class="xref std std-term">DAT</span></a></li>
<li>une configuration des serveurs de noms correcte (cette configuration sera surchargée lors de l’installation)</li>
<li>un accès à un dépôt (ou son miroir) Debian (base et extras) et jessie-backports</li>
<li>un accès internet, car le dépôt docker sera ajouté</li>
</ul>
</li>
<li>Disposer des binaires VITAM : paquets deb de VITAM (vitam-product) ainsi que les paquets d’éditeurs tiers livrés avec Vitam (vitam-external)</li>
</ul>
</div>
</div>
<div class="section" id="materiel">
<h2>3.2.4. Matériel<a class="headerlink" href="#materiel" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les prérequis matériel sont définis dans le <a class="reference internal" href="../introduction.html#term-dat"><span class="xref std std-term">DAT</span></a> ; à l’heure actuelle, le minimum recommandé pour la solution Vitam est 2 CPUs. Il également est recommandé de prévoir (paramétrage par défaut à l’installation) 512Mo de RAM disponible par composant applicatif <a class="reference internal" href="../introduction.html#term-vitam"><span class="xref std std-term">VITAM</span></a> installé sur chaque machine (hors elasticsearch et mongo).</p>
<p>Concernant l’espace disque, à l’heure actuelle, aucun pré-requis n’a été défini ; cependant, sont à prévoir par la suite des espaces de stockage conséquents pour les composants suivants :</p>
<ul class="simple">
<li>storage-offer-default</li>
<li>solution de centralisation des logs (elasticsearch)</li>
<li>workspace</li>
<li>worker (temporairement, lors du traitement de chaque fichier à traiter)</li>
<li>elasticsearch des données Vitam</li>
</ul>
<p>L’arborescence associée sur les partitions associées est : <code class="docutils literal notranslate"><span class="pre">/vitam/data/&lt;composant&gt;</span></code></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="31-get_version.html" class="btn btn-neutral float-right" title="3.3. Récupération de la version" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="01-prerequis-competences-link.html" class="btn btn-neutral" title="3.1. Expertises requises" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.10.0-1',
              LANGUAGE:'fr',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>