<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed May 14 14:46:03 CEST 2025 -->
<title>LRUCache (Vitam API Reference (8.1.0))</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-05-14">
<meta name="description" content="declaration: package: fr.gouv.vitam.storage.offers.tape.cache, class: LRUCache">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LRUCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">fr.gouv.vitam.storage.offers.tape.cache</a></div>
<h1 title="Class LRUCache" class="title">Class LRUCache&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">fr.gouv.vitam.storage.offers.tape.cache.LRUCache&lt;T&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of entry keys maintained by this cache.</dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@ThreadSafe
</span><span class="modifiers">public class </span><span class="element-name type-name-label">LRUCache&lt;T&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Cache implementation with Least Recently Used (LRU) eviction policy, weighed entry capacity management, and eviction filtering for in-use/non-deletable entries.
 Before adding an entry, a reservation is done to ensure enough capacity is available. Once reservation done, entry can be added (by confirming reservation) ou canceled (by canceling reservation).
 Eviction handling is done asynchronously when reserving new entries in the cache reaches eviction capacity threshold. Reserved entries are not evicted since they are not yet added.
 If cache capacity exceeds its max capacity threshold, the entry reservation will fail with an exception.
 The eviction process ends when target eviction capacity threshold is reached, or no more entries to evict.
 During eviction process, entry eviction can be controlled using a <a href="LRUCacheEvictionJudge.html" title="interface in fr.gouv.vitam.storage.offers.tape.cache"><code><T></code></a>, which allows filtering of entries that cannot be evicted (currently locked).
 After an entry is evicted, a listener is invoked for eviction notification.
 When created, a cache must be initialized with a list of initial list of entries. Background eviction process may be triggered at the end of initialization is required.
 This class is Thread-Safe (all public methods are synchronized).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(long,long,long,java.util.function.Supplier,java.util.function.Consumer,java.util.stream.Stream,java.util.concurrent.Executor,fr.gouv.vitam.common.alert.AlertService)" class="member-name-link">LRUCache</a><wbr>(long&nbsp;maxCapacity,
 long&nbsp;evictionCapacity,
 long&nbsp;safeCapacity,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;<a href="LRUCacheEvictionJudge.html" title="interface in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEvictionJudge</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&gt;&nbsp;evictionJudgeFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&nbsp;evictionListener,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="LRUCacheEntry.html" title="class in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEntry</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&gt;&nbsp;initialEntries,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;evictionExecutor,
 <a href="../../../../common/alert/AlertService.html" title="interface in fr.gouv.vitam.common.alert">AlertService</a>&nbsp;alertService)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelReservation(T)" class="member-name-link">cancelReservation</a><wbr>(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cancels the reservation of a reserved entry and free-up cache capacity accordingly.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#confirmReservation(T)" class="member-name-link">confirmReservation</a><wbr>(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Confirm the reservation of a reserved entry and adds it to the cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#containsEntry(T)" class="member-name-link">containsEntry</a><wbr>(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this cache contains the specified entry.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentCapacity()" class="member-name-link">getCurrentCapacity</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEvictionCapacity()" class="member-name-link">getEvictionCapacity</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMaxCapacity()" class="member-name-link">getMaxCapacity</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="LRUCacheEntry.html" title="class in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEntry</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReservedEntry(T)" class="member-name-link">getReservedEntry</a><wbr>(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if specified entry key is reserved in the cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSafeCapacity()" class="member-name-link">getSafeCapacity</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCacheEvictionRunning()" class="member-name-link">isCacheEvictionRunning</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isReservedEntry(T)" class="member-name-link">isReservedEntry</a><wbr>(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if specified entry key is reserved in the cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reserveEntry(fr.gouv.vitam.storage.offers.tape.cache.LRUCacheEntry)" class="member-name-link">reserveEntry</a><wbr>(<a href="LRUCacheEntry.html" title="class in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEntry</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&nbsp;entry)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reserve cache capacity for a new entry to add the cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateEntryAccessTimestamp(T,java.time.Instant)" class="member-name-link">updateEntryAccessTimestamp</a><wbr>(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a>&nbsp;updatedLastAccessInstant)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Try update an existing (reserved or added) entry last access timestamp.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(long,long,long,java.util.function.Supplier,java.util.function.Consumer,java.util.stream.Stream,java.util.concurrent.Executor,fr.gouv.vitam.common.alert.AlertService)">
<h3>LRUCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LRUCache</span><wbr><span class="parameters">(long&nbsp;maxCapacity,
 long&nbsp;evictionCapacity,
 long&nbsp;safeCapacity,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&lt;<a href="LRUCacheEvictionJudge.html" title="interface in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEvictionJudge</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&gt;&nbsp;evictionJudgeFactory,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&nbsp;evictionListener,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;<a href="LRUCacheEntry.html" title="class in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEntry</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&gt;&nbsp;initialEntries,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;evictionExecutor,
 <a href="../../../../common/alert/AlertService.html" title="interface in fr.gouv.vitam.common.alert">AlertService</a>&nbsp;alertService)</span>
         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maxCapacity</code> - Max cache storage capacity. Once reached, adding new entries fails.</dd>
<dd><code>evictionCapacity</code> - Once reached, background eviction process is started to purge cache of old unused entries.</dd>
<dd><code>safeCapacity</code> - Safe capacity level. Cache eviction process stops when cache capacity is bellow safe cache threshold.</dd>
<dd><code>evictionJudgeFactory</code> - factory that instantiates an eviction judge (<a href="LRUCacheEvictionJudge.html" title="interface in fr.gouv.vitam.storage.offers.tape.cache"><code>LRUCacheEvictionJudge</code></a>) used by background eviction process for entry eviction filtering. A new eviction judge is created before each eviction.</dd>
<dd><code>evictionListener</code> - listener invoked (synchronously) when an expired entry as been evicted from cache.</dd>
<dd><code>initialEntries</code> - stream of cache entries to add to cache. Entries mush have distinct keys.</dd>
<dd><code>evictionExecutor</code> - Executor for running eviction process asynchronously.</dd>
<dd><code>alertService</code> - alert service that is used for reporting cache capacity alerts.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="reserveEntry(fr.gouv.vitam.storage.offers.tape.cache.LRUCacheEntry)">
<h3>reserveEntry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reserveEntry</span><wbr><span class="parameters">(<a href="LRUCacheEntry.html" title="class in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEntry</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;&nbsp;entry)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></span></div>
<div class="block">Reserve cache capacity for a new entry to add the cache.

 An entry reservation can be confirmed using the <code>confirmReservation()</code> method, or canceled using the <code>cancelReservation()</code> method.

 If entry already exists in the cache, an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>IllegalArgumentException</code></a> is thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entry</code> - the entry to reserve in cache</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - when cache max capacity is reached.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="confirmReservation(T)">
<h3 id="confirmReservation(java.lang.Object)">confirmReservation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">confirmReservation</span><wbr><span class="parameters">(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Confirm the reservation of a reserved entry and adds it to the cache.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entryKey</code> - the entry key whose reservation is to be confirmed.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values, or entry is not reserved in cache.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelReservation(T)">
<h3 id="cancelReservation(java.lang.Object)">cancelReservation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cancelReservation</span><wbr><span class="parameters">(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</span></div>
<div class="block">Cancels the reservation of a reserved entry and free-up cache capacity accordingly.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entryKey</code> - the entry key whose reservation is to be canceled.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values, or entry is not reserved in cache.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateEntryAccessTimestamp(T,java.time.Instant)">
<h3 id="updateEntryAccessTimestamp(java.lang.Object,java.time.Instant)">updateEntryAccessTimestamp</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">updateEntryAccessTimestamp</span><wbr><span class="parameters">(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a>&nbsp;updatedLastAccessInstant)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Try update an existing (reserved or added) entry last access timestamp.
 If entry does not already exist (anymore?) in cache, no update occurs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entryKey</code> - the key of the entry to update</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the entry timestamp has been updated, <code>false</code> if entry does not exist in cache.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="containsEntry(T)">
<h3 id="containsEntry(java.lang.Object)">containsEntry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">containsEntry</span><wbr><span class="parameters">(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Returns <code>true</code> if this cache contains the specified entry.
 Reserved entries (not yet confirmed) or non-existing entries in the cache return <code>false</code></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entryKey</code> - the entry key whose presence in this cache is to be tested</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the entry exists in the cache, <code>false</code> otherwise.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isReservedEntry(T)">
<h3 id="isReservedEntry(java.lang.Object)">isReservedEntry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isReservedEntry</span><wbr><span class="parameters">(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Returns <code>true</code> if specified entry key is reserved in the cache.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entryKey</code> - the entry key whose reservation status is to be tested</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the entry is reserved, otherwise <code>false</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReservedEntry(T)">
<h3 id="getReservedEntry(java.lang.Object)">getReservedEntry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LRUCacheEntry.html" title="class in fr.gouv.vitam.storage.offers.tape.cache">LRUCacheEntry</a>&lt;<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&gt;</span>&nbsp;<span class="element-name">getReservedEntry</span><wbr><span class="parameters">(<a href="LRUCache.html" title="type parameter in LRUCache">T</a>&nbsp;entryKey)</span>
                                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Returns <code>true</code> if specified entry key is reserved in the cache.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entryKey</code> - the entry key whose reservation status is to be tested</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the entry is reserved, otherwise <code>false</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - when provided parameters have illegal values.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMaxCapacity()">
<h3>getMaxCapacity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getMaxCapacity</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Max cache storage capacity of the cache. Once reached, adding new entries fails.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEvictionCapacity()">
<h3>getEvictionCapacity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getEvictionCapacity</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>eviction capacity threshold. Once reached, background eviction process is started to purge cache of old unused entries.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSafeCapacity()">
<h3>getSafeCapacity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getSafeCapacity</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Safe capacity level threshold. Cache eviction process stops when cache capacity is bellow safe cache threshold.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentCapacity()">
<h3>getCurrentCapacity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentCapacity</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Current cache capacity.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCacheEvictionRunning()">
<h3>isCacheEvictionRunning</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCacheEvictionRunning</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 Vitam. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
