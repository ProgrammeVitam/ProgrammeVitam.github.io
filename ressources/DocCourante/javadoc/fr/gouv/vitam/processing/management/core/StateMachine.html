<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Thu Nov 14 12:38:43 CET 2024 -->
<title>StateMachine (Vitam API Reference (8.0.0))</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-11-14">
<meta name="description" content="declaration: package: fr.gouv.vitam.processing.management.core, class: StateMachine">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/StateMachine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">fr.gouv.vitam.processing.management.core</a></div>
<h1 title="Class StateMachine" class="title">Class StateMachine</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">fr.gouv.vitam.processing.management.core.StateMachine</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code>, <code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">StateMachine</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a>, <a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></span></div>
<div class="block">State Machine class implementing the Interface. Dealing with evolution of workflow</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(fr.gouv.vitam.processing.common.model.ProcessWorkflow,fr.gouv.vitam.processing.engine.api.ProcessEngine)" class="member-name-link">StateMachine</a><wbr>(<a href="../../common/model/ProcessWorkflow.html" title="class in fr.gouv.vitam.processing.common.model">ProcessWorkflow</a>&nbsp;processWorkflow,
 <a href="../../engine/api/ProcessEngine.html" title="interface in fr.gouv.vitam.processing.engine.api">ProcessEngine</a>&nbsp;processEngine)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(fr.gouv.vitam.processing.common.model.ProcessWorkflow,fr.gouv.vitam.processing.engine.api.ProcessEngine,fr.gouv.vitam.processing.data.core.management.ProcessDataManagement,fr.gouv.vitam.workspace.client.WorkspaceClientFactory)" class="member-name-link">StateMachine</a><wbr>(<a href="../../common/model/ProcessWorkflow.html" title="class in fr.gouv.vitam.processing.common.model">ProcessWorkflow</a>&nbsp;processWorkflow,
 <a href="../../engine/api/ProcessEngine.html" title="interface in fr.gouv.vitam.processing.engine.api">ProcessEngine</a>&nbsp;processEngine,
 <a href="../../data/core/management/ProcessDataManagement.html" title="interface in fr.gouv.vitam.processing.data.core.management">ProcessDataManagement</a>&nbsp;dataManagement,
 <a href="../../../workspace/client/WorkspaceClientFactory.html" title="class in fr.gouv.vitam.workspace.client">WorkspaceClientFactory</a>&nbsp;workspaceClientFactory)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancel()" class="member-name-link">cancel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cancel as soon as possible the processWorkflow, To do that, the step pauseCancelAction is updated to be
 PauseOrCancelAction.ACTION_CANCEL Unlike pause, - The final step should be executed, -
 PauseOrCancelAction.ACTION_CANCEL have no impact on the final step - The final step cannot be cancelled</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doCancel()" class="member-name-link">doCancel</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change the state of the process to completed Can be called only from running or pause state If running state, the
 next step will be completed</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doPause(fr.gouv.vitam.processing.common.model.PauseRecover)" class="member-name-link">doPause</a><wbr>(<a href="../../common/model/PauseRecover.html" title="enum class in fr.gouv.vitam.processing.common.model">PauseRecover</a>&nbsp;pauseRecover)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change state of the process to pause Can be called only from running state If last step then change state to
 completed</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doReplay(fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">doReplay</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change state of the process to running Can be called only from pause state</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doRunning(fr.gouv.vitam.processing.common.parameter.WorkerParameters,fr.gouv.vitam.common.model.ProcessState)" class="member-name-link">doRunning</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
 <a href="../../../common/model/ProcessState.html" title="enum class in fr.gouv.vitam.common.model">ProcessState</a>&nbsp;targetState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change state of the process to running Can be called only from pause state</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeFinalStep(fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">executeFinalStep</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Execute the final step of the workflow Update global status of the workflow Persist the process workflow</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finalizeOperation()" class="member-name-link">finalizeOperation</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findAndExecuteNextStep(fr.gouv.vitam.processing.common.parameter.WorkerParameters,boolean)" class="member-name-link">findAndExecuteNextStep</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
 boolean&nbsp;replayCurrentStep)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getContextId()" class="member-name-link">getContextId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../common/model/StatusCode.html" title="enum class in fr.gouv.vitam.common.model">StatusCode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentProcessWorkflowStatus()" class="member-name-link">getCurrentProcessWorkflowStatus</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../common/model/ProcessStep.html" title="class in fr.gouv.vitam.processing.common.model">ProcessStep</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentStep()" class="member-name-link">getCurrentStep</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../logbook/common/parameters/LogbookTypeProcess.html" title="enum class in fr.gouv.vitam.logbook.common.parameters">LogbookTypeProcess</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLogbookTypeProcess()" class="member-name-link">getLogbookTypeProcess</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStepIndex()" class="member-name-link">getStepIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTenant()" class="member-name-link">getTenant</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWorkflowId()" class="member-name-link">getWorkflowId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWorkflowParameters()" class="member-name-link">getWorkflowParameters</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCompleted()" class="member-name-link">isCompleted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the state is completed</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDone()" class="member-name-link">isDone</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isLastStep()" class="member-name-link">isLastStep</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the current step is the last one</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isPause()" class="member-name-link">isPause</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the state is pause</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRecover()" class="member-name-link">isRecover</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isRunning()" class="member-name-link">isRunning</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the state is running</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isStepByStep()" class="member-name-link">isStepByStep</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#next(fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">next</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Like a resume but pause at the next step</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onError(java.lang.Throwable)" class="member-name-link">onError</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;throwable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The ProcessEngine callback on system error occurred</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onProcessEngineCancel(fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">onProcessEngineCancel</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The ProcessEngine callback when the step is cancelled</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onProcessEngineCompleteStep(fr.gouv.vitam.common.model.ItemStatus,fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">onProcessEngineCompleteStep</a><wbr>(<a href="../../../common/model/ItemStatus.html" title="class in fr.gouv.vitam.common.model">ItemStatus</a>&nbsp;itemStatus,
 <a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The ProcessEngine callback on complete step (for any status code)</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onUpdate(fr.gouv.vitam.common.model.StatusCode)" class="member-name-link">onUpdate</a><wbr>(<a href="../../../common/model/StatusCode.html" title="enum class in fr.gouv.vitam.common.model">StatusCode</a>&nbsp;statusCode)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update the current step status code</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onUpdate(java.lang.String,java.lang.String)" class="member-name-link">onUpdate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;messageIdentifier,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;originatingAgency)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pause()" class="member-name-link">pause</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Pause the processWorkflow, If the last step the just wait the final step Else pause the processWorkflow as soon
 as possible Do not wait all elements of the current step to be executed The step pauseCancelAction will be
 updated to PauseOrCancelAction.ACTION_PAUSE If all elements of the current step are executed then stop correctly
 and step pauseCancelAction will be updated to PauseOrCancelAction.ACTION_COMPLETE

 After next or resume occurs on paused processWorkflow, It will starts from the step pauseCancelAction equals to
 PauseOrCancelAction.ACTION_PAUSE if exists and update pauseCancelAction to be PauseOrCancelAction.ACTION_RECOVER
 Else starts normally from the next step</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replay(fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">replay</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Replay the last executed step, or if it s stated, the step passed as a parameter</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resume(fr.gouv.vitam.processing.common.parameter.WorkerParameters)" class="member-name-link">resume</a><wbr>(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Do an evaluation of the State RUNNING If the state is not permitted a StateNotAllowedException is thrown Else
 call doRunning method</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shutdown()" class="member-name-link">shutdown</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Should used only when server is shutting down

 To prevent deadlock, this method is not synchronized, Because onComplete and onPauseOrCancel are synchronized and
 called from ProcessEngine</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tryPersistProcessWorkflow()" class="member-name-link">tryPersistProcessWorkflow</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persist the process workflow in the workspace</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(fr.gouv.vitam.processing.common.model.ProcessWorkflow,fr.gouv.vitam.processing.engine.api.ProcessEngine)">
<h3>StateMachine</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">StateMachine</span><wbr><span class="parameters">(<a href="../../common/model/ProcessWorkflow.html" title="class in fr.gouv.vitam.processing.common.model">ProcessWorkflow</a>&nbsp;processWorkflow,
 <a href="../../engine/api/ProcessEngine.html" title="interface in fr.gouv.vitam.processing.engine.api">ProcessEngine</a>&nbsp;processEngine)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(fr.gouv.vitam.processing.common.model.ProcessWorkflow,fr.gouv.vitam.processing.engine.api.ProcessEngine,fr.gouv.vitam.processing.data.core.management.ProcessDataManagement,fr.gouv.vitam.workspace.client.WorkspaceClientFactory)">
<h3>StateMachine</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">StateMachine</span><wbr><span class="parameters">(<a href="../../common/model/ProcessWorkflow.html" title="class in fr.gouv.vitam.processing.common.model">ProcessWorkflow</a>&nbsp;processWorkflow,
 <a href="../../engine/api/ProcessEngine.html" title="interface in fr.gouv.vitam.processing.engine.api">ProcessEngine</a>&nbsp;processEngine,
 <a href="../../data/core/management/ProcessDataManagement.html" title="interface in fr.gouv.vitam.processing.data.core.management">ProcessDataManagement</a>&nbsp;dataManagement,
 <a href="../../../workspace/client/WorkspaceClientFactory.html" title="class in fr.gouv.vitam.workspace.client">WorkspaceClientFactory</a>&nbsp;workspaceClientFactory)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="resume(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>resume</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resume</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span>
            throws <span class="exceptions"><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
<a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsState.html#resume(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">IEventsState</a></code></span></div>
<div class="block">Do an evaluation of the State RUNNING If the state is not permitted a StateNotAllowedException is thrown Else
 call doRunning method</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#resume(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">resume</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="next(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>next</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">next</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span>
          throws <span class="exceptions"><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
<a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsState.html#next(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">IEventsState</a></code></span></div>
<div class="block">Like a resume but pause at the next step</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#next(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">next</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replay(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>replay</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">replay</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span>
            throws <span class="exceptions"><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
<a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsState.html#replay(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">IEventsState</a></code></span></div>
<div class="block">Replay the last executed step, or if it s stated, the step passed as a parameter</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#replay(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">replay</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pause()">
<h3>pause</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pause</span>()
           throws <span class="exceptions"><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsState.html#pause()">IEventsState</a></code></span></div>
<div class="block">Pause the processWorkflow, If the last step the just wait the final step Else pause the processWorkflow as soon
 as possible Do not wait all elements of the current step to be executed The step pauseCancelAction will be
 updated to PauseOrCancelAction.ACTION_PAUSE If all elements of the current step are executed then stop correctly
 and step pauseCancelAction will be updated to PauseOrCancelAction.ACTION_COMPLETE

 After next or resume occurs on paused processWorkflow, It will starts from the step pauseCancelAction equals to
 PauseOrCancelAction.ACTION_PAUSE if exists and update pauseCancelAction to be PauseOrCancelAction.ACTION_RECOVER
 Else starts normally from the next step</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#pause()">pause</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shutdown()">
<h3>shutdown</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">shutdown</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsState.html#shutdown()">IEventsState</a></code></span></div>
<div class="block">Should used only when server is shutting down

 To prevent deadlock, this method is not synchronized, Because onComplete and onPauseOrCancel are synchronized and
 called from ProcessEngine</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#shutdown()">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancel()">
<h3>cancel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cancel</span>()
            throws <span class="exceptions"><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsState.html#cancel()">IEventsState</a></code></span></div>
<div class="block">Cancel as soon as possible the processWorkflow, To do that, the step pauseCancelAction is updated to be
 PauseOrCancelAction.ACTION_CANCEL Unlike pause, - The final step should be executed, -
 PauseOrCancelAction.ACTION_CANCEL have no impact on the final step - The final step cannot be cancelled</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#cancel()">cancel</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../../common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDone()">
<h3>isDone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDone</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#isDone()">isDone</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Returns:</dt>
<dd>true is processWorkflow is completed or Pause</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTenant()">
<h3>getTenant</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getTenant</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#getTenant()">getTenant</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Returns:</dt>
<dd>The tenantId of the processWorkflow</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWorkflowId()">
<h3>getWorkflowId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getWorkflowId</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#getWorkflowId()">getWorkflowId</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Returns:</dt>
<dd>The workflow Id</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getContextId()">
<h3>getContextId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getContextId</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#getContextId()">getContextId</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWorkflowParameters()">
<h3>getWorkflowParameters</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getWorkflowParameters</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#getWorkflowParameters()">getWorkflowParameters</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isStepByStep()">
<h3>isStepByStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isStepByStep</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#isStepByStep()">isStepByStep</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Returns:</dt>
<dd>true if processWorkflow is running in stepByStep (next) mode or in continue mode (resume)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogbookTypeProcess()">
<h3>getLogbookTypeProcess</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../logbook/common/parameters/LogbookTypeProcess.html" title="enum class in fr.gouv.vitam.logbook.common.parameters">LogbookTypeProcess</a></span>&nbsp;<span class="element-name">getLogbookTypeProcess</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#getLogbookTypeProcess()">getLogbookTypeProcess</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Returns:</dt>
<dd>The LogbookTypeProcess</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doPause(fr.gouv.vitam.processing.common.model.PauseRecover)">
<h3>doPause</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doPause</span><wbr><span class="parameters">(<a href="../../common/model/PauseRecover.html" title="enum class in fr.gouv.vitam.processing.common.model">PauseRecover</a>&nbsp;pauseRecover)</span></div>
<div class="block">Change state of the process to pause Can be called only from running state If last step then change state to
 completed</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pauseRecover</code> - if RECOVER_FROM_SERVER_PAUSE then wait until pause is done</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doCancel()">
<h3>doCancel</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doCancel</span>()</div>
<div class="block">Change the state of the process to completed Can be called only from running or pause state If running state, the
 next step will be completed</div>
</section>
</li>
<li>
<section class="detail" id="doRunning(fr.gouv.vitam.processing.common.parameter.WorkerParameters,fr.gouv.vitam.common.model.ProcessState)">
<h3>doRunning</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doRunning</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
 <a href="../../../common/model/ProcessState.html" title="enum class in fr.gouv.vitam.common.model">ProcessState</a>&nbsp;targetState)</span>
                  throws <span class="exceptions"><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></span></div>
<div class="block">Change state of the process to running Can be called only from pause state</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workerParameters</code> - the parameters to be passed to the distributor</dd>
<dd><code>targetState</code> - if true, run ony the next step</dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doReplay(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>doReplay</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doReplay</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span>
                 throws <span class="exceptions"><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></span></div>
<div class="block">Change state of the process to running Can be called only from pause state</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workerParameters</code> - the parameters to be passed to the distributor</dd>
<dt>Throws:</dt>
<dd><code><a href="../../common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findAndExecuteNextStep(fr.gouv.vitam.processing.common.parameter.WorkerParameters,boolean)">
<h3>findAndExecuteNextStep</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">findAndExecuteNextStep</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
 boolean&nbsp;replayCurrentStep)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workerParameters</code> - </dd>
<dd><code>replayCurrentStep</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeFinalStep(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>executeFinalStep</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">executeFinalStep</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span></div>
<div class="block">Execute the final step of the workflow Update global status of the workflow Persist the process workflow</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>workerParameters</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onUpdate(fr.gouv.vitam.common.model.StatusCode)">
<h3>onUpdate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onUpdate</span><wbr><span class="parameters">(<a href="../../../common/model/StatusCode.html" title="enum class in fr.gouv.vitam.common.model">StatusCode</a>&nbsp;statusCode)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html#onUpdate(fr.gouv.vitam.common.model.StatusCode)">IEventsProcessEngine</a></code></span></div>
<div class="block">Update the current step status code</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html#onUpdate(fr.gouv.vitam.common.model.StatusCode)">onUpdate</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentProcessWorkflowStatus()">
<h3>getCurrentProcessWorkflowStatus</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../common/model/StatusCode.html" title="enum class in fr.gouv.vitam.common.model">StatusCode</a></span>&nbsp;<span class="element-name">getCurrentProcessWorkflowStatus</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html#getCurrentProcessWorkflowStatus()">getCurrentProcessWorkflowStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onUpdate(java.lang.String,java.lang.String)">
<h3>onUpdate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onUpdate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;messageIdentifier,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;originatingAgency)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html#onUpdate(java.lang.String,java.lang.String)">onUpdate</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onError(java.lang.Throwable)">
<h3>onError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onError</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;throwable)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html#onError(java.lang.Throwable)">IEventsProcessEngine</a></code></span></div>
<div class="block">The ProcessEngine callback on system error occurred</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html#onError(java.lang.Throwable)">onError</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onProcessEngineCancel(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>onProcessEngineCancel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onProcessEngineCancel</span><wbr><span class="parameters">(<a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html#onProcessEngineCancel(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">IEventsProcessEngine</a></code></span></div>
<div class="block">The ProcessEngine callback when the step is cancelled</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html#onProcessEngineCancel(fr.gouv.vitam.processing.common.parameter.WorkerParameters)">onProcessEngineCancel</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onProcessEngineCompleteStep(fr.gouv.vitam.common.model.ItemStatus,fr.gouv.vitam.processing.common.parameter.WorkerParameters)">
<h3>onProcessEngineCompleteStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onProcessEngineCompleteStep</span><wbr><span class="parameters">(<a href="../../../common/model/ItemStatus.html" title="class in fr.gouv.vitam.common.model">ItemStatus</a>&nbsp;itemStatus,
 <a href="../../common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html#onProcessEngineCompleteStep(fr.gouv.vitam.common.model.ItemStatus,fr.gouv.vitam.processing.common.parameter.WorkerParameters)">IEventsProcessEngine</a></code></span></div>
<div class="block">The ProcessEngine callback on complete step (for any status code)</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsProcessEngine.html#onProcessEngineCompleteStep(fr.gouv.vitam.common.model.ItemStatus,fr.gouv.vitam.processing.common.parameter.WorkerParameters)">onProcessEngineCompleteStep</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isRunning()">
<h3>isRunning</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isRunning</span>()</div>
<div class="block">Check if the state is running</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the current state is running</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPause()">
<h3>isPause</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPause</span>()</div>
<div class="block">Check if the state is pause</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the current state is pause</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCompleted()">
<h3>isCompleted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCompleted</span>()</div>
<div class="block">Check if the state is completed</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the current state is completed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isRecover()">
<h3>isRecover</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isRecover</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../common/automation/IEventsState.html#isRecover()">isRecover</a></code>&nbsp;in interface&nbsp;<code><a href="../../common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt>Returns:</dt>
<dd>true is processWorkflow is Pause</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isLastStep()">
<h3>isLastStep</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLastStep</span>()</div>
<div class="block">Check if the current step is the last one</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the current step is the last one</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryPersistProcessWorkflow()">
<h3>tryPersistProcessWorkflow</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">tryPersistProcessWorkflow</span>()</div>
<div class="block">Persist the process workflow in the workspace</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true is success, false else</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finalizeOperation()">
<h3>finalizeOperation</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">finalizeOperation</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getCurrentStep()">
<h3>getCurrentStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../common/model/ProcessStep.html" title="class in fr.gouv.vitam.processing.common.model">ProcessStep</a></span>&nbsp;<span class="element-name">getCurrentStep</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getStepIndex()">
<h3>getStepIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getStepIndex</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 Vitam. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
