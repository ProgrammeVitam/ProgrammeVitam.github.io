<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Wed Mar 21 17:00:08 CET 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StateMachine (Vitam API Reference (1.0.0))</title>
<meta name="date" content="2018-03-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StateMachine (Vitam API Reference (1.0.0))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StateMachine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../fr/gouv/vitam/processing/management/core/ProcessWorkFlowsCleaner.html" title="class in fr.gouv.vitam.processing.management.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachineFactory.html" title="class in fr.gouv.vitam.processing.management.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?fr/gouv/vitam/processing/management/core/StateMachine.html" target="_top">Frames</a></li>
<li><a href="StateMachine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.gouv.vitam.processing.management.core</div>
<h2 title="Class StateMachine" class="title">Class StateMachine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>fr.gouv.vitam.processing.management.core.StateMachine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a>, <a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">StateMachine</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a>, <a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></pre>
<div class="block">State Machine class implementing the Interface. Dealing with evolution of workflows</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#StateMachine-fr.gouv.vitam.processing.common.model.ProcessWorkflow-fr.gouv.vitam.processing.engine.api.ProcessEngine-">StateMachine</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/model/ProcessWorkflow.html" title="class in fr.gouv.vitam.processing.common.model">ProcessWorkflow</a>&nbsp;processWorkflow,
            <a href="../../../../../../fr/gouv/vitam/processing/engine/api/ProcessEngine.html" title="interface in fr.gouv.vitam.processing.engine.api">ProcessEngine</a>&nbsp;processEngine)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#cancel--">cancel</a></span>()</code>
<div class="block">Cancel as soon as possible the processWorkflow, To do that, the step pauseCancelAction is updated to be
 PauseOrCancelAction.ACTION_CANCEL Unlike pause, - The finally step should be executed, -
 PauseOrCancelAction.ACTION_CANCEL have no impact on the finally step - The finally step cannot be cancelled</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#doCompleted--">doCompleted</a></span>()</code>
<div class="block">Change the state of the process to completed Can be called only from running or pause state If running state, the
 next step will be completed</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#doPause-fr.gouv.vitam.processing.common.model.PauseRecover-">doPause</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/model/PauseRecover.html" title="enum in fr.gouv.vitam.processing.common.model">PauseRecover</a>&nbsp;pauseRecover)</code>
<div class="block">Change state of the process to pause Can be called only from running state If last step then change state to
 completed</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#doReplay-fr.gouv.vitam.processing.common.parameter.WorkerParameters-fr.gouv.vitam.common.model.ProcessState-">doReplay</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
        <a href="../../../../../../fr/gouv/vitam/common/model/ProcessState.html" title="enum in fr.gouv.vitam.common.model">ProcessState</a>&nbsp;targetState)</code>
<div class="block">Change state of the process to running Can be called only from pause state</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#doRunning-fr.gouv.vitam.processing.common.parameter.WorkerParameters-fr.gouv.vitam.common.model.ProcessState-">doRunning</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
         <a href="../../../../../../fr/gouv/vitam/common/model/ProcessState.html" title="enum in fr.gouv.vitam.common.model">ProcessState</a>&nbsp;targetState)</code>
<div class="block">Change state of the process to running Can be called only from pause state</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#executeFinallyStep-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">executeFinallyStep</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">Execute the finally step of the workflow Update global status of the workflow Persist the process workflow</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#executeSteps-fr.gouv.vitam.processing.common.parameter.WorkerParameters-fr.gouv.vitam.processing.common.model.PauseRecover-boolean-">executeSteps</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
            <a href="../../../../../../fr/gouv/vitam/processing/common/model/PauseRecover.html" title="enum in fr.gouv.vitam.processing.common.model">PauseRecover</a>&nbsp;pauseRecover,
            boolean&nbsp;backwards)</code>
<div class="block">Execute steps of the workflow and manage index of the current step Call engine to execute the current step</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#finalizeLogbook-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">finalizeLogbook</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workParams)</code>
<div class="block">Create the final logbook entry for the corresponding process workflow This entry was created in ingest internal
 and as the process is full async we moved it to here</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#getContextId--">getContextId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../fr/gouv/vitam/logbook/common/parameters/LogbookTypeProcess.html" title="enum in fr.gouv.vitam.logbook.common.parameters">LogbookTypeProcess</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#getLogbookTypeProcess--">getLogbookTypeProcess</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#getTenant--">getTenant</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#getWorkflowId--">getWorkflowId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isCompleted--">isCompleted</a></span>()</code>
<div class="block">Check if the state is completed</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isDone--">isDone</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isLastStep--">isLastStep</a></span>()</code>
<div class="block">Check if the current step is the last one</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isPause--">isPause</a></span>()</code>
<div class="block">Check if the state is pause</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isRecover--">isRecover</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isRunning--">isRunning</a></span>()</code>
<div class="block">Check if the state is running</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#isStepByStep--">isStepByStep</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#next-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">next</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">Like a resume but pause at the next step</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#onComplete-fr.gouv.vitam.common.model.ItemStatus-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">onComplete</a></span>(<a href="../../../../../../fr/gouv/vitam/common/model/ItemStatus.html" title="class in fr.gouv.vitam.common.model">ItemStatus</a>&nbsp;itemStatus,
          <a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">The ProcessEngine callback on complete step (for any status code)</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#onError-java.lang.Throwable-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">onError</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;throwable,
       <a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">The ProcessEngine callback on system error occurred</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#onPauseOrCancel-fr.gouv.vitam.common.model.processing.PauseOrCancelAction-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">onPauseOrCancel</a></span>(<a href="../../../../../../fr/gouv/vitam/common/model/processing/PauseOrCancelAction.html" title="enum in fr.gouv.vitam.common.model.processing">PauseOrCancelAction</a>&nbsp;pauseCancelAction,
               <a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">The ProcessEngine callback onPauseOrCancel when the step is paused or cancelled</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#onUpdate-fr.gouv.vitam.common.model.StatusCode-">onUpdate</a></span>(<a href="../../../../../../fr/gouv/vitam/common/model/StatusCode.html" title="enum in fr.gouv.vitam.common.model">StatusCode</a>&nbsp;statusCode)</code>
<div class="block">Update the current step status code</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#onUpdate-java.lang.String-java.lang.String-">onUpdate</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;messageIdentifier,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prodService)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#pause--">pause</a></span>()</code>
<div class="block">Pause the processWorkflow, If the last step the just wait the finally step Else pause the processWorkflow as soon
 as possible Do not wait all elements of the current step to be executed The step pauseCancelAction will be
 updated to PauseOrCancelAction.ACTION_PAUSE If all elements of the current step are executed then stop correctly
 and step pauseCancelAction will be updated to PauseOrCancelAction.ACTION_COMPLETE

 After next or resume occurs on paused processWorkflow, It will starts from the step pauseCancelAction equals to
 PauseOrCancelAction.ACTION_PAUSE if exists and update pauseCancelAction to be PauseOrCancelAction.ACTION_RECOVER
 Else starts normally from the next step</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#persistProcessWorkflow--">persistProcessWorkflow</a></span>()</code>
<div class="block">Persist the process workflow in the workspace</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#replay-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">replay</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">Replay the last executed step, or if it s stated, the step passed as a parameter</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#resume-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">resume</a></span>(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</code>
<div class="block">Do an evaluation of the State RUNNING If the state is not permitted a StateNotAllowedException is thrown Else
 call doRunning method</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachine.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Should used only when server is shutting down

 To prevent deadlock, this method is not synchronized, Because onComplete and onPauseOrCancel are synchronized and
 called from ProcessEngine</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StateMachine-fr.gouv.vitam.processing.common.model.ProcessWorkflow-fr.gouv.vitam.processing.engine.api.ProcessEngine-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StateMachine</h4>
<pre>public&nbsp;StateMachine(<a href="../../../../../../fr/gouv/vitam/processing/common/model/ProcessWorkflow.html" title="class in fr.gouv.vitam.processing.common.model">ProcessWorkflow</a>&nbsp;processWorkflow,
                    <a href="../../../../../../fr/gouv/vitam/processing/engine/api/ProcessEngine.html" title="interface in fr.gouv.vitam.processing.engine.api">ProcessEngine</a>&nbsp;processEngine)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="resume-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre>public&nbsp;void&nbsp;resume(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)
            throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
                   <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#resume-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">IEventsState</a></code></span></div>
<div class="block">Do an evaluation of the State RUNNING If the state is not permitted a StateNotAllowedException is thrown Else
 call doRunning method</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#resume-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">resume</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="next-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>public&nbsp;void&nbsp;next(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)
          throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
                 <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#next-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">IEventsState</a></code></span></div>
<div class="block">Like a resume but pause at the next step</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#next-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">next</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="replay-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replay</h4>
<pre>public&nbsp;void&nbsp;replay(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)
            throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
                   <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#replay-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">IEventsState</a></code></span></div>
<div class="block">Replay the last executed step, or if it s stated, the step passed as a parameter</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#replay-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">replay</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="pause--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pause</h4>
<pre>public&nbsp;void&nbsp;pause()
           throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#pause--">IEventsState</a></code></span></div>
<div class="block">Pause the processWorkflow, If the last step the just wait the finally step Else pause the processWorkflow as soon
 as possible Do not wait all elements of the current step to be executed The step pauseCancelAction will be
 updated to PauseOrCancelAction.ACTION_PAUSE If all elements of the current step are executed then stop correctly
 and step pauseCancelAction will be updated to PauseOrCancelAction.ACTION_COMPLETE

 After next or resume occurs on paused processWorkflow, It will starts from the step pauseCancelAction equals to
 PauseOrCancelAction.ACTION_PAUSE if exists and update pauseCancelAction to be PauseOrCancelAction.ACTION_RECOVER
 Else starts normally from the next step</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#pause--">pause</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()
              throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#shutdown--">IEventsState</a></code></span></div>
<div class="block">Should used only when server is shutting down

 To prevent deadlock, this method is not synchronized, Because onComplete and onPauseOrCancel are synchronized and
 called from ProcessEngine</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#shutdown--">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
</dl>
</li>
</ul>
<a name="cancel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>public&nbsp;void&nbsp;cancel()
            throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
                   <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#cancel--">IEventsState</a></code></span></div>
<div class="block">Cancel as soon as possible the processWorkflow, To do that, the step pauseCancelAction is updated to be
 PauseOrCancelAction.ACTION_CANCEL Unlike pause, - The finally step should be executed, -
 PauseOrCancelAction.ACTION_CANCEL have no impact on the finally step - The finally step cannot be cancelled</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#cancel--">cancel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="isDone--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDone</h4>
<pre>public&nbsp;boolean&nbsp;isDone()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#isDone--">isDone</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true is processWorkflow is completed or Pause</dd>
</dl>
</li>
</ul>
<a name="getTenant--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTenant</h4>
<pre>public&nbsp;int&nbsp;getTenant()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#getTenant--">getTenant</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The tenantId of the processWorkflow</dd>
</dl>
</li>
</ul>
<a name="getWorkflowId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkflowId</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getWorkflowId()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#getWorkflowId--">getWorkflowId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The workflow Id</dd>
</dl>
</li>
</ul>
<a name="getContextId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextId</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getContextId()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#getContextId--">getContextId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
</dl>
</li>
</ul>
<a name="isStepByStep--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStepByStep</h4>
<pre>public&nbsp;boolean&nbsp;isStepByStep()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#isStepByStep--">isStepByStep</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if processWorkflow is running in stepByStep (next) mode or in continue mode (resume)</dd>
</dl>
</li>
</ul>
<a name="getLogbookTypeProcess--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogbookTypeProcess</h4>
<pre>public&nbsp;<a href="../../../../../../fr/gouv/vitam/logbook/common/parameters/LogbookTypeProcess.html" title="enum in fr.gouv.vitam.logbook.common.parameters">LogbookTypeProcess</a>&nbsp;getLogbookTypeProcess()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#getLogbookTypeProcess--">getLogbookTypeProcess</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The LogbookTypeProcess</dd>
</dl>
</li>
</ul>
<a name="doPause-fr.gouv.vitam.processing.common.model.PauseRecover-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPause</h4>
<pre>protected&nbsp;void&nbsp;doPause(<a href="../../../../../../fr/gouv/vitam/processing/common/model/PauseRecover.html" title="enum in fr.gouv.vitam.processing.common.model">PauseRecover</a>&nbsp;pauseRecover)
                throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></pre>
<div class="block">Change state of the process to pause Can be called only from running state If last step then change state to
 completed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pauseRecover</code> - if RECOVER_FROM_SERVER_PAUSE then wait until pause is done</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
</dl>
</li>
</ul>
<a name="doCompleted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCompleted</h4>
<pre>protected&nbsp;void&nbsp;doCompleted()
                    throws <a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a>,
                           <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block">Change the state of the process to completed Can be called only from running or pause state If running state, the
 next step will be completed</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="doRunning-fr.gouv.vitam.processing.common.parameter.WorkerParameters-fr.gouv.vitam.common.model.ProcessState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRunning</h4>
<pre>protected&nbsp;void&nbsp;doRunning(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
                         <a href="../../../../../../fr/gouv/vitam/common/model/ProcessState.html" title="enum in fr.gouv.vitam.common.model">ProcessState</a>&nbsp;targetState)
                  throws <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block">Change state of the process to running Can be called only from pause state</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workerParameters</code> - the parameters to be passed to the distributor</dd>
<dd><code>targetState</code> - if true, run ony the next step</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="doReplay-fr.gouv.vitam.processing.common.parameter.WorkerParameters-fr.gouv.vitam.common.model.ProcessState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doReplay</h4>
<pre>protected&nbsp;void&nbsp;doReplay(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
                        <a href="../../../../../../fr/gouv/vitam/common/model/ProcessState.html" title="enum in fr.gouv.vitam.common.model">ProcessState</a>&nbsp;targetState)
                 throws <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block">Change state of the process to running Can be called only from pause state</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workerParameters</code> - the parameters to be passed to the distributor</dd>
<dd><code>targetState</code> - if true, run ony the next step</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/common/exception/StateNotAllowedException.html" title="class in fr.gouv.vitam.common.exception">StateNotAllowedException</a></code></dd>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="executeSteps-fr.gouv.vitam.processing.common.parameter.WorkerParameters-fr.gouv.vitam.processing.common.model.PauseRecover-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeSteps</h4>
<pre>protected&nbsp;void&nbsp;executeSteps(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters,
                            <a href="../../../../../../fr/gouv/vitam/processing/common/model/PauseRecover.html" title="enum in fr.gouv.vitam.processing.common.model">PauseRecover</a>&nbsp;pauseRecover,
                            boolean&nbsp;backwards)
                     throws <a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></pre>
<div class="block">Execute steps of the workflow and manage index of the current step Call engine to execute the current step</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workerParameters</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/exception/ProcessingException.html" title="class in fr.gouv.vitam.processing.common.exception">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="executeFinallyStep-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeFinallyStep</h4>
<pre>protected&nbsp;void&nbsp;executeFinallyStep(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</pre>
<div class="block">Execute the finally step of the workflow Update global status of the workflow Persist the process workflow</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workerParameters</code> - </dd>
</dl>
</li>
</ul>
<a name="onUpdate-fr.gouv.vitam.common.model.StatusCode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onUpdate</h4>
<pre>public&nbsp;void&nbsp;onUpdate(<a href="../../../../../../fr/gouv/vitam/common/model/StatusCode.html" title="enum in fr.gouv.vitam.common.model">StatusCode</a>&nbsp;statusCode)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onUpdate-fr.gouv.vitam.common.model.StatusCode-">IEventsProcessEngine</a></code></span></div>
<div class="block">Update the current step status code</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onUpdate-fr.gouv.vitam.common.model.StatusCode-">onUpdate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</li>
</ul>
<a name="onUpdate-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onUpdate</h4>
<pre>public&nbsp;void&nbsp;onUpdate(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;messageIdentifier,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prodService)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onUpdate-java.lang.String-java.lang.String-">onUpdate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</li>
</ul>
<a name="onError-java.lang.Throwable-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onError</h4>
<pre>public&nbsp;void&nbsp;onError(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;throwable,
                    <a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onError-java.lang.Throwable-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">IEventsProcessEngine</a></code></span></div>
<div class="block">The ProcessEngine callback on system error occurred</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onError-java.lang.Throwable-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">onError</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</li>
</ul>
<a name="onPauseOrCancel-fr.gouv.vitam.common.model.processing.PauseOrCancelAction-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPauseOrCancel</h4>
<pre>public&nbsp;void&nbsp;onPauseOrCancel(<a href="../../../../../../fr/gouv/vitam/common/model/processing/PauseOrCancelAction.html" title="enum in fr.gouv.vitam.common.model.processing">PauseOrCancelAction</a>&nbsp;pauseCancelAction,
                            <a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onPauseOrCancel-fr.gouv.vitam.common.model.processing.PauseOrCancelAction-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">IEventsProcessEngine</a></code></span></div>
<div class="block">The ProcessEngine callback onPauseOrCancel when the step is paused or cancelled</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onPauseOrCancel-fr.gouv.vitam.common.model.processing.PauseOrCancelAction-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">onPauseOrCancel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</li>
</ul>
<a name="onComplete-fr.gouv.vitam.common.model.ItemStatus-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onComplete</h4>
<pre>public&nbsp;void&nbsp;onComplete(<a href="../../../../../../fr/gouv/vitam/common/model/ItemStatus.html" title="class in fr.gouv.vitam.common.model">ItemStatus</a>&nbsp;itemStatus,
                       <a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workerParameters)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onComplete-fr.gouv.vitam.common.model.ItemStatus-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">IEventsProcessEngine</a></code></span></div>
<div class="block">The ProcessEngine callback on complete step (for any status code)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html#onComplete-fr.gouv.vitam.common.model.ItemStatus-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">onComplete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsProcessEngine.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsProcessEngine</a></code></dd>
</dl>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>protected&nbsp;boolean&nbsp;isRunning()</pre>
<div class="block">Check if the state is running</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the current state is running</dd>
</dl>
</li>
</ul>
<a name="isPause--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPause</h4>
<pre>protected&nbsp;boolean&nbsp;isPause()</pre>
<div class="block">Check if the state is pause</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the current state is pause</dd>
</dl>
</li>
</ul>
<a name="isCompleted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCompleted</h4>
<pre>public&nbsp;boolean&nbsp;isCompleted()</pre>
<div class="block">Check if the state is completed</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the current state is completed</dd>
</dl>
</li>
</ul>
<a name="isRecover--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRecover</h4>
<pre>public&nbsp;boolean&nbsp;isRecover()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html#isRecover--">isRecover</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../fr/gouv/vitam/processing/common/automation/IEventsState.html" title="interface in fr.gouv.vitam.processing.common.automation">IEventsState</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true is processWorkflow is Pause</dd>
</dl>
</li>
</ul>
<a name="isLastStep--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLastStep</h4>
<pre>protected&nbsp;boolean&nbsp;isLastStep()</pre>
<div class="block">Check if the current step is the last one</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the current step is the last one</dd>
</dl>
</li>
</ul>
<a name="persistProcessWorkflow--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistProcessWorkflow</h4>
<pre>protected&nbsp;boolean&nbsp;persistProcessWorkflow()</pre>
<div class="block">Persist the process workflow in the workspace</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true is success, false else</dd>
</dl>
</li>
</ul>
<a name="finalizeLogbook-fr.gouv.vitam.processing.common.parameter.WorkerParameters-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finalizeLogbook</h4>
<pre>protected&nbsp;void&nbsp;finalizeLogbook(<a href="../../../../../../fr/gouv/vitam/processing/common/parameter/WorkerParameters.html" title="interface in fr.gouv.vitam.processing.common.parameter">WorkerParameters</a>&nbsp;workParams)</pre>
<div class="block">Create the final logbook entry for the corresponding process workflow This entry was created in ingest internal
 and as the process is full async we moved it to here</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StateMachine.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../fr/gouv/vitam/processing/management/core/ProcessWorkFlowsCleaner.html" title="class in fr.gouv.vitam.processing.management.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../fr/gouv/vitam/processing/management/core/StateMachineFactory.html" title="class in fr.gouv.vitam.processing.management.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?fr/gouv/vitam/processing/management/core/StateMachine.html" target="_top">Frames</a></li>
<li><a href="StateMachine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 Vitam. All rights reserved.</small></p>
</body>
</html>
