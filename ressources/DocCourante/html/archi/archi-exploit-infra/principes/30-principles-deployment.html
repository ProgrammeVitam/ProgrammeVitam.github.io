

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.1.5. Déploiement de la solution &mdash; Documentation VITAM - Architecture 1.10.3</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="5.1.6. Suivi de l’état du système" href="40-principles-monitoring.html" />
    <link rel="prev" title="5.1.4. Packaging" href="20-principles-packaging.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> VITAM - Architecture
          

          
            
            <img src="../../_static/logo_vitam.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.10.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html#rappels">2. Rappels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/_toc.html">3. Vue d’ensemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archi-applicative/_toc.html">4. Architecture applicative</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_toc.html">5. Architecture technique / exploitation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="_toc.html">5.1. Principes d’architecture technique</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="00-principles-services.html">5.1.1. Principes communs et environnement des services</a></li>
<li class="toctree-l3"><a class="reference internal" href="02-principles-users-rights.html">5.1.2. Utilisateurs, dossiers &amp; droits</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-principles-networking.html">5.1.3. Principes sur les communications inter-services et le clustering</a></li>
<li class="toctree-l3"><a class="reference internal" href="20-principles-packaging.html">5.1.4. Packaging</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">5.1.5. Déploiement de la solution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#principes-de-deploiement">5.1.5.1. Principes de déploiement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#contraintes-et-vue-d-ensemble">5.1.5.2. Contraintes et vue d’ensemble</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation-initiale">5.1.5.3. Installation initiale</a></li>
<li class="toctree-l4"><a class="reference internal" href="#principes-de-mise-a-jour-a-chaud">5.1.5.4. Principes de mise à jour à chaud</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multi-site">5.1.5.5. Multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-de-l-elasticite">5.1.5.6. Support de l’élasticité</a></li>
<li class="toctree-l4"><a class="reference internal" href="#validation-du-deploiement">5.1.5.7. Validation du déploiement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="40-principles-monitoring.html">5.1.6. Suivi de l’état du système</a></li>
<li class="toctree-l3"><a class="reference internal" href="50-principles-technical-administration.html">5.1.7. Administration technique</a></li>
<li class="toctree-l3"><a class="reference internal" href="60-principles-data-management.html">5.1.8. Gestion des données du système</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../01-services-techniques.html">5.2. Services techniques fournis par la solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02-dependencies.html">5.3. Composants logiciels utilisés</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-technical-architecture.html">5.4. Architecture technique détaillée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04-data-storage.html">5.5. Stockage des données</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05-logs-architecture.html">5.6. Concentration et exploitation des logs applicatifs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06-metrics-architecture.html">5.7. Métriques applicatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07-deployment-tooling.html">5.8. Outillage de déploiement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08-consul.html">5.9. Service registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10-it-services.html">5.10. Dépendances aux services d’infrastructures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15-services.html">5.11. Composants déployés</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20-deployment-guidelines.html">5.12. Guidelines de déploiement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../25-resources.html">5.13. Eléments de dimensionnement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../90-flux-all.html">5.14. Matrice des flux</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../securite/_toc.html">6. Sécurité</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../include/_toc.html">7. Architecture détaillée</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VITAM - Architecture</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../_toc.html">5. Architecture technique / exploitation</a> &raquo;</li>
        
          <li><a href="_toc.html">5.1. Principes d’architecture technique</a> &raquo;</li>
        
      <li>5.1.5. Déploiement de la solution</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/archi-exploit-infra/principes/30-principles-deployment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="deploiement-de-la-solution">
<h1>5.1.5. Déploiement de la solution<a class="headerlink" href="#deploiement-de-la-solution" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="principes-de-deploiement">
<h2>5.1.5.1. Principes de déploiement<a class="headerlink" href="#principes-de-deploiement" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les principes généraux de déploiement sont les suivants :</p>
<ul class="simple">
<li>Les packages d’installation (rpm / deb) sont identiques pour tous les environnements ; seule leur configuration change.</li>
<li>La configuration des services est externalisée et gérée par l’outillage de déploiement.</li>
<li>Le déploiement est décrit intégralement dans un fichier de définition du déploiement. En dehors des pré-requis, le déploiement initial est automatisé en totalité (sauf exception).</li>
<li>Les services sont configurés par défaut pour permettre leur colocalisation (dans le sens de la colocalisation de deux instances de deux moteurs différents) (ex: dossiers d’installation / de fonctionnement différents, ports d’écoute différents, …).</li>
</ul>
<p>Le déploiement s’effectue à partir d’un point central ; les commmandes passées sur chaque serveur à partir de ce point central utilisent le protocole SSH.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last">Pour plus d’informations sur l’outillage de déploiement, se reporter à la section <a class="reference internal" href="../07-deployment-tooling.html"><span class="doc">sur l’outillage de déploiement</span></a></p>
</div>
</div>
<div class="section" id="contraintes-et-vue-d-ensemble">
<h2>5.1.5.2. Contraintes et vue d’ensemble<a class="headerlink" href="#contraintes-et-vue-d-ensemble" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les zones logiques présentées dans <a class="reference internal" href="../../archi-applicative/20-services-list.html"><span class="doc">la section sur l’architecture applicative VITAM</span></a> correspondent également aux zones de sécurité préconisées pour le déploiement de VITAM :</p>
<div class="figure align-center" id="id1">
<img alt="../../_images/technical-architecture-layer-zoningprinciples.png" src="../../_images/technical-architecture-layer-zoningprinciples.png" />
<p class="caption"><span class="caption-text">Déploiement VITAM : zones &amp; principes de communication ; les utilisateurs métier archivistes sont présentés à gauche, et les exploitants technique à droite.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last">Ce découpage est repris dans <a class="reference internal" href="../03-technical-architecture.html"><span class="doc">la présentation de l’architecture technique détaillée</span></a>.</p>
</div>
<p>Chaque zone héberge des clusters de services ; un cluster doit être présent en entier dans une zone, et ne peut par conséquent pas être réparti dans deux zones différentes. Chaque noeud d’un cluster applicatif doit être installé sur un hôte (OS) distinct (la colocalisation de deux instances d’un même service n’étant pas supportée) ; dans le cas de l’utilisation d’un système de virtualisation d’OS (type hyperviseur), il est recommandé de placer deux noeuds d’un même cluster applicatif sur deux serveurs physiques différents.</p>
<p>Le découpage en zones suit un découpage classique de système «&nbsp;n-tiers&nbsp;» ; par conséquent, il est prévu pour respecter les contraintes de flux inter-zones suivants :</p>
<ul class="simple">
<li>les systèmes externes utilisateurs de VITAM peuvent uniquement communiquer avec les services de la zone accès ;</li>
<li>les services déployés dans la zone accès peuvent communiquer avec les services de la zone applicative ;</li>
<li>les services déployés dans la zone applicative peuvent communiquer avec les services des zones stockage et données ;</li>
<li>les services déployés dans les zones accès, applicative, stockage et données peuvent communiquer avec les services déployés dans la zone exploitation et administration ;</li>
<li>les exploitants techniques peuvent accéder aux services déployés dans la zone exploitation et administration.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last">Un complément plus fin sur la problématique de colocalisation de composants est disponible dans <a class="reference internal" href="../20-deployment-guidelines.html"><span class="doc">l’architecture technique détaillée</span></a>.</p>
</div>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">Globalement, les connexions réseau associées aux flux métier se font dans le sens externe vers interne. Une exception à cette règle existe cependant au niveau des flux elasticsearch ; en effet, le fonctionnement des clients natifs elasticsearch (utilisés notamment dans metadata et functional-administration) impose des flux bidirectionnels entre les membres du cluster elasticsearch et ses clients natifs, donc entre la zone applicative et la zone données.</p>
</div>
<p>VITAM supporte l’installation sur une infrastructure dont les serveurs possèdent 2 interfaces réseau disjointes pour le réseau de service (sur lequel transitent les flux métier, représentés en noir dans les schémas) et le réseau d’administration/exploitation (sur lequel transitent les flux transverses à toutes les zones et la zone d’administration/exploitation, représentés en violet dans les schémas).</p>
</div>
<div class="section" id="installation-initiale">
<h2>5.1.5.3. Installation initiale<a class="headerlink" href="#installation-initiale" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le processus de déploiement a les responsabilités suivantes :</p>
<ul class="simple">
<li>Effectuer une mise en conformité des OS des serveurs cibles pour certains pré-requis à l’installation de VITAM, notamment :<ul>
<li>les utilisateurs, groupes et dossiers propres à VITAM ;</li>
<li>certains services système utilisés par VITAM (ex: rsyslog).</li>
</ul>
</li>
<li>Déployer, installer et configurer les composants logiciels VITAM ;</li>
<li>Déployer certaines configurations de tuning système (ex: <code class="docutils literal notranslate"><span class="pre">sysctl.conf</span></code>, <code class="docutils literal notranslate"><span class="pre">limits.conf</span></code>).</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">La portée des modifications appliquées au système sera décrite de manière plus précise dans la documentation d’installation livrée avec chaque version.</p>
</div>
<p>La portée de la configuration applicative est décrite dans le schéma présenté au paragraphe <a class="reference internal" href="#contraintes-et-vue-d-ensemble">Contraintes et vue d’ensemble</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last">Plus de détails sur l’installation sont disponibles dans le <a class="reference internal" href="../../introduction.html#term-din"><span class="xref std std-term">DIN</span></a>.</p>
</div>
</div>
<div class="section" id="principes-de-mise-a-jour-a-chaud">
<h2>5.1.5.4. Principes de mise à jour à chaud<a class="headerlink" href="#principes-de-mise-a-jour-a-chaud" title="Lien permanent vers ce titre">¶</a></h2>
<p>La mise à jour à chaud depuis une version précédente du système VITAM n’est pas supportée dans cette version de la solution VITAM.</p>
</div>
<div class="section" id="multi-site">
<h2>5.1.5.5. Multi-site<a class="headerlink" href="#multi-site" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les principes de déploiement de VITAM sur plusieurs sites sont décrits dans la section <a class="reference internal" href="../../archi-applicative/11-data-architecture-multisite.html"><span class="doc">Architecture des données &amp; multisite</span></a>.</p>
</div>
<div class="section" id="support-de-l-elasticite">
<h2>5.1.5.6. Support de l’élasticité<a class="headerlink" href="#support-de-l-elasticite" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un déploiement de VITAM sur une infrastructure élastique (ex: AWS Auto Scaling, Azure AutoScaling, GCE managed instance groups
, Openstack Heat AutoScalingGroup, …) n’est pas supporté dans cette version de la solution VITAM.</p>
</div>
<div class="section" id="validation-du-deploiement">
<h2>5.1.5.7. Validation du déploiement<a class="headerlink" href="#validation-du-deploiement" title="Lien permanent vers ce titre">¶</a></h2>
<p>La validation du déploiement peut être réalisée à partir d’un ensemble de tests techniques et métier fournis par VITAM et permettant de valider le bon fonctionnement du système. A terme, ces tests seront exécutables même sur des environnements de production, dans un tenant dédié pour ne pas impacter les autres utilisateurs du système.</p>
<p>En particulier, les autotests des composants permettent d’avoir une première validation technique d’un déploiement.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="40-principles-monitoring.html" class="btn btn-neutral float-right" title="5.1.6. Suivi de l’état du système" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="20-principles-packaging.html" class="btn btn-neutral" title="5.1.4. Packaging" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'1.10.3',
              LANGUAGE:'fr',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>