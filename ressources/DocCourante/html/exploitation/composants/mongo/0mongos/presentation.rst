Présentation
############

Le composant ``vitam-mongos`` est le point d'accès frontal à une base de données MongoDB de Vitam. Il exécute les requêtes envoyées par les composants Vitam, en communiquant avec le ``config server``, représenté par l'ensemble des services ``vitam-mongoc``, afin de déterminer les ``Shards`` (concept détaillé ci-après) sur lesquels exécuter la requête.

Pour assurer une haute disponibilité du service et répartir la charge des traitements du service ``mongos`` (majoritairement induite par une étape de regroupement des données (SHARD_MERGE)), il est recommandé de déployer ce service sur plusieurs machines. Les requêtes émises par les composants Vitam n'etant pas complexe et ne faisant pas intervenir une forte volumétrie, la charge estimée sur ce composant est faible. Aussi, les ressources machines allouées à ce service peuvent être réduites (par exemple 2 vCPU / 4Go RAM).

.. note:: les tests de performance du système ont montrés que la colocalisation des services vitam-mongos et vitam-mongoc sur la même machine n'a pas d'impact.
