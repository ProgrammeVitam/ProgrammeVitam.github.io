Déploiement / mises à jour
##########################

.. _CertifAnchor:

Mise à jour des certificats
---------------------------

Pour mettre à jour les certificats (avant expiration par exemple), il suffit de les mettre à jour dans les répertoires de déploiement, puis de régénerer les stores (dans ``environments/keystores``) et lancer leur redéploiement via cette commande ansible:

.. code-block:: bash

    # Si le mot de passe du vault n'est pas renseigné dans le fichier vault_pass.txt
    ansible-playbook ansible-vitam/vitam.yml -i environments/<fichier d'inventaire> --ask-vault-pass --tags update_vitam_certificates
    ansible-playbook ansible-vitam-extra/extra.yml -i environments/<fichier d'inventaire> --ask-vault-pass --tags update_vitam_certificates
    # Si le mot de passe du vault est renseigné dans le fichier vault_pass.txt
    ansible-playbook ansible-vitam/vitam.yml -i environments/<fichier d'inventaire> --vault-password-file vault_pass.txt --tags update_vitam_certificates
    ansible-playbook ansible-vitam-extra/extra.yml -i environments/<fichier d'inventaire> --vault-password-file vault_pass.txt --tags update_vitam_certificates

.. seealso:: Le cycle de vie des certificats est rappelé dans les annexes. Une vue d'ensemble est également présentée dans le :term:`DIN`.


Mise à jour de la solution vitam
--------------------------------

Pour la mise à jour de la solution logicielle :term:`VITAM` (tout comme pour sa première installation), se référer au :term:`DIN`, ainsi qu'à la "release note" associée à toute version.

Ces documents détaillent les pré-requis, la configuration des fichiers pour effectuer un déploiement. Le :term:`DIN` explique également comment valider une montée de version applicative de VITAM.

.. seealso:: Plus d'informations, et notamment les paramètres d'installation, sont disponibles dans le :term:`DIN`.
