

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Base MasterData &mdash; documentation VITAM - Modèle de données 0.26.1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Recherche" href="search.html"/>
    <link rel="top" title="documentation VITAM - Modèle de données 0.26.1" href="index.html"/>
        <link rel="next" title="6. Annexes" href="annexes.html"/>
        <link rel="prev" title="4. Base MetaData" href="metadata.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> VITAM - Modèle de données
          

          
            
            <img src="_static/LogoVitamGrand2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.26.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="identity.html">2. Base Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="logbook.html">3. Base Logbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">4. Base MetaData</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Base MasterData</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#collections-contenues-dans-la-base">5.1. Collections contenues dans la base</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collection-accesscontract">5.2. Collection AccessContract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-accesscontract">5.2.1. Utilisation de la collection AccessContract</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-contrat-d-acces">5.2.2. Exemple d&#8217;un fichier d&#8217;import de contrat d&#8217;accès</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-contrats-d-acces">5.2.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection contrats d&#8217;accès</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detail-des-champs">5.2.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-accessionregisterdetail">5.3. Collection AccessionRegisterDetail</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-accessionregisterdetail">5.3.1. Utilisation de la collection AccessionRegisterDetail</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-la-description-dans-le-xml-d-entree">5.3.2. Exemple de la description dans le XML d&#8217;entrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs">5.3.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">5.3.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-accessionregistersummary">5.4. Collection AccessionRegisterSummary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection">5.4.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-la-description-dans-le-bordereau-de-transfer">5.4.2. Exemple de la description dans le bordereau de transfer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">5.4.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">5.4.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-agencies">5.5. Collection Agencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-agencies">5.5.1. Utilisation de la collection Agencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-agencies">5.5.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection Agencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">5.5.3. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-context">5.6. Collection Context</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">5.6.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-contexte-applicatif">5.6.2. Exemple d&#8217;un fichier d&#8217;import de contexte applicatif</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-context">5.6.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">5.6.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-fileformat">5.7. Collection FileFormat</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-fileformat">5.7.1. Utilisation de la collection FileFormat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-fileformat">5.7.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection FileFormat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-la-description-d-un-format-dans-le-xml-d-entree">5.7.3. Exemple de la description d&#8217;un format dans le XML d&#8217;entrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detail-des-champs-du-json-stocke-en-base">5.7.4. Détail des champs du JSON stocké en base</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-filerules">5.8. Collection FileRules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-filerules">5.8.1. Utilisation de la collection FileRules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-filerules">5.8.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection FileRules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">5.8.3. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-ingestcontract">5.9. Collection IngestContract</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">5.9.1. Utilisation de la collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-contrat">5.9.2. Exemple d&#8217;un fichier d&#8217;import de contrat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-ingestcontract">5.9.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection IngestContract</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detail-des-champs-de-la-collection-ingestcontract">5.9.4. Détail des champs de la collection IngestContract</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-profile">5.10. Collection Profile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-la-collection-profile">5.10.1. Utilisation de la collection profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-d-un-fichier-d-import-de-profils-d-archivage">5.10.2. Exemple d&#8217;un fichier d&#8217;import de profils d&#8217;archivage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-profile">5.10.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">5.10.4. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-securityprofile">5.11. Collection SecurityProfile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-de-collection">5.11.1. Utilisation de collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">5.11.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">5.11.3. Détail des champs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collection-vitamsequence">5.12. Collection VitamSequence</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">5.12.1. Utilisation de collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">5.12.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">5.12.3. Détail des champs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="annexes.html">6. Annexes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">VITAM - Modèle de données</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>5. Base MasterData</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/masterdata.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="base-masterdata">
<h1>5. Base MasterData<a class="headerlink" href="#base-masterdata" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="collections-contenues-dans-la-base">
<h2>5.1. Collections contenues dans la base<a class="headerlink" href="#collections-contenues-dans-la-base" title="Lien permanent vers ce titre">¶</a></h2>
<p>La base Masterdata contient les collections relatives aux référentiels utilisés par la solution logicielle Vitam. Ceux-ci sont :</p>
<blockquote>
<div><ul class="simple">
<li>AccessContract</li>
<li>AccessionRegisterDetail</li>
<li>AccessionRegisterSummary</li>
<li>Agencies</li>
<li>Context</li>
<li>FileFormat</li>
<li>FileRules</li>
<li>IngestContract</li>
<li>Profile</li>
<li>SecurityProfile</li>
<li>VitamSequence</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="collection-accesscontract">
<h2>5.2. Collection AccessContract<a class="headerlink" href="#collection-accesscontract" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-accesscontract">
<h3>5.2.1. Utilisation de la collection AccessContract<a class="headerlink" href="#utilisation-de-la-collection-accesscontract" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection AccessContract permet de référencer et de décrire unitairement les contrats d&#8217;accès.</p>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-contrat-d-acces">
<h3>5.2.2. Exemple d&#8217;un fichier d&#8217;import de contrat d&#8217;accès<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-contrat-d-acces" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les contrats d&#8217;accès sont importés dans la solution logicielle Vitam sous la forme d&#8217;un fichier json.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>

  <span class="p">{</span>
      <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;ContratTNR&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;AC-000034&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Contrat permettant de faire des opérations pour tous les services producteurs et sur tousles usages&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
      <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00:00.000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-11-07T07:57:10.581&quot;</span><span class="p">,</span>
      <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00:00.000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00:00.000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;DataObjectVersion&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;PhysicalMaster&quot;</span><span class="p">,</span>
          <span class="s2">&quot;BinaryMaster&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Dissemination&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Thumbnail&quot;</span><span class="p">,</span>
          <span class="s2">&quot;TextContent&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;OriginatingAgencies&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;Vitam&quot;</span><span class="p">,</span>
          <span class="s2">&quot;DINSIC&quot;</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s2">&quot;WritingPermission&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;EveryOriginatingAgency&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;EveryDataObjectVersion&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
      <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un contrat sont :</p>
<ul class="simple">
<li>Name</li>
<li>Description</li>
</ul>
<p>Un fichier d&#8217;import peut décrire plusieurs contrats.</p>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-contrats-d-acces">
<h3>5.2.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection contrats d&#8217;accès<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-contrats-d-acces" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aefqaaaaaahbl62nabkzgak3k6qtf3aaaaaq&quot;</span><span class="p">,</span>
<span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;SIA archives nationales&quot;</span><span class="p">,</span>
<span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;AC-000009&quot;</span><span class="p">,</span>
<span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Contrat d&#39;accès - SIA archives nationales&quot;</span><span class="p">,</span>
<span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
<span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
<span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
<span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
<span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
<span class="s2">&quot;OriginatingAgencies&quot;</span><span class="p">:[</span><span class="s2">&quot;FRA-56&quot;</span><span class="p">,</span><span class="s2">&quot;FRA-47&quot;</span><span class="p">],</span>
<span class="s2">&quot;DataObjectVersion&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;PhysicalMaster&quot;</span><span class="p">,</span> <span class="s2">&quot;BinaryMaster&quot;</span><span class="p">,</span> <span class="s2">&quot;Dissemination&quot;</span><span class="p">,</span> <span class="s2">&quot;Thumbnail&quot;</span><span class="p">,</span> <span class="s2">&quot;TextContent&quot;</span><span class="p">],</span>
<span class="s2">&quot;WritingPermission&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
<span class="s2">&quot;EveryOriginatingAgency&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
<span class="s2">&quot;EveryDataObjectVersion&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
<span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s2">&quot;RootUnits&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;aeaqaaaaaahxunbaabg3yak6urend2yaaaaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;aeaqaaaaaahxunbaabg3yak6urendoqaaaaq&quot;</span>
<span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="detail-des-champs">
<h3>5.2.4. Détail des champs<a class="headerlink" href="#detail-des-champs" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique par tenant par contrat.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> identifiant du tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit de l&#8217;identifiant du tenant.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Name&#8221;:</strong> Nom du contrat d&#8217;entrée unique par tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Identifier&#8221; :</strong> identifiant signifiant donné au contrat.</p>
<blockquote>
<div><ul class="simple">
<li>Il est consituté du préfixe &#8220;AC-&#8221; suivi d&#8217;une suite de 6 chiffres s&#8217;il est peuplé par Vitam. Par exemple : AC-001223. Si le référentiel est en position esclave, cet identifiant peut être géré par l&#8217;application à l&#8217;origine du contrat.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Description&#8221;:</strong> Description du contrat d&#8217;accès.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Status&#8221;:</strong> statut du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>Peut être ACTIVE ou INACTIVE</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;CreationDate&#8221;:</strong> date de création du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
<li>Champ peuplé par Vitam.</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;CreationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;LastUpdate&#8221;:</strong> date de dernière mise à jour du contrat dans la collection AccesContrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
<li>Champ peuplé par Vitam.</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;LastUpdate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;ActivationDate&#8221;:</strong> date d&#8217;activation du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
<li>Champ peuplé par Vitam.</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;ActivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;DeactivationDate&#8221;:</strong> date de désactivation du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
<li>Champ peuplé par Vitam.</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;DeactivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;OriginatingAgencies&#8221;:</strong> services producteurs dont le détenteur du contrat peut consulter les archives.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-n</li>
</ul>
</div></blockquote>
<p><strong>&#8220;DataObjectVersion&#8221;:</strong> usages d&#8217;un groupe d&#8217;objet auxquels le détenteur du contrat a access.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;WritingPermission&#8221;:</strong> droit d&#8217;écriture.</p>
<blockquote>
<div><ul class="simple">
<li>Peut être true ou false. S&#8217;il est true, le détenteur du contrat peut effectuer des mises à jour.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;EveryOriginatingAgency&#8221;:</strong> droit de consultation sur tous les services producteurs.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen.</li>
<li>Si la valeur est à true, alors le détenteur du contrat peut accéder aux archives de tous les services producteurs.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;EveryDataObjectVersion&#8221;:</strong> droit de consultation sur tous les usages.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen.</li>
<li>Si la valeur est à true, alors le détenteur du contrat peut accéder à tous les types d&#8217;usages.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong>  version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;RootUnits&#8221;:</strong> Liste des noeuds de consultation auxquels le détenteur du contrat a accès. Si aucun noeud n&#8217;est spécifié, alors l&#8217;utilisateur a accès à tous les noeuds.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-accessionregisterdetail">
<h2>5.3. Collection AccessionRegisterDetail<a class="headerlink" href="#collection-accessionregisterdetail" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-accessionregisterdetail">
<h3>5.3.1. Utilisation de la collection AccessionRegisterDetail<a class="headerlink" href="#utilisation-de-la-collection-accessionregisterdetail" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection a pour vocation de référencer l&#8217;ensemble des informations sur les opérations d&#8217;entrée réalisées pour un service producteur. A ce jour, il y a autant d&#8217;enregistrements que d&#8217;opérations d&#8217;entrées effectuées pour ce service producteur, mais des évolutions sont d&#8217;ores et déjà prévues. Cette collection reprend les élements du bordereau de transfert.</p>
</div>
<div class="section" id="exemple-de-la-description-dans-le-xml-d-entree">
<h3>5.3.2. Exemple de la description dans le XML d&#8217;entrée<a class="headerlink" href="#exemple-de-la-description-dans-le-xml-d-entree" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les seuls élements issus du message ArchiveTransfer utilisés ici sont ceux correspondants à la déclaration des identifiants du service producteur et du service versant. Ils sont placés dans le bloc &lt;ManagementMetadata&gt;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_005761</span><span class="o">&lt;/</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs">
<h3>5.3.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aedqaaaaakhpuaosabkcgak4ebd7deiaaaaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;OriginatingAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;FRAN_NP_009734&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SubmissionAgency&quot;</span><span class="p">:</span> <span class="s2">&quot;FRAN_NP_009734&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ArchivalAgreement&quot;</span><span class="p">:</span> <span class="s2">&quot;ArchivalAgreement0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EndDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-19T12:36:52.572+02:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;StartDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-19T12:36:52.572+02:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Symbolic&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;STORED_AND_COMPLETED&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-19T12:36:52.572+02:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TotalObjectGroups&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;ingested&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="s2">&quot;attached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;detached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;symbolicRemained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;TotalUnits&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;ingested&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">11</span>
        <span class="s2">&quot;attached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;detached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;symbolicRemained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;TotalObjects&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;ingested&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="s2">&quot;attached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;detached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;symbolicRemained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;ObjectSize&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;ingested&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;remained&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="s2">&quot;attached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;detached&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;symbolicRemained&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;OperationIds&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;aedqaaaaakhpuaosabkcgak4ebd7deiaaaaq&quot;</span>
    <span class="p">],</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">5</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>5.3.4. Détail des champs<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;: Champ obligatoire peuplé par Vitam</strong> identifiant du tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>&#8220;OriginatingAgency&#8221;:</strong> contient l&#8217;identifiant du service producteur.</dt>
<dd>Il est issu du le bloc &lt;OriginatinAgencyIdentifier&gt; correspondant au champ Name de la collection Agencies.</dd>
</dl>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>on récupère la valeur FRAN_NP_051314</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>&#8220;SubmissionAgency&#8221;:</strong> contient l&#8217;identifiant du service versant.</dt>
<dd>Il est contenu entre les balises &lt;SubmissionAgencyIdentifier&gt; correspondant au champ Name de la collection Agencies.</dd>
</dl>
<p>Par exemple pour</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_005761</span><span class="o">&lt;/</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On récupère la valeur FRAN_NP_005761.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractère.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>Ce champ est facultatif dans le bordereau. S&#8217;il&#8217; est absente ou vide, alors la valeur contenue dans le champ &lt;OriginatingAgencyIdentifier&gt; est reportée dans ce champ.</p>
<dl class="docutils">
<dt><strong>&#8220;ArchivalAgreement&#8221;:</strong> Contient le contrat utilisé pour réaliser l&#8217;entrée.</dt>
<dd>Il est contenu entre les balises &lt;ArchivalAgreement&gt; et correspond à la valeur contenue dans le champ Identifier de la collection IngestContract.</dd>
</dl>
<p>Par exemple pour</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ArchivalAgreement</span><span class="o">&gt;</span><span class="n">IC</span><span class="o">-</span><span class="mi">000001</span><span class="o">&lt;/</span><span class="n">ArchivalAgreement</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On récupère la valeur IC-000001.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractère.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;EndDate&#8221;:</strong> date de la dernière opération d&#8217;entrée pour l&#8217;enregistrement concerné.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;EndDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Champ peuplé par Vitam.
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;StartDate&#8221;:</strong> date de la première opération d&#8217;entrée pour l&#8217;enregistrement concerné.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;StartDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Champ peuplé par Vitam.
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>Symbolic</strong>: Indique si le fonds concerné est propre au service producteur ou s&#8217;il lui est rattaché symboliquement. Si le champ correspond à la valeur true, il s&#8217;agit de liens symboliques.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Status&#8221;:</strong>. Indication sur l&#8217;état des archives concernées par l&#8217;enregistrement.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;LastUpdate&#8221;:</strong>. Date de la dernière mise à jour pour l&#8217;enregistrement concerné.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
<li>Champ peuplé par Vitam.</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;StartDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<dl class="docutils">
<dt><strong>&#8220;TotalObjectGroups&#8221;:</strong>. Il contient la répartition du nombre de groupes d&#8217;objets du fonds par état pour l&#8217;opération journalisée (ingested, deleted,remained, attached, detached et symbolicRemained) :</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>&#8220;ingested&#8221;: nombre de groupes d&#8217;objets pris en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: nombre de groupes d&#8217;objets supprimés ou sortis du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: nombre de groupes d&#8217;objets conservés dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: nombre de groupes d&#8217;objets rattachés symboliquement de ce service producteur pour l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: nombre de groupes d&#8217;objets détachés symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: nombre actualisé de groupes d&#8217;objets attachés symboliquement de ce service producteur pour l&#8217;enregistrement concerné et conservés dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
<dt><strong>&#8220;TotalUnits&#8221;:</strong>. Il contient la répartition du nombre d&#8217;unités archivistiques du fonds par état pour l&#8217;opération journalisée (ingested, deleted,remained, attached, detached et symbolicRemained) :</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>&#8220;ingested&#8221;: nombre d&#8217;unités archivistiques prises en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: nombre d&#8217;unités archivistiques supprimées ou sorties du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: nombre d&#8217;unités archivistiques conservées dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: nombre d&#8217;unités archivistiques rattachées symboliquement de ce service producteur pour l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: nombre d&#8217;unités archivistiques détachées symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: nombre actualisé d&#8217;unités archivistiques attachées symboliquement de ce service producteur pour l&#8217;enregistrement concerné et conservées dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
<dt><strong>&#8220;TotalObjects&#8221;:</strong> Contient la répartition du nombre d&#8217;objets du fonds par état pour l&#8217;opération journalisée  (ingested, deleted,remained, attached, detached et symbolicRemained) :</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>&#8220;ingested&#8221;: nombre  d&#8217;objets prises en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: nombre d&#8217;objets supprimés ou sorties du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: nombre d&#8217;objets conservées dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: nombre d&#8217;objets rattachées symboliquement de ce service producteur pour l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: nombre d&#8217;objets détachées symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: Nombre actualisé d&#8217;objets attachées symboliquement de ce service producteur pour l&#8217;enregistrement concerné et conservés dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
<dt><strong>&#8220;ObjectSize&#8221;:</strong> Contient la répartition du volume total des fichiers du fonds par état pour l&#8217;opération journalisée (ingested, deleted,remained, attached, detached et symbolicRemained) :</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>&#8220;ingested&#8221;: volume en octet des fichiers pris en charge dans le cadre de l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: volume en octet des fichiers supprimés ou sortis du système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: volume en octet des fichiers conservés dans le système pour l&#8217;enregistrement concerné. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: volume en octet des fichiers rattachés symboliquement de ce service producteur pour l&#8217;enregistrement concerné. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: volume en octet des fichiers détachés symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: Volume actualisé en octets des fichiers attachés symboliquement de ce service producteur pour l&#8217;enregistrement concerné et conservés dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
</dl>
<p><strong>&#8220;OperationIds&#8221;:</strong> opération d&#8217;entrée concernée</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau.</li>
<li>Ne peut être vide</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-accessionregistersummary">
<h2>5.4. Collection AccessionRegisterSummary<a class="headerlink" href="#collection-accessionregistersummary" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection">
<h3>5.4.1. Utilisation de la collection<a class="headerlink" href="#utilisation-de-la-collection" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection contient une vue macroscopique des fonds pris en charge dans la solution logicielle Vitam. Elle est constitué à partir des élements du bordereau de transfert.</p>
</div>
<div class="section" id="exemple-de-la-description-dans-le-bordereau-de-transfer">
<h3>5.4.2. Exemple de la description dans le bordereau de transfer<a class="headerlink" href="#exemple-de-la-description-dans-le-bordereau-de-transfer" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les seuls élements issus du  message bordereau de transfer, utilisés ici sont ceux correspondants à la déclaration des identifiants du service producteur et du service versant. Ils sont placés dans le bloc &lt;ManagementMetadata&gt;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_005761</span><span class="o">&lt;/</span><span class="n">SubmissionAgencyIdentifier</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ManagementMetadata</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>5.4.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>&#8220;_id&#8221;: &#8220;aefaaaaaaaed4nrpaas4uak7cxykxiaaaaaq&#8221;,
&#8220;_tenant&#8221;: 0,
&#8220;OriginatingAgency&#8221;: &#8220;Vitam&#8221;,
&#8220;TotalObjects&#8221;: {</p>
<blockquote>
<div>&#8220;ingested&#8221;: 292,
&#8220;deleted&#8221;: 0,
&#8220;remained&#8221;: 292,
&#8220;attached&#8221;: 12,
&#8220;detached&#8221;: 0,
&#8220;symbolicRemained&#8221;: 12</div></blockquote>
<p>},
&#8220;TotalObjectGroups&#8221;: {</p>
<blockquote>
<div>&#8220;ingested&#8221;: 138,
&#8220;deleted&#8221;: 0,
&#8220;remained&#8221;: 138,
&#8220;attached&#8221;: 14,
&#8220;detached&#8221;: 0,
&#8220;symbolicRemained&#8221;: 14</div></blockquote>
<p>},
&#8220;TotalUnits&#8221;: {</p>
<blockquote>
<div>&#8220;ingested&#8221;: 201,
&#8220;deleted&#8221;: 0,
&#8220;remained&#8221;: 201,
&#8220;attached&#8221;: 37,
&#8220;detached&#8221;: 0,
&#8220;symbolicRemained&#8221;: 37</div></blockquote>
<p>},
&#8220;ObjectSize&#8221;: {</p>
<blockquote>
<div>&#8220;ingested&#8221;: 35401855,
&#8220;deleted&#8221;: 0,
&#8220;remained&#8221;: 35401855,
&#8220;attached&#8221;: 917440,
&#8220;detached&#8221;: 0,
&#8220;symbolicRemained&#8221;: 917440</div></blockquote>
<dl class="docutils">
<dt>},</dt>
<dd>&#8220;creationDate&#8221;: &#8220;2017-04-12T17:01:11.764&#8221;,
&#8220;_v&#8221;: 1</dd>
</dl>
</div></blockquote>
<p>}</p>
</div></blockquote>
</div>
<div class="section" id="id3">
<h3>5.4.4. Détail des champs<a class="headerlink" href="#id3" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique du fond.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> correspondant à l&#8217;identifiant du tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;OriginatingAgency&#8221;:</strong> la valeur de ce champ est une chaîne de caractères.</p>
<blockquote>
<div><ul class="simple">
<li>Ce champ est la clef primaire et sert de concaténation pour toutes les entrées effectuées sur ce producteur d&#8217;archives. Récupère la valeur contenue dans le bloc &lt;OriginatinAgencyIdentifier&gt; du message ArchiveTransfer. Cette valeur doit également correspondre au champ Identifier de la collection Agencies.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>Par exemple pour</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span><span class="n">FRAN_NP_051314</span><span class="o">&lt;/</span><span class="n">OriginatingAgencyIdentifier</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On récupère la valeur FRAN_NP_051314.</p>
<dl class="docutils">
<dt><strong>&#8220;TotalObjects&#8221;:</strong>. Il contient la répartition du nombre d&#8217;objets du service producteur par état</dt>
<dd><blockquote class="first">
<div><p>(ingested, deleted, remained, attached, detached et symbolicRemained)</p>
<ul class="simple">
<li>&#8220;ingested&#8221;: nombre total d&#8217;objets pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: nombre d&#8217;objets supprimés ou sortis du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: nombre actualisé d&#8217;objets conservés dans le système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: nombre total d&#8217;objets attachés symboliquement de ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: nombre d&#8217;objets détachés symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: nombre actualisé d&#8217;objets attachés symboliquement de ce service producteur et conservés dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
<dt><strong>&#8220;TotalObjectGroups&#8221;:</strong>. Il contient la répartition du nombre de groupes d&#8217;objets du service producteur par état</dt>
<dd><blockquote class="first">
<div><p>(ingested, deleted, remained, attached, detached et symbolicRemained)</p>
<ul class="simple">
<li>&#8220;ingested&#8221;: nombre total de groupes d&#8217;objets pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: nombre de groupes d&#8217;objets supprimés ou sortis du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: nombre actualisé de groupes d&#8217;objets conservés dans le système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: nombre de groupes d&#8217;objets attachés symboliquement de ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: nombre de groupes d&#8217;objets détachés symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: nombre actualisé de groupes d&#8217;objets rattachés symboliquement de ce service producteur et conservés dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
<dt><strong>&#8220;TotalUnits&#8221;:</strong>. Il contient la répartition du nombre d&#8217;unités archivistiques du service producteur par état</dt>
<dd><blockquote class="first">
<div><p>(ingested, deleted, remained, attached, detached et symbolicRemained)</p>
<ul class="simple">
<li>&#8220;ingested&#8221;: nombre total d&#8217;unités archivistiques prises en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: nombre d&#8217;unités archivistiques supprimées ou sorties du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: nombre actualisé d&#8217;unités archivistiques conservées. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: nombre total d&#8217;unités archivistiques attachées symboliquement de ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: nombre d&#8217;unités archivistiques détachées symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: Nombre actualisé d&#8217;unités archivistiques attachés symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
<dt><strong>&#8220;ObjectSize&#8221;:</strong>. Il contient la répartition du volume total des fichiers du service producteur par état</dt>
<dd><blockquote class="first">
<div><p>(ingested, deleted, remained, attached, detached et symbolicRemained)</p>
<ul class="simple">
<li>&#8220;ingested&#8221;: volume total en octet des fichiers pris en charge dans le système pour ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;deleted&#8221;: volume total en octet des fichiers supprimés ou sortis du système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;remained&#8221;: volume actualisé en octet des fichiers conservés dans le système. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;attached&#8221;: volume total en octets des fichiers attachés symboliquement de ce service producteur. La valeur contenue dans le champ est un entier.</li>
<li>&#8220;detached&#8221;: volume total en octet des fichiers détachés symboliquement de ce service producteur. La valeur contenue dans ce champ est un entier.</li>
<li>&#8220;symbolicRemained&#8221;: volume actualisé en octet des fichiers rattachés symboliquement de ce service producteur et conservés dans la solution logicielle Vitam. La valeur contenue dans ce champ est un entier.</li>
</ul>
</div></blockquote>
<ul class="last simple">
<li>Il s&#8217;agit d&#8217;un JSON</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</dd>
</dl>
<p><strong>&#8220;creationDate&#8221;:</strong>  Date d&#8217;inscription du service producteur concerné dans le registre des fonds.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;CreationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;,</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;_v&#8221;: Champ obligatoire peuplé par Vitam</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-agencies">
<h2>5.5. Collection Agencies<a class="headerlink" href="#collection-agencies" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-agencies">
<h3>5.5.1. Utilisation de la collection Agencies<a class="headerlink" href="#utilisation-de-la-collection-agencies" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection Agencies permet de référencer et décrire unitairement les services agents.</p>
<p>Cette collection est alimentée par l&#8217;import d&#8217;un fichier CSV contenant l&#8217;ensemble des services agent. Celui doit être structuré comme ceci :</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Identifier</th>
<th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Identifiant du service agent</td>
<td>Nom du service agent</td>
<td>Description du service agent</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-agencies">
<h3>5.5.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection Agencies<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-agencies" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaaevq6lcaamxsak7psyd2uyaaadq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;Identifier5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Identifier5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;une description de service agent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>5.5.3. Détail des champs<a class="headerlink" href="#id4" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique du service agent.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Name&#8221;:</strong> nom du service agent, qui doit être unique sur le tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Description&#8221;:</strong> description du service agent.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Identifier&#8221;:</strong>  identifiant signifiant donné au service agent.</p>
<blockquote>
<div><ul class="simple">
<li>Le contenu de ce champs est obligatoirement renseignée dans le fichier CSV permettant de créer le service agent. En aucun cas la solution logicielle Vitam peut être maître sur la création de cet identifiant comme cela peut être le cas pour d&#8217;autres données référentielles.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> information sur le tenant. Il s&#8217;agit de l&#8217;identifiant du tenant utilisant l&#8217;enregistrement</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-context">
<h2>5.6. Collection Context<a class="headerlink" href="#collection-context" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id5">
<h3>5.6.1. Utilisation de la collection<a class="headerlink" href="#id5" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection Context permet de stocker unitairement les contextes applicatifs.</p>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-contexte-applicatif">
<h3>5.6.2. Exemple d&#8217;un fichier d&#8217;import de contexte applicatif<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-contexte-applicatif" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les contextes applicatifs sont importés dans la solution logicielle Vitam sous la forme d’un fichier json.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;My_Context_5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;SecurityProfile&quot;</span><span class="p">:</span> <span class="s2">&quot;admin-security-profile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Permissions&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-context">
<h3>5.6.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection Context<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-context" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aegqaaaaaaevq6lcaamxsak7psqdcmqaaaaq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;admin-context&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;EnableControl&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;CT-000001&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SecurityProfile&quot;</span><span class="p">:</span> <span class="s2">&quot;admin-security-profile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Permissions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
            <span class="s2">&quot;AccessContracts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;IngestContracts&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-11-02T12:06:34.034&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-11-02T12:06:34.036&quot;</span><span class="p">,</span>
    <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Il est possible de mettre plusieurs contextes applicatifs dans un même fichier, sur le même modèle que les contrats d&#8217;entrées ou d&#8217;accès par exemple. On pourra noter que le contexte est multi-tenant et définit chaque tenant de manière indépendante.</p>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un contexte sont :</p>
<ul class="simple">
<li>Name</li>
<li>Permissions. La valeur de Permissions peut cependant être vide : &#8220;Permissions : []&#8221;</li>
</ul>
</div>
<div class="section" id="id6">
<h3>5.6.4. Détail des champs<a class="headerlink" href="#id6" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique du contexte applicatif.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Name&#8221;:</strong> nom du contexte applicatif, qui doit être unique sur la plateforme.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Status&#8221;:</strong> statut du contexte applicatif. Il peut être &#8220;true&#8221; ou &#8220;false&#8221; et a la valeur par défaut : &#8220;false&#8221;.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen</li>
<li>&#8220;true&#8221; : le contexte est actif</li>
<li>&#8220;false&#8221; : le contexte est inactif</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;EnableControl&#8221;:</strong> activation des contrôles sur les tenants. Il peut être &#8220;true&#8221; ou &#8220;false&#8221; et a la valeur par défaut : &#8220;false&#8221;.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen</li>
<li>&#8220;true&#8221; : le contrôle est actif</li>
<li>&#8220;false&#8221; : le contrôle est inactif</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;SecurityProfile&#8221;:</strong> Nom du profil de sécurité utilisé par le contexte applicatif. Ce nom doit correspondre à celui d&#8217;un profil de sécurité enregistré dans la collection SecurityProfile.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Permissions&#8221;:</strong> début du bloc appliquant les permissions à chaque tenant.</p>
<blockquote>
<div><ul class="simple">
<li>C&#8217;est un mot clé qui n&#8217;a pas de valeur associée.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;AccessContracts&#8221;:</strong> tableau d&#8217;identifiants de contrats d&#8217;accès appliqués sur le tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaines de caractères</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;IngestContracts&#8221;:</strong> tableau d&#8217;identifiants de contrats d&#8217;entrées appliqués sur le tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaines de caractères</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;CreationDate&#8221;:</strong> &#8220;CreationDate&#8221;: date de création du contexte.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une date au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;CreationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;,</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;LastUpdate&#8221;:</strong> date de dernière modification du contexte.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une date au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;LastUpdate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;,</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;ActivationDate&#8221;:</strong> date d&#8217;activation du contexte.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;ActivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 0-1</p>
</div></blockquote>
<p><strong>&#8220;DeactivationDate&#8221;:</strong> date de désactivation du contexte.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;DeactivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 0-1</p>
</div></blockquote>
<p><strong>&#8220;Identifier&#8221;:</strong> identifiant signifiant donné au contexte applicatif.</p>
<blockquote>
<div><ul class="simple">
<li>Il est consituté du préfixe &#8220;CT-&#8221; suivi d&#8217;une suite de 6 chiffres. Par exemple : CT-001573.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong>  version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-fileformat">
<h2>5.7. Collection FileFormat<a class="headerlink" href="#collection-fileformat" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-fileformat">
<h3>5.7.1. Utilisation de la collection FileFormat<a class="headerlink" href="#utilisation-de-la-collection-fileformat" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection FileFormat permet de référencer et décrire les différents formats de fichiers ainsi que leur description. La collection est initialisée à partir de l&#8217;import du fichier de signature PRONOM, mis à disposition par The National Archive (UK).</p>
<p>Cette collection est commune à tous les tenants.</p>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-fileformat">
<h3>5.7.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection FileFormat<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-fileformat" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaahbl62nabduoak3jc2zqciaadiq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreatedDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-09-27T15:37:53&quot;</span><span class="p">,</span>
  <span class="s2">&quot;VersionPronom&quot;</span><span class="p">:</span> <span class="s2">&quot;88&quot;</span><span class="p">,</span>
   <span class="s2">&quot;PUID&quot;</span><span class="p">:</span> <span class="s2">&quot;fmt/961&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Version&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Mobile eXtensible Music Format&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Extension&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;mxmf&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;HasPriorityOverFileFormatID&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;fmt/714&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;MIMEType&quot;</span><span class="p">:</span> <span class="s2">&quot;audio/mobile-xmf&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Group&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Alert&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;Comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exemple-de-la-description-d-un-format-dans-le-xml-d-entree">
<h3>5.7.3. Exemple de la description d&#8217;un format dans le XML d&#8217;entrée<a class="headerlink" href="#exemple-de-la-description-d-un-format-dans-le-xml-d-entree" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ci-après, la portion d&#8217;un fichier de signature (DROID_SignatureFile_VXX.xml) utilisée pour renseigner les champs du JSON</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FileFormat</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;105&quot;</span> <span class="n">MIMEType</span><span class="o">=</span><span class="s2">&quot;application/msword&quot;</span> <span class="n">Name</span><span class="o">=</span><span class="s2">&quot;Microsoft Word for Macintosh Document&quot;</span> <span class="n">PUID</span><span class="o">=</span><span class="s2">&quot;x-fmt/64&quot;</span> <span class="n">Version</span><span class="o">=</span><span class="s2">&quot;4.0&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span><span class="mi">486</span><span class="o">&lt;/</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">mcw</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">FileFormat</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="detail-des-champs-du-json-stocke-en-base">
<h3>5.7.4. Détail des champs du JSON stocké en base<a class="headerlink" href="#detail-des-champs-du-json-stocke-en-base" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique du format.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;CreatedDate&#8221;:</strong> date de création de la version du fichier de signatures PRONOM utilisé pour initialiser la collection.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une date au format ISO 8601 YYY-MM-DD + &#8216;T&#8217; + hh:mm:ss.millisecondes &#8220;+&#8221; timezone hh:mm.</li>
</ul>
<p><a href="#id7"><span class="problematic" id="id8">``</span></a>Exemple : &#8220;2016-08-19T16:36:07.942+02:00&#8221; ``
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;VersionPronom&#8221;:</strong> numéro de version du fichier de signatures PRONOM utilisé pour créer l&#8217;enregistrement.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Le numéro de version de PRONOM est à l&#8217;origine déclaré dans le fichier de signature au niveau de la balise &lt;FFSignatureFile&gt; au niveau de l&#8217;attribut &#8220;version &#8221;.</li>
<li>Cardianlité : 1-1</li>
</ul>
</div></blockquote>
<p>Dans cet exemple, le numéro de version est 88 :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FFSignatureFile</span> <span class="n">DateCreated</span><span class="o">=</span><span class="s2">&quot;2016-09-27T15:37:53&quot;</span> <span class="n">Version</span><span class="o">=</span><span class="s2">&quot;88&quot;</span> <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.nationalarchives.gov.uk/pronom/SignatureFile&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>&#8220;MIMEType&#8221;:</strong> Type MIME correspondant au format de fichier.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Il est renseigné avec le contenu de l&#8217;attribut &#8220;MIMEType&#8221; de la balise &lt;FileFormat&gt;. Cet attribut est facultatif dans le fichier de signature.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;PUID&#8221;:</strong> identifiant unique du format au sein du référentiel PRONOM.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Il est issu du champ &#8220;PUID&#8221; de la balise &lt;FileFormat&gt;. La valeur est composée du préfixe &#8220;fmt&#8221; ou &#8220;x-fmt&#8221;, puis d&#8217;un nombre correspondant au numéro d&#8217;entrée du format dans le référentiel PRONOM. Les deux éléments sont séparés par un &#8220;/&#8221;</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">-</span><span class="n">fmt</span><span class="o">/</span><span class="mi">64</span>
</pre></div>
</div>
<p>Les PUID comportant un préfixe &#8220;x-fmt&#8221; indiquent que ces formats sont en cours de validation par The National Archives (UK). Ceux possédant un préfixe &#8220;fmt&#8221; sont validés.</p>
<p><strong>&#8220;Version&#8221;:</strong> version du format.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>Exemples de formats :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Version</span><span class="o">=</span><span class="s2">&quot;3D Binary Little Endian 2.0&quot;</span>
<span class="n">Version</span><span class="o">=</span><span class="s2">&quot;2013&quot;</span>
<span class="n">Version</span><span class="o">=</span><span class="s2">&quot;1.5&quot;</span>
</pre></div>
</div>
<p>L&#8217;attribut &#8220;version&#8221; n&#8217;est pas obligatoire dans la balise &lt;fileformat&gt; du fichier de signature.</p>
<p><strong>&#8220;Name&#8221;:</strong> nom du format.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Le nom du format est issu de la valeur de l&#8217;attribut &#8220;Name&#8221; de la balise &lt;FileFormat&gt; du fichier de signature.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Extension&#8221;:</strong> Extension(s) du format.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</li>
<li>Ne peut être vide</li>
<li>Il contient les valeurs situées entre les balises &lt;Extension&gt; elles-mêmes encapsulées entre les balises &lt;FileFormat&gt;. Le champ &lt;Extension&gt; peut-être multivalué. Dans ce cas, les différentes valeurs situées entre les différentes balises &lt;Extension&gt; sont placées dans le tableau et séparées par une virgule.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>Par exemple, pour le format dont le PUID est fmt/918 la représentation XML est la suivante :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FileFormat</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;1723&quot;</span> <span class="n">Name</span><span class="o">=</span><span class="s2">&quot;AmiraMesh&quot;</span> <span class="n">PUID</span><span class="o">=</span><span class="s2">&quot;fmt/918&quot;</span> <span class="n">Version</span><span class="o">=</span><span class="s2">&quot;3D ASCII 2.0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span><span class="mi">1268</span><span class="o">&lt;/</span><span class="n">InternalSignatureID</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">am</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">amiramesh</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Extension</span><span class="o">&gt;</span><span class="n">hx</span><span class="o">&lt;/</span><span class="n">Extension</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">FileFormat</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Les valeurs des balises &lt;Extension&gt; seront stockées de la façon suivante dans le JSON :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;Extension&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="s2">&quot;am&quot;</span><span class="p">,</span>
     <span class="s2">&quot;amiramesh&quot;</span><span class="p">,</span>
     <span class="s2">&quot;hx&quot;</span>
 <span class="p">],</span>
</pre></div>
</div>
<p><strong>&#8220;HasPriorityOverFileFormatID&#8221;:</strong> liste des PUID des formats sur lesquels le format a la priorité.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">HasPriorityOverFileFormatID</span><span class="o">&gt;</span><span class="mi">1121</span><span class="o">&lt;/</span><span class="n">HasPriorityOverFileFormatID</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Cet identifiant est ensuite utilisé dans Vitam pour retrouver le PUID correspondant.</dt>
<dd>S&#8217;il existe plusieurs balises &lt;HasPriorityOverFileFormatID&gt; dans le fichier xml initial pour un format donné, alors les PUID seront stockés dans le JSON sous la forme suivante :</dd>
</dl>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;HasPriorityOverFileFormatID&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;fmt/714&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fmt/715&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fmt/716&quot;</span>
<span class="p">],</span>
</pre></div>
</div>
<p><strong>&#8220;Group&#8221;:</strong> Champ permettant d&#8217;indiquer le nom d&#8217;une famille de format.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>C&#8217;est un champ propre à la solution logicielle Vitam.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Alert&#8221;:</strong> alerte sur l&#8217;obsolescence du format.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen dont la valeur est par défaut placée à false.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Comment&#8221;:</strong> commentaire.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>C&#8217;est un champ propre à la solution logicielle Vitam.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> identifiant du tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-filerules">
<h2>5.8. Collection FileRules<a class="headerlink" href="#collection-filerules" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-filerules">
<h3>5.8.1. Utilisation de la collection FileRules<a class="headerlink" href="#utilisation-de-la-collection-filerules" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection FileRules permet de stocker unitairement les différentes règles de gestion utilisées dans la solution logicielle Vitam pour calculer les échéances associées aux unités archivistiques.</p>
<p>Cette collection est alimentée par l&#8217;import d&#8217;un fichier CSV contenant l&#8217;ensemble des règles. Celui-ci doit être structuré comme ceci :</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RuleId</th>
<th class="head">RuleType</th>
<th class="head">RuleValue</th>
<th class="head">RuleDescription</th>
<th class="head">RuleDuration</th>
<th class="head">RuleMeasurement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Id de la règle</td>
<td>Type de règle</td>
<td>Intitulé de la règle</td>
<td>Description de la règle</td>
<td>Durée de la règle</td>
<td>Unité de mesure de la durée de la règle</td>
</tr>
</tbody>
</table>
<p>La liste des types de règles disponibles est en annexe.</p>
<p>Les valeurs renseignées dans la colonne unité de mesure doivent correspondre à une valeur de l&#8217;énumération RuleMeasurementEnum, à savoir :</p>
<blockquote>
<div><ul class="simple">
<li>MONTH</li>
<li>DAY</li>
<li>YEAR</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-filerules">
<h3>5.8.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection FileRules<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-filerules" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaahbl62nabduoak3jc4avsyaaaha&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;RuleId&quot;</span><span class="p">:</span> <span class="s2">&quot;ACC-00011&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleType&quot;</span><span class="p">:</span> <span class="s2">&quot;AccessRule&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleValue&quot;</span><span class="p">:</span> <span class="s2">&quot;Communicabilité des informations portant atteinte au secret de la défense nationale&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleDescription&quot;</span><span class="p">:</span> <span class="s2">&quot;Durée de communicabilité applicable aux informations portant atteinte au secret de la défense nationale</span><span class="se">\n</span><span class="s2">L’échéance est calculée à partir de la date du document ou du document le plus récent inclus dans le dossier&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleDuration&quot;</span><span class="p">:</span> <span class="s2">&quot;50&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RuleMeasurement&quot;</span><span class="p">:</span> <span class="s2">&quot;YEAR&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-11-02T13:50:28.922&quot;</span><span class="p">,</span>
  <span class="s2">&quot;UpdateDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-11-06T09:11:54.062&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>5.8.3. Détail des champs<a class="headerlink" href="#id9" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;RuleId&#8221;:</strong> identifiant unique par tenant de la règle dans le référentiel utilisé.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>La valeur est reprise du champ RuleId du fichier d&#8217;import. Par commodité, les exemples sont composés d&#8217;un préfixe puis d&#8217;un nombre, séparés par un tiret, mais ce formalisme n&#8217;est pas obligatoire.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>Par exemple :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ACC</span><span class="o">-</span><span class="mi">00027</span>
</pre></div>
</div>
<p>Les préfixes indiquent le type de règle dont il s&#8217;agit. La liste des valeurs pouvant être utilisées comme préfixes ainsi que les types de règles auxquelles elles font référence sont disponibles en annexe 7.4.</p>
<p><strong>&#8220;RuleType&#8221;:</strong> Type de règle.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Il correspond à la valeur située dans la colonne RuleType du fichier d&#8217;import. Les valeurs possibles pour ce champ sont indiquées en annexe.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;RuleValue&#8221;:</strong> Intitulé de la règle.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Elle correspond à la valeur de la colonne RuleValue du fichier d&#8217;import.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;RuleDescription&#8221;:</strong> description de la règle.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Elle correspond à la valeur de la colonne RuleDescription du fichier d&#8217;import.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;RuleDuration&#8221;:</strong>  Durée de la règle.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier compris entre 0 et 999.</li>
<li>Associé à la valeur indiqué dans RuleMeasurement, il permet de décrire la durée d&#8217;application de la règle de gestion. Il correspond à la valeur de la colonne RuleDuration du fichier d&#8217;import.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;RuleMeasurement&#8221;:</strong>  Unité de mesure de la durée décrite dans la colonne RuleDuration du fichier d&#8217;import.</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères devant correspondre à une valeur de l&#8217;énumération RuleMeasurementEnum, à savoir :<ul>
<li>MONTH</li>
<li>DAY</li>
<li>YEAR</li>
</ul>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;CreationDate&#8221;:</strong> date de création de la règle dans la collection FileRule.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;2017-11-02T13:50:28.922&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;UpdateDate&#8221;:</strong> Date de dernière mise à jour de la règle dans la collection FileRules.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;2017-11-02T13:50:28.922&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> identifiant du tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-ingestcontract">
<h2>5.9. Collection IngestContract<a class="headerlink" href="#collection-ingestcontract" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id10">
<h3>5.9.1. Utilisation de la collection<a class="headerlink" href="#id10" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection IngestContract permet de référencer et décrire unitairement les contrats d&#8217;entrée.</p>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-contrat">
<h3>5.9.2. Exemple d&#8217;un fichier d&#8217;import de contrat<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-contrat" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les contrats d&#8217;entrée sont importés dans la solution logicielle Vitam sous la forme d&#8217;un fichier JSON.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;Contrat Archives Départementales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Test entrée - Contrat Archives Départementales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Status&quot;</span> <span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;SIA archives nationales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Contrat d&#39;accès - SIA archives nationales&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Status&quot;</span> <span class="p">:</span> <span class="s2">&quot;INACTIVE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ArchiveProfiles&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;ArchiveProfile8&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;LinkParentId&quot;</span> <span class="p">:</span> <span class="s2">&quot;aeaqaaaaaagbcaacaax56ak35rpo6zqaaaaq&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Les champs à renseigner obligatoirement à l&#8217;import d&#8217;un contrat sont :</p>
<ul class="simple">
<li>Name</li>
<li>Description</li>
</ul>
<p>Un fichier d&#8217;import peut décrire plusieurs contrats.</p>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-ingestcontract">
<h3>5.9.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection IngestContract<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-ingestcontract" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aefqaaaaaahbl62nabkzgak3k6qtf3aaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;SIA archives nationales&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;IC-000012&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Contrat d&#39;accès - SIA archives nationales&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;INACTIVE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
  <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-04-10T11:30:33.798&quot;</span><span class="p">,</span>
  <span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s2">&quot;ArchiveProfiles&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;ArchiveProfile8&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;LinkParentId&quot;</span><span class="p">:</span>
    <span class="s2">&quot;aeaqaaaaaagbcaacaax56ak35rpo6zqaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="detail-des-champs-de-la-collection-ingestcontract">
<h3>5.9.4. Détail des champs de la collection IngestContract<a class="headerlink" href="#detail-des-champs-de-la-collection-ingestcontract" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Name&#8221;:</strong> Nom du contrat d&#8217;entrée, unique par tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Identifier&#8221;:</strong> Identifiant signifiant donné au contrat.</p>
<blockquote>
<div><ul class="simple">
<li>Il est constitué du préfixe &#8220;IC-&#8221; suivi d&#8217;une suite de 6 chiffres dans le cas ou la solution logicielle Vitam peuple l&#8217;identifiant. Par exemple : IC-007485. Si le référentiel est en position esclave, cet identifiant peut être géré par l&#8217;application à l&#8217;origine du contrat.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Description&#8221;:</strong> description du contrat d&#8217;entrée.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Status&#8221;:</strong> statut du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Peut être ACTIVE ou INACTIVE</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;CreationDate&#8221;:</strong> date de création du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><cite>Exemple : &#8220;CreationDate&#8221;: &#8220;2017-04-10T11:30:33.798&#8221;`</cite>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;LastUpdate&#8221;:</strong> date de dernière mise à jour du contrat dans la collection IngestContract.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;LastUpdate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;ActivationDate&#8221;:</strong> date d&#8217;activation du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;ActivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 0-1</p>
</div></blockquote>
<p><strong>&#8220;DeactivationDate&#8221;:</strong> date de désactivation du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">Exemple</span> <span class="pre">:</span> <span class="pre">&quot;DeactivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Cardinalité : 0-1</p>
</div></blockquote>
<p><strong>&#8220;ArchiveProfiles&#8221;:</strong> liste des profils d&#8217;archivage pouvant être utilisés par le contrat d&#8217;entrée.</p>
<blockquote>
<div><ul class="simple">
<li>Tableau de chaînes de caractères correspondant à la valeur du champ Identifier de la collection Profile.</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;LinkParentId&#8221;:</strong> point de rattachement automatique des SIP en application de ce contrat correspondant à l&#8217;identifiant d’une unité archivistique dans le plan de classement ou d&#8217;arbre de positionnement.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID dans le champ _id de la collection Unit.</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>L&#8217;unité archivistique concernée doit être de type FILING_UNIT ou HOLDING afin que l&#8217;opération aboutisse</strong></p>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> identifiant du tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-profile">
<h2>5.10. Collection Profile<a class="headerlink" href="#collection-profile" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-la-collection-profile">
<h3>5.10.1. Utilisation de la collection profile<a class="headerlink" href="#utilisation-de-la-collection-profile" title="Lien permanent vers ce titre">¶</a></h3>
<p>La collection Profile permet de référencer et décrire unitairement les profils d&#8217;archivage.</p>
</div>
<div class="section" id="exemple-d-un-fichier-d-import-de-profils-d-archivage">
<h3>5.10.2. Exemple d&#8217;un fichier d&#8217;import de profils d&#8217;archivage<a class="headerlink" href="#exemple-d-un-fichier-d-import-de-profils-d-archivage" title="Lien permanent vers ce titre">¶</a></h3>
<p>Un fichier d&#8217;import peut décrire plusieurs profils d&#8217;archivage.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;ArchiveProfile0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Description of the Profile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span><span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Format&quot;</span><span class="p">:</span><span class="s2">&quot;XSD&quot;</span>
  <span class="p">},</span>
    <span class="p">{</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span><span class="s2">&quot;ArchiveProfile1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Description&quot;</span><span class="p">:</span><span class="s2">&quot;Description of the profile 2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span><span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Format&quot;</span><span class="p">:</span><span class="s2">&quot;RNG&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Les champs à renseigner obligatoirement à la création d&#8217;un profil d&#8217;archivage sont :</p>
<ul class="simple">
<li>Name</li>
<li>Description</li>
<li>Format</li>
</ul>
</div>
<div class="section" id="exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-profile">
<h3>5.10.3. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs de la collection profile<a class="headerlink" href="#exemple-de-json-stocke-en-base-comprenant-l-exhaustivite-des-champs-de-la-collection-profile" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aegaaaaaaehlfs7waax4iak4f52mzriaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;PR-000003&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;ArchiveProfile0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="s2">&quot;Description of the Profile&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Format&quot;</span><span class="p">:</span> <span class="s2">&quot;XSD&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CreationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;LastUpdate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-05-22T09:23:33.637&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ActivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;DeactivationDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-12-10T00:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;Path&quot;</span><span class="p">:</span> <span class="s2">&quot;1_profile_aegaaaaaaehlfs7waax4iak4f52mzriaaaaq_20170522_092333.xsd&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>5.10.4. Détail des champs<a class="headerlink" href="#id11" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique du profil d&#8217;archivage.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> information sur le tenant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit de l&#8217;identifiant du tenant.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Identifier&#8221;:</strong> indique l&#8217;identifiant signifiant du profil SEDA.</p>
<blockquote>
<div><ul class="simple">
<li>Si Vitam est maître dans la création de cet identifiant, il est alors constitué du préfixe &#8220;PR-&#8221; suivi d&#8217;une suite de 6 chiffres. Par exemple : PR-001573. Si le référentiel est en position esclave, cet identifiant peut être géré par l&#8217;application à l&#8217;origine du profil d&#8217;archivage.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>&#8220;Name&#8221;: indique le nom du profil d&#8217;archivage.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>&#8220;Description&#8221;: Description du profil d&#8217;archivage.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>&#8220;Status&#8221;: statut du profil d&#8217;archivage.</p>
<blockquote>
<div><ul class="simple">
<li>Peut être ACTIVE ou INACTIVE</li>
<li>Si ce champ n&#8217;est pas défini lors de la création de l&#8217;enregistrement, alors il est par défaut INACTIVE.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Format&#8221;: Champ obligatoire</strong> Indiquant le format attendu pour le fichier décrivant les règles du profil d&#8217;archivage.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères devant correspondre à l&#8217;énumération ProfileFormat.</li>
<li>Peut être ACTIVE ou INACTIVE.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;CreationDate&#8221;:</strong> date de création du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;CreationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;,</span></code>
* Champ peuplé par Vitam.
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;LastUpdate&#8221;:</strong>  date de dernière mise à jour du contrat dans la collection AccesContrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;LastUpdate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Champ peuplé par Vitam.
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;ActivationDate&#8221;:</strong> date d&#8217;activation du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;ActivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Champ peuplé par Vitam.
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;DeactivationDate&#8221;:</strong> date de désactivation du contrat.</p>
<blockquote>
<div><ul class="simple">
<li>La date est au format ISO 8601</li>
</ul>
<p><code class="docutils literal"><span class="pre">&quot;DeactivationDate&quot;:</span> <span class="pre">&quot;2017-04-10T11:30:33.798&quot;</span></code>
* Champ peuplé par Vitam.
* Cardinalité : 1-1</p>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong>  version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Path&#8221;: Champ contribué par Vitam lors d&#8217;un import de fichier XSC ou RNG</strong> Indiquant le chemin pour accéder au fichier du profil d&#8217;archivage.</p>
<blockquote>
<div><ul class="simple">
<li>Chaîne de caractères.</li>
<li>Le type de fichier doit correspondre à ce qui est décrit dans le champ Format</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-securityprofile">
<h2>5.11. Collection SecurityProfile<a class="headerlink" href="#collection-securityprofile" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="utilisation-de-collection">
<h3>5.11.1. Utilisation de collection<a class="headerlink" href="#utilisation-de-collection" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection contient les profils de sécurité mobilisés par les contextes applicatifs.</p>
</div>
<div class="section" id="id12">
<h3>5.11.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs<a class="headerlink" href="#id12" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aegqaaaaaaeucszwabglyak64gjmgbyaaaba&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Identifier&quot;</span><span class="p">:</span> <span class="s2">&quot;SEC_PROFILE-000002&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;demo-security-profile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FullAccess&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;Permissions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;securityprofiles:create&quot;</span><span class="p">,</span>
        <span class="s2">&quot;securityprofiles:read&quot;</span><span class="p">,</span>
        <span class="s2">&quot;securityprofiles:id:read&quot;</span><span class="p">,</span>
        <span class="s2">&quot;securityprofiles:id:update&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accesscontracts:read&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accesscontracts:id:read&quot;</span><span class="p">,</span>
        <span class="s2">&quot;contexts:id:update&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>5.11.3. Détail des champs<a class="headerlink" href="#id13" title="Lien permanent vers ce titre">¶</a></h3>
<p><a href="#id14"><span class="problematic" id="id15">**</span></a>&#8220;_id&#8221;:* identifiant unique du profil de sécurité.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Identifier&#8221;:</strong> identifiant signifiant donné au profil de sécurité.</p>
<blockquote>
<div><ul class="simple">
<li>Il est consituté du préfixe &#8220;SEC_PROFILE-&#8221; suivi d&#8217;une suite de 6 chiffres tant qu&#8217;il est définit par la solution logicielle Vitam. Par exemple : SEC_PROFILE-001573. Si le référentiel est en position esclave, cet identifiant peut être géré par l&#8217;application à l&#8217;origine du profil de sécurité.</li>
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Name&#8221;:</strong> nom du profil de sécurité, qui doit être unique sur la plateforme.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;FullAccess&#8221;:</strong> mode super-administrateur donnant toutes les permissions.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un booléen.</li>
<li>S&#8217;il est à &#8220;false&#8221;, le mode super-administrateur n&#8217;est pas activé et les valeurs du champ permission sont utilisées. S&#8217;il est à &#8220;true&#8221;, le champ permission doit être vide.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p>&#8220;Permissions&#8221;: décrit l&#8217;ensemble des permissions auxquelles le profil de sécurité donne accès. Chaque API externe contient un verbe OPTION qui retourne la liste des services avec leur description et permissions associées.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un tableau de chaînes de caractères.</li>
<li>Peut être vide</li>
<li>Cardinalité : 0-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="collection-vitamsequence">
<h2>5.12. Collection VitamSequence<a class="headerlink" href="#collection-vitamsequence" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id16">
<h3>5.12.1. Utilisation de collection<a class="headerlink" href="#id16" title="Lien permanent vers ce titre">¶</a></h3>
<p>Cette collection permet de générer des identifiants signifiants pour les enregistrements des collections suivantes :</p>
<blockquote>
<div><ul class="simple">
<li>IngestContract</li>
<li>AccesContract</li>
<li>Context</li>
<li>Profile</li>
<li>FileRule</li>
<li>SecurityProfile</li>
<li>Agencies</li>
</ul>
</div></blockquote>
<p>Ces identifiants sont composés d&#8217;un préfixe de deux lettres, d&#8217;un tiret et d&#8217;une suite de six chiffres. Par exemple : IC-027593. Il sont reportés dans les champs Identifier des collections concernées.</p>
</div>
<div class="section" id="id17">
<h3>5.12.2. Exemple de JSON stocké en base comprenant l&#8217;exhaustivité des champs<a class="headerlink" href="#id17" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeaaaaaaaahkwxukabqteak4q5mtmdyaaaaq&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;AC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;Counter&quot;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span>
  <span class="s2">&quot;_tenant&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;_v&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h3>5.12.3. Détail des champs<a class="headerlink" href="#id18" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>&#8220;_id&#8221;:</strong> identifiant unique.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de 36 caractères correspondant à un GUID.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Name&#8221;:</strong>. Il s&#8217;agit du préfixe utilisé pour générer un identifiant signifiant. La valeur contenue dans ce champ doit correspondre à la table de concordance du service VitamCounterService.java. La liste des valeurs possibles est détaillée en annexe 5.6.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;une chaîne de caractères.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;Counter&#8221;:</strong> numéro incrémental. Il s&#8217;agit du dernier numéro utilisé pour générer un identifiant signifiant.</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_tenant&#8221;:</strong> information sur le tenant. Il s&#8217;agit de l&#8217;identifiant du tenant utilisant l&#8217;enregistrement</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
<p><strong>&#8220;_v&#8221;:</strong> version de l&#8217;enregistrement décrit</p>
<blockquote>
<div><ul class="simple">
<li>Il s&#8217;agit d&#8217;un entier.</li>
<li>Champ peuplé par Vitam.</li>
<li>Cardinalité : 1-1</li>
</ul>
</div></blockquote>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="annexes.html" class="btn btn-neutral float-right" title="6. Annexes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="metadata.html" class="btn btn-neutral" title="4. Base MetaData" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.26.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>