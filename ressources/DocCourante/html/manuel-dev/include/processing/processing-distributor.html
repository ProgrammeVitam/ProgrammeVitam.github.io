<!DOCTYPE html>
<html class="writer-html4" lang="fr" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>11.4. Processing Distributor &mdash; Documentation VITAM - Manuel de développement 6.1</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="11.5. Processing Engine" href="processing-engine.html" />
    <link rel="prev" title="11.3. Processing Management" href="processing-management.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VITAM - Manuel de développement
              <img src="../../_static/logo_vitam.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html#rappels">Rappels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-environnement.html">Configuration de l’environnement de développement</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_toc.html">Détails par composant</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../access/_toc.html">1. Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collect/_toc.html">2. Collect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common/_toc.html">3. Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-administration/_toc.html">4. Functional administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ihm-demo/_toc.html">5. IHM demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ihm-recette/_toc.html">6. IHM demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ingest/_toc.html">7. Ingest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal-security/_toc.html">8. Security-Internal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logbook/_toc.html">9. Logbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metadata/_toc.html">10. Metadata</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="_toc.html">11. Processing</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction.html">11.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="parametres/parametres.html">11.2. Paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="processing-management.html">11.3. Processing Management</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">11.4. Processing Distributor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#presentation">11.4.1. Présentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rest-api">11.4.2. Rest API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#core">11.4.3. Core</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="processing-engine.html">11.5. Processing Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="worker/_toc.html">11.6. Etudes en cours</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics/metrics.html">11.7. Métriques</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler/_toc.html">12. Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/_toc.html">13. Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technical-administration/_toc.html">14. Technical administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../worker/_toc.html">15. Worker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/_toc.html">16. Workspace</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../parallisation_tests.html">Parallélisation des tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin-icu-elasticsearch.html">Plugin ICU Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gestion-database.html">Gestion des bases de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client-ressource-rest.html">Ressources et clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devstack_vm.html">Création d’une machine de dev contenant <em>Swift</em></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VITAM - Manuel de développement</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../_toc.html">Détails par composant</a></li>
          <li class="breadcrumb-item"><a href="_toc.html">11. Processing</a></li>
      <li class="breadcrumb-item active">11.4. Processing Distributor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/include/processing/processing-distributor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="processing-distributor">
<h1>11.4. Processing Distributor<a class="headerlink" href="#processing-distributor" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="presentation">
<h2>11.4.1. Présentation<a class="headerlink" href="#presentation" title="Lien permanent vers ce titre">¶</a></h2>
<div class="line-block">
<div class="line"><em>Parent package:</em> <strong>fr.gouv.vitam.processing</strong></div>
<div class="line"><em>Package proposition:</em> <strong>fr.gouv.vitam.processing.distributor</strong></div>
</div>
<p>2 modules composent la partie processing-distributor :
- processing-distributor : incluant la partie core + la partie REST.
- processing-distributor-client : incluant le client permettant d’appeler le REST.</p>
<div class="section" id="id1">
<h3>11.4.1.1. Processing-distributor<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
</div>
</div>
<div class="section" id="rest-api">
<h2>11.4.2. Rest API<a class="headerlink" href="#rest-api" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour l’instant les uri suivantes sont déclarées :</p>
<div class="line-block">
<div class="line"><a class="reference external" href="http://server/processing/v1/worker_family">http://server/processing/v1/worker_family</a></div>
<div class="line">POST /{id_family}/workers/{id_worker} -&gt; <strong>POST Permet d’ajouter un worker à la liste des workers</strong></div>
<div class="line">DELETE /{id_family}/workers/{id_worker} -&gt; <strong>DELETE Permet de supprimer un worker</strong></div>
</div>
<p>A noter, que la resource ProcessDistributorResource est utilisée dans la partie Processing-Management.</p>
</div>
<div class="section" id="core">
<h2>11.4.3. Core<a class="headerlink" href="#core" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans la partie core la classe ProcessDistributorImpl propose une méthode principale : distribute.
Cette méthode permet de lancer des étapes et de les diriger vers différents Workers (pour l’instant un seul worker existe).
De plus, un système de monitoring permet d’enregistrer le statut des étapes lancées par la méthode distribute (cf module ProcessMonitoring).
En attributs de l’implémentation du ProcessDistributor, sont présents 1 map de Workers ainsi qu’une liste de Workers disponibles.
Ces 2 objets permettent (et permettront plus finement dans le futur) de gérer la liste des workers disponibles.
Deux méthodes : registerWorker et unregisterWorker permettent d’ajouter ou de supprimer les workers à la liste des workers disponibles.</p>
<div class="section" id="processing-distributor-client">
<h3>11.4.3.1. Processing-distributor-client<a class="headerlink" href="#processing-distributor-client" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour le moment le module est vide, car la partie client permettant d’appeler les méthodes register / unregister est portée par le module processing-management-client.
A terme, il sera souhaité d’avoir 2 clients séparés.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="processing-management.html" class="btn btn-neutral float-left" title="11.3. Processing Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="processing-engine.html" class="btn btn-neutral float-right" title="11.5. Processing Engine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>