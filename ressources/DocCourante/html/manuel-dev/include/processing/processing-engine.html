

<!DOCTYPE html>
<html class="writer-html4" lang="fr" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>10.5. Processing Engine &mdash; Documentation VITAM - Manuel de développement 5.rc.1</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'5.rc.1',
              LANGUAGE:'fr',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" />
    <link rel="next" title="10.6. Etudes en cours" href="worker/_toc.html" />
    <link rel="prev" title="10.4. Processing Distributor" href="processing-distributor.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> VITAM - Manuel de développement
          

          
            
            <img src="../../_static/logo_vitam.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.rc.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html#rappels">Rappels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-environnement.html">Configuration de l’environnement de développement</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_toc.html">Détails par composant</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../access/_toc.html">1. Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common/_toc.html">2. Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-administration/_toc.html">3. Functional administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ihm-demo/_toc.html">4. IHM demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ihm-recette/_toc.html">5. IHM demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ingest/_toc.html">6. Ingest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal-security/_toc.html">7. Security-Internal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logbook/_toc.html">8. Logbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metadata/_toc.html">9. Metadata</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="_toc.html">10. Processing</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction.html">10.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="parametres/parametres.html">10.2. Paramètres</a></li>
<li class="toctree-l3"><a class="reference internal" href="processing-management.html">10.3. Processing Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="processing-distributor.html">10.4. Processing Distributor</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">10.5. Processing Engine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#presentation">10.5.1. Présentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="worker/_toc.html">10.6. Etudes en cours</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics/metrics.html">10.7. Métriques</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../storage/_toc.html">11. Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technical-administration/_toc.html">12. Technical administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../worker/_toc.html">13. Worker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/_toc.html">14. Workspace</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../parallisation_tests.html">Parallélisation des tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin-icu-elasticsearch.html">Plugin ICU Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gestion-database.html">Gestion des bases de données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client-ressource-rest.html">Ressources et clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devstack_vm.html">Création d’une machine de dev contenant <em>Swift</em></a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VITAM - Manuel de développement</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../_toc.html">Détails par composant</a> &raquo;</li>
        
          <li><a href="_toc.html">10. Processing</a> &raquo;</li>
        
      <li>10.5. Processing Engine</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/include/processing/processing-engine.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="processing-engine">
<h1>10.5. Processing Engine<a class="headerlink" href="#processing-engine" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="presentation">
<h2>10.5.1. Présentation<a class="headerlink" href="#presentation" title="Lien permanent vers ce titre">¶</a></h2>
<div class="line-block">
<div class="line"><em>Parent package:</em> <strong>fr.gouv.vitam.processing</strong></div>
<div class="line"><em>Package proposition:</em> <strong>fr.gouv.vitam.processing.engine</strong></div>
</div>
<p>Ce module présente un packge api et core. Dans api on retrouve les interface et dans core leurs implémentations.</p>
<div class="section" id="api">
<h3>10.5.1.1. Api<a class="headerlink" href="#api" title="Lien permanent vers ce titre">¶</a></h3>
<p>ProcessEngine est l’interface qu’on retrouve au niveau de la machine état. Elle expose les méthodes suivantes:
- start : pour lancer l’exécution d’une étape d’un processus auquel ce ProcessEngine est rattaché.
- pause: sert à propager l’action pause sur les étapes.
- cancel: sert à propager l’action cancel sur les étapes.</p>
</div>
<div class="section" id="core">
<h3>10.5.1.2. Core<a class="headerlink" href="#core" title="Lien permanent vers ce titre">¶</a></h3>
<p>Dans la partie Core, la classe ProcessEngineImpl est l’implémentation de l’interface  ProcessEngine:</p>
<p>ProcessEngineImpl ne fait que ce qui suit:</p>
<ul>
<li><p class="first">Initialiser le logbook pour l’étape en cours.</p>
</li>
<li><p class="first">Appeler le distributeur pour exécuter l’étape.</p>
</li>
<li><p class="first">Au retour du distributeur finaliser le logbook pour l’étape en question.</p>
</li>
<li><p class="first">Gérer les exceptions</p>
</li>
<li><p class="first">Appeler la machine à état via IEventsProcessEngine avec les méthodes: onComplete, onUpdate, onError.</p>
<blockquote>
<div><ul class="simple">
<li>onComplete: quand une exécution d’une étape est fini</li>
<li>onError: Quand une exception est levée lors de l’exécution d’une étape.</li>
<li>onUpdate: Quand une mise à jour à la volé d’un processus est nécessaire.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Il faut noter que l’exécution au niveau ProcessEngine est complètement asynchrone en utilisant les CompletableFuture.
Dès que l’initialisation du logbook et de l’initialisation de la CompletableFuture sont faite, une réponse est retournée tout de suite au ProcessManagement et ainsi de suite au client final avant même que l’exécution de l’étape en cours est terminée.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="worker/_toc.html" class="btn btn-neutral float-right" title="10.6. Etudes en cours" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="processing-distributor.html" class="btn btn-neutral float-left" title="10.4. Processing Distributor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>