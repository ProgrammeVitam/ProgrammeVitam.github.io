

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.2. Cas 1: Je ne dispose pas de PKI, je souhaite utiliser celle de Vitam &mdash; documentation VITAM - Documentation d&#39;installation 0.20.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Recherche" href="../search.html"/>
    <link rel="top" title="documentation VITAM - Documentation d&#39;installation 0.20.0" href="../index.html"/>
        <link rel="up" title="8. Explications relatives à la génération des certificats" href="_toc.html"/>
        <link rel="next" title="8.3. Cas 2: Je dispose d’une PKI" href="pki_externe.html"/>
        <link rel="prev" title="8.1. Introduction sur les certificats dans Vitam" href="introduction_certificats.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> VITAM - Documentation d'installation
          

          
            
            <img src="../_static/LogoVitamGrand2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.20.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html#rappels">2. Rappels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">3. Architecture de la solution logicielle VITAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prerequis.html">4. Pré-requis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-it-services.html">5. Dépendances aux services d&#8217;infrastructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fiche_type.html">6. Fiche type de déploiement VITAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_version.html">7. Récupération de la version</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_toc.html">8. Explications relatives à la génération des certificats</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction_certificats.html">8.1. Introduction sur les certificats dans Vitam</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.2. Cas 1: Je ne dispose pas de PKI, je souhaite utiliser celle de Vitam</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#procedure-generale">8.2.1. Procédure générale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generation-des-ca-par-les-scripts-vitam">8.2.2. Génération des CA par les scripts Vitam</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generation-des-certificats-par-les-scripts-vitam">8.2.3. Génération des certificats par les scripts Vitam</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generation-des-magasins-de-certificats">8.2.4. Génération des magasins de certificats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pki_externe.html">8.3. Cas 2: Je dispose d&#8217;une PKI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages/_toc.html">9. Procédures d&#8217;installation / mise à jour</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation_deploiement.html">10. Validation de la procédure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">11. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html#retour-d-experience-cas-rencontres">12. Retour d&#8217;expérience / cas rencontrés</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extras.html">13. Elements extras de l&#8217;installation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">VITAM - Documentation d'installation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="_toc.html">8. Explications relatives à la génération des certificats</a> &raquo;</li>
      
    <li>8.2. Cas 1: Je ne dispose pas de PKI, je souhaite utiliser celle de Vitam</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/certificats/pki_vitam.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cas-1-je-ne-dispose-pas-de-pki-je-souhaite-utiliser-celle-de-vitam">
<h1>8.2. Cas 1: Je ne dispose pas de PKI, je souhaite utiliser celle de Vitam<a class="headerlink" href="#cas-1-je-ne-dispose-pas-de-pki-je-souhaite-utiliser-celle-de-vitam" title="Lien permanent vers ce titre">¶</a></h1>
<p>Dans ce cas, il est nécessaire d&#8217;utiliser la <a class="reference internal" href="../introduction.html#term-pki"><span class="xref std std-term">PKI</span></a> fournie avec la solution logicielle VITAM.</p>
<div class="section" id="procedure-generale">
<h2>8.2.1. Procédure générale<a class="headerlink" href="#procedure-generale" title="Lien permanent vers ce titre">¶</a></h2>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">La <a class="reference internal" href="../introduction.html#term-pki"><span class="xref std std-term">PKI</span></a> fournie avec la solution logicielle Vitam ne doit être utilisée que pour faire des tests, et ne doit par conséquent surtout pas être utilisée en environnement de production !</p>
</div>
<p>La <a class="reference internal" href="../introduction.html#term-pki"><span class="xref std std-term">PKI</span></a> de la solution logicielle VITAM est une suite de scripts qui vont générer dans l&#8217;ordre ci-dessous:</p>
<ul class="simple">
<li>Les autorités de certifcation (CA)</li>
<li>Les certificats (clients, serveurs, de timestamping) à partir des CA</li>
<li>Les keystores, en important les certificats et CA nécessaires pour chacun des keystores</li>
</ul>
</div>
<div class="section" id="generation-des-ca-par-les-scripts-vitam">
<h2>8.2.2. Génération des CA par les scripts Vitam<a class="headerlink" href="#generation-des-ca-par-les-scripts-vitam" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il faut faire générer les autorités de certification par le script décrit ci-dessous.</p>
<p>Dans le répertoire de déploiement, lancer le script :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pki/scripts/generate_ca.sh
</pre></div>
</div>
<p>Ce script génère sous <code class="docutils literal"><span class="pre">pki/ca</span></code> les autorités de certification root et intermédiaires pour générer des certificats clients, serveurs, et de timestamping.</p>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Bien noter les dates de création et de fin de validité des CA. En cas d&#8217;utilisation de la PKI fournie, la CA root a une durée de validité de 10 ans ; la CA intermédiaire a une durée de 3 ans.</p>
</div>
<p>Voici ci-dessous un exemple de rendu du script :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>[INFO] [generate_ca.sh] Lancement de la procédure de création des CA
[INFO] [generate_ca.sh] ==============================================
[INFO] [generate_ca.sh] Répertoire /home/utilisateur/git/vitam/deployment/pki/ca absent ; création...
[INFO] [generate_ca.sh] Création du répertoire de travail temporaire tempcerts sous /home/utilisateur/git/vitam/deployment/pki/tempcerts...
[INFO] [generate_ca.sh] Création de CA root pour server...
[INFO] [generate_ca.sh] Create CA request...
Generating a 2048 bit RSA private key
........................+++
....................+++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/pki/ca/server/ca-root.key&#39;
-----
[INFO] [generate_ca.sh] Create CA certificate...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/server/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;CA_server&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 26 16:29:14 2027 GMT (3650 days)

Write out database with 1 new entries
Data Base Updated
[INFO] [generate_ca.sh] Création de la CA intermediate pour server...
     [...]
Write out database with 1 new entries
Data Base Updated
[INFO] [generate_ca.sh] ----------------------------------------------
[INFO] [generate_ca.sh] ==============================================
[INFO] [generate_ca.sh] Fin de la procédure de création des CA
</pre></div>
</div>
</div>
<div class="section" id="generation-des-certificats-par-les-scripts-vitam">
<h2>8.2.3. Génération des certificats par les scripts Vitam<a class="headerlink" href="#generation-des-certificats-par-les-scripts-vitam" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le fichier d&#8217;inventaire de déploiement <code class="docutils literal"><span class="pre">environments/&lt;fichier</span> <span class="pre">d'inventaire&gt;</span></code> (cf. <a class="reference internal" href="../packages/fresh_install.html#inventaire"><span class="std std-ref">Informations &#8220;plate-forme&#8221;</span></a>) doit être correctement renseigné pour indiquer les serveurs associés à chaque service. En prérequis les CA doivent être présentes.</p>
<p>Puis, dans le répertoire de déploiement, lancer le script :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pki/scripts/generate_certs.sh &lt;fichier d&#39;inventaire&gt;
</pre></div>
</div>
<p>Ci-dessous un exemple de sortie du script :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>[INFO] [generate_certs.sh] Suppression de l&#39;ancien vault
[INFO] [generate_certs.sh] Recopie des clés publiques des CA
[INFO] [generate_certs.sh] Copie de la CA (root + intermediate) de client-external
[INFO] [generate_certs.sh] Copie de la CA (root + intermediate) de client-storage
[INFO] [generate_certs.sh] Copie de la CA (root + intermediate) de server
[INFO] [generate_certs.sh] Copie de la CA (root + intermediate) de timestamping
[INFO] [generate_certs.sh] Génération des certificats serveurs
[INFO] [generate_certs.sh] Création du certificat server pour ingest-external hébergé sur localhost...
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
................................................................................................................................................++
.........................................++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/server/hosts/localhost/ingest-external.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec CA server...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/server/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;ingest-external.service.consul&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:00 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Encryption successful
[INFO] [generate_certs.sh] Création du certificat server pour access-external hébergé sur localhost...
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
..........++
...................++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/server/hosts/localhost/access-external.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec CA server...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/server/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;access-external.service.consul&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:01 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Création du certificat server pour storage-offer-default hébergé sur localhost...
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
.....................++
........++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/server/hosts/localhost/storage-offer-default.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec CA server...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/server/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;storage-offer-default.service.consul&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:02 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Génération des certificats timestamping
[INFO] [generate_certs.sh] Création du certificat timestamping pour logbook
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
.........................................................................................................++
...........++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/timestamping/vitam/logbook.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec CA timestamping...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/timestamping/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;logbook.service.consul&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:04 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Génération des certificats clients
[INFO] [generate_certs.sh] Création du certificat client pour ihm-demo
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
....++
........++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/client-external/clients/ihm-demo/ihm-demo.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec client-external...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/client-external/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;ihm-demo&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:04 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Création du certificat client pour ihm-recette
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
.......................................................................++
...............................................................................................................................................................++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/client-external/clients/ihm-recette/ihm-recette.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec client-external...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/client-external/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;ihm-recette&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:06 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Création du certificat client pour reverse
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
...............................++
.................................................................................................++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/client-external/clients/reverse/reverse.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec client-external...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/client-external/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;reverse&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:07 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Création du certificat client pour storage-engine
[INFO] [generate_certs.sh] Generation de la clé...
Generating a 4096 bit RSA private key
...........++
..........................................................................................++
writing new private key to &#39;/home/utilisateur/git/vitam/deployment/environments/certs/client-storage/clients/storage-engine/storage-engine.key&#39;
-----
[INFO] [generate_certs.sh] Generation du certificat signé avec client-storage...
Using configuration from /home/utilisateur/git/vitam/deployment/pki/config/client-storage/ca-config
Check that the request matches the signature
Signature ok
The Subject&#39;s Distinguished Name is as follows
commonName            :ASN.1 12:&#39;storage-engine&#39;
organizationName      :ASN.1 12:&#39;Vitam.&#39;
countryName           :PRINTABLE:&#39;FR&#39;
stateOrProvinceName   :ASN.1 12:&#39;idf&#39;
localityName          :ASN.1 12:&#39;paris&#39;
Certificate is to be certified until Feb 29 09:37:08 2020 GMT (1095 days)

Write out database with 1 new entries
Data Base Updated
Decryption successful
Encryption successful
[INFO] [generate_certs.sh] Fin de script
</pre></div>
</div>
<p>Ce script génère sous <code class="docutils literal"><span class="pre">environmements/certs</span></code> les certificats (format crt &amp; key) nécessaires pour un bon fonctionnement dans VITAM.
Les mots de passe des clés privées des certificats sont stockés dans le vault ansible environmements/certs/vault-certs.yml</p>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">Les certificats générés à l&#8217;issue ont une durée de validité de (à vérifier).</p>
</div>
</div>
<div class="section" id="generation-des-magasins-de-certificats">
<h2>8.2.4. Génération des magasins de certificats<a class="headerlink" href="#generation-des-magasins-de-certificats" title="Lien permanent vers ce titre">¶</a></h2>
<p>En prérequis, les certificats et les autorités de certification doivent être présents dans les répertoires attendus.</p>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">Avant de lancer le script de génération des stores, il est nécessaire de modifier le vault contenant les mots de passe des stores: <code class="docutils literal"><span class="pre">environmements/group_vars/all/vault-keystores.yml</span></code>, décrit dans la section <a class="reference internal" href="../packages/fresh_install.html#pkiconfsection"><span class="std std-ref">PKI</span></a>.</p>
</div>
<p>Lancer le script :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./generate_stores.sh
</pre></div>
</div>
<p>Ci-dessous un exemple de sortie du script :</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> -------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> Creation du keystore de access-external pour le serveur localhost
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> Génération du p12
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> Génération du jks
Entry <span class="k">for</span> <span class="nb">alias</span> access-external successfully imported.
Import <span class="nb">command</span> completed:  <span class="m">1</span> entries successfully imported, <span class="m">0</span> entries failed or cancelled
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> Suppression du p12
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> -------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> Creation du keystore de ingest-external pour le serveur localhost
    <span class="o">[</span>...<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> -------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span>generate_stores.sh<span class="o">]</span> Fin de la génération des stores
</pre></div>
</div>
<p>Ce script génère sous <code class="docutils literal"><span class="pre">environmements/keystores</span></code> les stores (jks / p12) associés pour un bon fonctionnement dans VITAM.</p>
<p>Il est aussi possible de déposer directement les keystores au bon format en remplaçant ceux fournis par défaut, en indiquant les mots de passe d&#8217;accès dans le vault: <code class="docutils literal"><span class="pre">environmements/group_vars/all/vault-keystores.yml</span></code></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pki_externe.html" class="btn btn-neutral float-right" title="8.3. Cas 2: Je dispose d’une PKI" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction_certificats.html" class="btn btn-neutral" title="8.1. Introduction sur les certificats dans Vitam" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Ce document est distribué sous les termes de la Licence Ouverte V2.0.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.20.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>